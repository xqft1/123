import{a as u}from"./chunk-IHNDUXP4.js";import"./chunk-F74MWPN7.js";import{a as x}from"./chunk-62KIKAXV.js";import{c as M}from"./chunk-OJD6CVD7.js";import{a as N,b as S,c as C,d as L,e as w,f as O,g as B,h as F,i as P,j as U,k as _,l as V,m as H,n as T}from"./chunk-3CTNWJOV.js";var p=(e=>(e.SYMBOL="icrc1:symbol",e.NAME="icrc1:name",e.DECIMALS="icrc1:decimals",e.FEE="icrc1:fee",e.LOGO="icrc1:logo",e))(p||{});import{Principal as m}from"@dfinity/principal";import{bigEndianCrc32 as l,encodeBase32 as I,hexStringToUint8Array as g,isNullish as d,nonNullish as a,notEmptyString as y,uint8ArrayToHexString as k}from"@dfinity/utils";var A=64,z=({owner:t,subaccount:n})=>{if(d(n))return t.toText();let r=(c=>c.replace(/^0+/,""))(k(Uint8Array.from(n)));return r.length===0?t.toText():`${t.toText()}-${f({owner:t,subaccount:n})}.${r}`},f=({owner:t,subaccount:n})=>{let o=l(Uint8Array.from([...t.toUint8Array(),...n]));return I(o)},D=t=>{let[n,o,...r]=t.split(".");if(!y(n))throw new Error("Invalid account. No string provided.");if(r.length>0)throw new Error("Invalid account string format. Expected at most one '.' separator.");if(d(o))return{owner:m.fromText(t)};let[c,...e]=n.split("-").reverse(),i=e.reverse().join("-"),s={owner:m.fromText(i),subaccount:g(o.padStart(A,"0"))};if(f(s)!==c)throw new Error("Invalid account. Invalid checksum.");return s},X=t=>{let n=t.reduce((r,[c,e])=>{switch(c){case"icrc1:symbol":r={...r,..."Text"in e&&{symbol:e.Text}};break;case"icrc1:name":r={...r,..."Text"in e&&{name:e.Text}};break;case"icrc1:fee":r={...r,..."Nat"in e&&{fee:e.Nat}};break;case"icrc1:decimals":r={...r,..."Nat"in e&&{decimals:Number(e.Nat)}};break;case"icrc1:logo":r={...r,..."Text"in e&&{icon:e.Text}}}return r},{});if((r=>a(r.symbol)&&a(r.name)&&a(r.fee)&&a(r.decimals))(n))return n};import{isNullish as b,nonNullish as E}from"@dfinity/utils";var q=t=>{let n=/^([a-zA-Z]+):([A-Za-z0-9:\-.]+).*?(?:[?&](?:amount|value)=(\d+(?:\.\d+)?))?$/,o=t.match(n);if(b(o))return;let[r,c,e,i]=o;return{token:c,identifier:e,...E(i)&&!isNaN(parseFloat(i))&&{amount:parseFloat(i)}}};export{B as ConsentMessageError,U as ConsentMessageUnavailableError,O as GenericError,x as IcrcIndexCanister,u as IcrcIndexNgCanister,T as IcrcLedgerCanister,p as IcrcMetadataResponseEntries,w as IcrcTransferError,M as IndexError,V as IndexPrincipalNotSetError,F as InsufficientPaymentError,P as UnsupportedCanisterCallError,D as decodeIcrcAccount,q as decodePayment,z as encodeIcrcAccount,H as mapIcrc106GetIndexPrincipalError,_ as mapIcrc21ConsentMessageError,X as mapTokenMetadata,C as toApproveArgs,L as toIcrc21ConsentMessageArgs,N as toTransferArg,S as toTransferFromArgs};
//# sourceMappingURL=index.js.map
