import{a as _,c as R}from"./chunk-OJD6CVD7.js";import{Canister as T,createServices as A}from"@dfinity/utils";var f=({IDL:t})=>{let c=t.Record({ledger_id:t.Principal}),r=t.Nat,e=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),n=t.Record({max_results:t.Nat,start:t.Opt(r),account:e}),o=t.Record({from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),s=t.Record({to:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),i=t.Record({fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,expected_allowance:t.Opt(t.Nat),expires_at:t.Opt(t.Nat64),spender:e}),p=t.Record({to:e,fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),d=t.Record({burn:t.Opt(o),kind:t.Text,mint:t.Opt(s),approve:t.Opt(i),timestamp:t.Nat64,transfer:t.Opt(p)}),m=t.Record({id:r,transaction:d}),u=t.Record({transactions:t.Vec(m),oldest_tx_id:t.Opt(r)}),O=t.Record({message:t.Text}),l=t.Variant({Ok:u,Err:O}),a=t.Vec(t.Nat8),N=t.Record({owner:t.Principal,start:t.Opt(a)});return t.Service({get_account_transactions:t.Func([n],[l],[]),ledger_id:t.Func([],[t.Principal],[]),list_subaccounts:t.Func([N],[t.Vec(a)],[])})};var g=({IDL:t})=>{let c=t.Record({ledger_id:t.Principal}),r=t.Nat,e=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),n=t.Record({max_results:t.Nat,start:t.Opt(r),account:e}),o=t.Record({from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),s=t.Record({to:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),i=t.Record({fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,expected_allowance:t.Opt(t.Nat),expires_at:t.Opt(t.Nat64),spender:e}),p=t.Record({to:e,fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),d=t.Record({burn:t.Opt(o),kind:t.Text,mint:t.Opt(s),approve:t.Opt(i),timestamp:t.Nat64,transfer:t.Opt(p)}),m=t.Record({id:r,transaction:d}),u=t.Record({transactions:t.Vec(m),oldest_tx_id:t.Opt(r)}),O=t.Record({message:t.Text}),l=t.Variant({Ok:u,Err:O}),a=t.Vec(t.Nat8),N=t.Record({owner:t.Principal,start:t.Opt(a)});return t.Service({get_account_transactions:t.Func([n],[l],[]),ledger_id:t.Func([],[t.Principal],["query"]),list_subaccounts:t.Func([N],[t.Vec(a)],["query"])})};var x=class t extends T{static create(c){let{service:r,certifiedService:e,canisterId:n}=A({options:c,idlFactory:g,certifiedIdlFactory:f});return new t(n,r,e)}getTransactions=async c=>{let r=await this.caller({certified:!0}).get_account_transactions(_(c));if("Err"in r)throw new R(r.Err.message);return r.Ok};ledgerId=c=>{let{ledger_id:r}=this.caller(c);return r()}};export{x as a};
//# sourceMappingURL=chunk-62KIKAXV.js.map
