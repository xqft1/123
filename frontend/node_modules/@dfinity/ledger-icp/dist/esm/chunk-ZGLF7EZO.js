import{b as g,d as f}from"./chunk-RICWDU7Z.js";import{Canister as V,createServices as b,toNullable as F}from"@dfinity/utils";var A=({IDL:t})=>{let o=t.Record({ledger_id:t.Principal}),n=t.Record({max_results:t.Nat64,start:t.Opt(t.Nat64),account_identifier:t.Text}),e=t.Record({e8s:t.Nat64}),c=t.Record({timestamp_nanos:t.Nat64}),r=t.Variant({Approve:t.Record({fee:e,from:t.Text,allowance:e,expected_allowance:t.Opt(e),expires_at:t.Opt(c),spender:t.Text}),Burn:t.Record({from:t.Text,amount:e,spender:t.Opt(t.Text)}),Mint:t.Record({to:t.Text,amount:e}),Transfer:t.Record({to:t.Text,fee:e,from:t.Text,amount:e,spender:t.Opt(t.Text)})}),d=t.Record({memo:t.Nat64,icrc1_memo:t.Opt(t.Vec(t.Nat8)),operation:r,timestamp:t.Opt(c),created_at_time:t.Opt(c)}),u=t.Record({id:t.Nat64,transaction:d}),p=t.Record({balance:t.Nat64,transactions:t.Vec(u),oldest_tx_id:t.Opt(t.Nat64)}),l=t.Record({message:t.Text}),a=t.Variant({Ok:p,Err:l}),s=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),m=t.Record({max_results:t.Nat,start:t.Opt(t.Nat),account:s}),_=t.Record({start:t.Nat,length:t.Nat}),T=t.Record({blocks:t.Vec(t.Vec(t.Nat8)),chain_length:t.Nat64}),x=t.Record({url:t.Text,method:t.Text,body:t.Vec(t.Nat8),headers:t.Vec(t.Tuple(t.Text,t.Text))}),R=t.Record({body:t.Vec(t.Nat8),headers:t.Vec(t.Tuple(t.Text,t.Text)),status_code:t.Nat16}),N=t.Record({num_blocks_synced:t.Nat64});return t.Service({get_account_identifier_balance:t.Func([t.Text],[t.Nat64],[]),get_account_identifier_transactions:t.Func([n],[a],[]),get_account_transactions:t.Func([m],[a],[]),get_blocks:t.Func([_],[T],[]),http_request:t.Func([x],[R],[]),icrc1_balance_of:t.Func([s],[t.Nat64],[]),ledger_id:t.Func([],[t.Principal],[]),status:t.Func([],[N],[])})};var O=({IDL:t})=>{let o=t.Record({ledger_id:t.Principal}),n=t.Record({max_results:t.Nat64,start:t.Opt(t.Nat64),account_identifier:t.Text}),e=t.Record({e8s:t.Nat64}),c=t.Record({timestamp_nanos:t.Nat64}),r=t.Variant({Approve:t.Record({fee:e,from:t.Text,allowance:e,expected_allowance:t.Opt(e),expires_at:t.Opt(c),spender:t.Text}),Burn:t.Record({from:t.Text,amount:e,spender:t.Opt(t.Text)}),Mint:t.Record({to:t.Text,amount:e}),Transfer:t.Record({to:t.Text,fee:e,from:t.Text,amount:e,spender:t.Opt(t.Text)})}),d=t.Record({memo:t.Nat64,icrc1_memo:t.Opt(t.Vec(t.Nat8)),operation:r,timestamp:t.Opt(c),created_at_time:t.Opt(c)}),u=t.Record({id:t.Nat64,transaction:d}),p=t.Record({balance:t.Nat64,transactions:t.Vec(u),oldest_tx_id:t.Opt(t.Nat64)}),l=t.Record({message:t.Text}),a=t.Variant({Ok:p,Err:l}),s=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),m=t.Record({max_results:t.Nat,start:t.Opt(t.Nat),account:s}),_=t.Record({start:t.Nat,length:t.Nat}),T=t.Record({blocks:t.Vec(t.Vec(t.Nat8)),chain_length:t.Nat64}),x=t.Record({url:t.Text,method:t.Text,body:t.Vec(t.Nat8),headers:t.Vec(t.Tuple(t.Text,t.Text))}),R=t.Record({body:t.Vec(t.Nat8),headers:t.Vec(t.Tuple(t.Text,t.Text)),status_code:t.Nat16}),N=t.Record({num_blocks_synced:t.Nat64});return t.Service({get_account_identifier_balance:t.Func([t.Text],[t.Nat64],["query"]),get_account_identifier_transactions:t.Func([n],[a],["query"]),get_account_transactions:t.Func([m],[a],["query"]),get_blocks:t.Func([_],[T],["query"]),http_request:t.Func([x],[R],["query"]),icrc1_balance_of:t.Func([s],[t.Nat64],["query"]),ledger_id:t.Func([],[t.Principal],["query"]),status:t.Func([],[N],["query"])})};var i=class extends Error{};var y=class t extends V{static create({canisterId:o,...n}){let{service:e,certifiedService:c,canisterId:r}=b({options:{...n,canisterId:o??g},idlFactory:O,certifiedIdlFactory:A});return new t(r,e,c)}accountBalance=({certified:o,accountIdentifier:n})=>this.caller({certified:o}).get_account_identifier_balance(f(n));getTransactions=async({certified:o,accountIdentifier:n,start:e,maxResults:c})=>{let r=await this.caller({certified:o}).get_account_identifier_transactions({account_identifier:f(n),start:F(e),max_results:c});if("Err"in r)throw new i(r.Err.message);return r.Ok}};export{y as a};
//# sourceMappingURL=chunk-ZGLF7EZO.js.map
