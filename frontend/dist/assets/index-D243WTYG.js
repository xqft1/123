var Ew=Object.defineProperty;var bw=(e,t,n)=>t in e?Ew(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tn=(e,t,n)=>bw(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mp={exports:{}},mu={},Vp={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),Tw=Symbol.for("react.portal"),Nw=Symbol.for("react.fragment"),Bw=Symbol.for("react.strict_mode"),Aw=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),Rw=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),Iw=Symbol.for("react.suspense"),Fw=Symbol.for("react.memo"),Cw=Symbol.for("react.lazy"),Sh=Symbol.iterator;function Uw(e){return e===null||typeof e!="object"?null:(e=Sh&&e[Sh]||e["@@iterator"],typeof e=="function"?e:null)}var $p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zp=Object.assign,jp={};function Yo(e,t,n){this.props=e,this.context=t,this.refs=jp,this.updater=n||$p}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qp(){}qp.prototype=Yo.prototype;function ud(e,t,n){this.props=e,this.context=t,this.refs=jp,this.updater=n||$p}var ld=ud.prototype=new qp;ld.constructor=ud;zp(ld,Yo.prototype);ld.isPureReactComponent=!0;var Th=Array.isArray,Lp=Object.prototype.hasOwnProperty,fd={current:null},Gp={key:!0,ref:!0,__self:!0,__source:!0};function Hp(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Lp.call(t,r)&&!Gp.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:aa,type:e,key:o,ref:s,props:i,_owner:fd.current}}function Pw(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function Mw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nh=/\/+/g;function Zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mw(""+e.key):t.toString(36)}function Ja(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case aa:case Tw:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Zu(s,0):r,Th(i)?(n="",e!=null&&(n=e.replace(Nh,"$&/")+"/"),Ja(i,t,n,"",function(d){return d})):i!=null&&(dd(i)&&(i=Pw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Nh,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Th(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Zu(o,a);s+=Ja(o,t,n,c,i)}else if(c=Uw(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Zu(o,a++),s+=Ja(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ba(e,t,n){if(e==null)return e;var r=[],i=0;return Ja(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Vw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},ec={transition:null},$w={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:fd};function Kp(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ba,forEach:function(e,t,n){ba(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Yo;Pe.Fragment=Nw;Pe.Profiler=Aw;Pe.PureComponent=ud;Pe.StrictMode=Bw;Pe.Suspense=Iw;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w;Pe.act=Kp;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=fd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Lp.call(t,c)&&!Gp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:aa,type:e.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(e){return e={$$typeof:Rw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kw,_context:e},e.Consumer=e};Pe.createElement=Hp;Pe.createFactory=function(e){var t=Hp.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:Ow,render:e}};Pe.isValidElement=dd;Pe.lazy=function(e){return{$$typeof:Cw,_payload:{_status:-1,_result:e},_init:Vw}};Pe.memo=function(e,t){return{$$typeof:Fw,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=ec.transition;ec.transition={};try{e()}finally{ec.transition=t}};Pe.unstable_act=Kp;Pe.useCallback=function(e,t){return Jt.current.useCallback(e,t)};Pe.useContext=function(e){return Jt.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return Jt.current.useEffect(e,t)};Pe.useId=function(){return Jt.current.useId()};Pe.useImperativeHandle=function(e,t,n){return Jt.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return Jt.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return Jt.current.useReducer(e,t,n)};Pe.useRef=function(e){return Jt.current.useRef(e)};Pe.useState=function(e){return Jt.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return Jt.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return Jt.current.useTransition()};Pe.version="18.3.1";Vp.exports=Pe;var ft=Vp.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=ft,jw=Symbol.for("react.element"),qw=Symbol.for("react.fragment"),Lw=Object.prototype.hasOwnProperty,Gw=zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hw={key:!0,ref:!0,__self:!0,__source:!0};function Wp(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Lw.call(t,r)&&!Hw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jw,type:e,key:o,ref:s,props:i,_owner:Gw.current}}mu.Fragment=qw;mu.jsx=Wp;mu.jsxs=Wp;Mp.exports=mu;var Dp=Mp.exports,Yp={exports:{}},gn={},Zp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,re){var ie=J.length;J.push(re);e:for(;0<ie;){var oe=ie-1>>>1,te=J[oe];if(0<i(te,re))J[oe]=re,J[ie]=te,ie=oe;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var re=J[0],ie=J.pop();if(ie!==re){J[0]=ie;e:for(var oe=0,te=J.length,Ne=te>>>1;oe<Ne;){var A=2*(oe+1)-1,Se=J[A],Ce=A+1,Fe=J[Ce];if(0>i(Se,ie))Ce<te&&0>i(Fe,Se)?(J[oe]=Fe,J[Ce]=ie,oe=Ce):(J[oe]=Se,J[A]=ie,oe=A);else if(Ce<te&&0>i(Fe,ie))J[oe]=Fe,J[Ce]=ie,oe=Ce;else break e}}return re}function i(J,re){var ie=J.sortIndex-re.sortIndex;return ie!==0?ie:J.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],d=[],v=1,w=null,p=3,x=!1,T=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(J){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=J)r(d),re.sortIndex=re.expirationTime,t(c,re);else break;re=n(d)}}function M(J){if(F=!1,b(J),!T)if(n(c)!==null)T=!0,de($);else{var re=n(d);re!==null&&we(M,re.startTime-J)}}function $(J,re){T=!1,F&&(F=!1,S(D),D=-1),x=!0;var ie=p;try{for(b(re),w=n(c);w!==null&&(!(w.expirationTime>re)||J&&!ae());){var oe=w.callback;if(typeof oe=="function"){w.callback=null,p=w.priorityLevel;var te=oe(w.expirationTime<=re);re=e.unstable_now(),typeof te=="function"?w.callback=te:w===n(c)&&r(c),b(re)}else r(c);w=n(c)}if(w!==null)var Ne=!0;else{var A=n(d);A!==null&&we(M,A.startTime-re),Ne=!1}return Ne}finally{w=null,p=ie,x=!1}}var V=!1,P=null,D=-1,L=5,z=-1;function ae(){return!(e.unstable_now()-z<L)}function se(){if(P!==null){var J=e.unstable_now();z=J;var re=!0;try{re=P(!0,J)}finally{re?X():(V=!1,P=null)}}else V=!1}var X;if(typeof E=="function")X=function(){E(se)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=se,X=function(){ce.postMessage(null)}}else X=function(){W(se,0)};function de(J){P=J,V||(V=!0,X())}function we(J,re){D=W(function(){J(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){T||x||(T=!0,de($))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(J){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var ie=p;p=re;try{return J()}finally{p=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ie=p;p=J;try{return re()}finally{p=ie}},e.unstable_scheduleCallback=function(J,re,ie){var oe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?oe+ie:oe):ie=oe,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ie+te,J={id:v++,callback:re,priorityLevel:J,startTime:ie,expirationTime:te,sortIndex:-1},ie>oe?(J.sortIndex=ie,t(d,J),n(c)===null&&J===n(d)&&(F?(S(D),D=-1):F=!0,we(M,ie-oe))):(J.sortIndex=te,t(c,J),T||x||(T=!0,de($))),J},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(J){var re=p;return function(){var ie=p;p=re;try{return J.apply(this,arguments)}finally{p=ie}}}})(Xp);Zp.exports=Xp;var Kw=Zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=ft,mn=Kw;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qp=new Set,Fs={};function Hi(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(Fs[e]=t,e=0;e<t.length;e++)Qp.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,Dw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bh={},Ah={};function Yw(e){return Xl.call(Ah,e)?!0:Xl.call(Bh,e)?!1:Dw.test(e)?Ah[e]=!0:(Bh[e]=!0,!1)}function Zw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xw(e,t,n,r){if(t===null||typeof t>"u"||Zw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function pd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hd,pd);Ft[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hd,pd);Ft[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hd,pd);Ft[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function yd(e,t,n,r){var i=Ft.hasOwnProperty(t)?Ft[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xw(t,n,i,r)&&(n=null),r||i===null?Yw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rr=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),ho=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),md=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),ey=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),kh=Symbol.iterator;function ns(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Xu;function hs(e){if(Xu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xu=t&&t[1]||""}return`
`+Xu+e}var Qu=!1;function Ju(e,t){if(!e||Qu)return"";Qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{Qu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function Qw(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Ju(e.type,!1),e;case 11:return e=Ju(e.type.render,!1),e;case 1:return e=Ju(e.type,!0),e;default:return""}}function tf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case ho:return"Portal";case Ql:return"Profiler";case md:return"StrictMode";case Jl:return"Suspense";case ef:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Jp:return(e._context.displayName||"Context")+".Provider";case gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wd:return t=e.displayName||null,t!==null?t:tf(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return tf(e(t))}catch{}}return null}function Jw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tf(t);case 8:return t===md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e_(e){var t=ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ta(e){e._valueTracker||(e._valueTracker=e_(e))}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nf(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ci(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&yd(e,"checked",t,!1)}function rf(e,t){iy(e,t);var n=ci(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?of(e,t.type,n):t.hasOwnProperty("defaultValue")&&of(e,t.type,ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function of(e,t,n){(t!=="number"||Ic(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function Ao(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ci(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ih(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(ps(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ci(n)}}function oy(e,t){var n=ci(t.value),r=ci(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function af(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t_=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){t_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function cy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var n_=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cf(e,t){if(t){if(n_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function uf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ff=null,ko=null,Ro=null;function Ch(e){if(e=la(e)){if(typeof ff!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=xu(t),ff(e.stateNode,e.type,t))}}function ly(e){ko?Ro?Ro.push(e):Ro=[e]:ko=e}function fy(){if(ko){var e=ko,t=Ro;if(Ro=ko=null,Ch(e),t)for(e=0;e<t.length;e++)Ch(t[e])}}function dy(e,t){return e(t)}function hy(){}var el=!1;function py(e,t,n){if(el)return e(t,n);el=!0;try{return dy(e,t,n)}finally{el=!1,(ko!==null||Ro!==null)&&(hy(),fy())}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var r=xu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var df=!1;if(Tr)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){df=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{df=!1}function r_(e,t,n,r,i,o,s,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(v){this.onError(v)}}var Ss=!1,Fc=null,Cc=!1,hf=null,i_={onError:function(e){Ss=!0,Fc=e}};function o_(e,t,n,r,i,o,s,a,c){Ss=!1,Fc=null,r_.apply(i_,arguments)}function s_(e,t,n,r,i,o,s,a,c){if(o_.apply(this,arguments),Ss){if(Ss){var d=Fc;Ss=!1,Fc=null}else throw Error(fe(198));Cc||(Cc=!0,hf=d)}}function Ki(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uh(e){if(Ki(e)!==e)throw Error(fe(188))}function a_(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Uh(i),e;if(o===r)return Uh(i),t;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function my(e){return e=a_(e),e!==null?gy(e):null}function gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gy(e);if(t!==null)return t;e=e.sibling}return null}var wy=mn.unstable_scheduleCallback,Ph=mn.unstable_cancelCallback,c_=mn.unstable_shouldYield,u_=mn.unstable_requestPaint,ht=mn.unstable_now,l_=mn.unstable_getCurrentPriorityLevel,vd=mn.unstable_ImmediatePriority,_y=mn.unstable_UserBlockingPriority,Uc=mn.unstable_NormalPriority,f_=mn.unstable_LowPriority,vy=mn.unstable_IdlePriority,gu=null,ir=null;function d_(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(gu,e,void 0,(e.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:y_,h_=Math.log,p_=Math.LN2;function y_(e){return e>>>=0,e===0?32:31-(h_(e)/p_|0)|0}var Ba=64,Aa=4194304;function ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ys(a):(o&=s,o!==0&&(r=ys(o)))}else s=n&~i,s!==0?r=ys(s):o!==0&&(r=ys(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zn(t),i=1<<n,r|=e[n],t&=~i;return r}function m_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-zn(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=m_(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function pf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xy(){var e=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ca(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zn(t),e[t]=n}function w_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function xd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var He=0;function Ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var by,Ed,Sy,Ty,Ny,yf=!1,ka=[],Qr=null,Jr=null,ei=null,Ps=new Map,Ms=new Map,Kr=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(t.pointerId)}}function is(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=la(t),t!==null&&Ed(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function v_(e,t,n,r,i){switch(t){case"focusin":return Qr=is(Qr,e,t,n,r,i),!0;case"dragenter":return Jr=is(Jr,e,t,n,r,i),!0;case"mouseover":return ei=is(ei,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ps.set(o,is(Ps.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ms.set(o,is(Ms.get(o)||null,e,t,n,r,i)),!0}return!1}function By(e){var t=Si(e.target);if(t!==null){var n=Ki(t);if(n!==null){if(t=n.tag,t===13){if(t=yy(n),t!==null){e.blockedOn=t,Ny(e.priority,function(){Sy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return t=la(n),t!==null&&Ed(t),e.blockedOn=n,!1;t.shift()}return!0}function Vh(e,t,n){tc(e)&&n.delete(t)}function x_(){yf=!1,Qr!==null&&tc(Qr)&&(Qr=null),Jr!==null&&tc(Jr)&&(Jr=null),ei!==null&&tc(ei)&&(ei=null),Ps.forEach(Vh),Ms.forEach(Vh)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,yf||(yf=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,x_)))}function Vs(e){function t(i){return os(i,e)}if(0<ka.length){os(ka[0],e);for(var n=1;n<ka.length;n++){var r=ka[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qr!==null&&os(Qr,e),Jr!==null&&os(Jr,e),ei!==null&&os(ei,e),Ps.forEach(t),Ms.forEach(t),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)By(n),n.blockedOn===null&&Kr.shift()}var Oo=Rr.ReactCurrentBatchConfig,Mc=!0;function E_(e,t,n,r){var i=He,o=Oo.transition;Oo.transition=null;try{He=1,bd(e,t,n,r)}finally{He=i,Oo.transition=o}}function b_(e,t,n,r){var i=He,o=Oo.transition;Oo.transition=null;try{He=4,bd(e,t,n,r)}finally{He=i,Oo.transition=o}}function bd(e,t,n,r){if(Mc){var i=mf(e,t,n,r);if(i===null)fl(e,t,r,Vc,n),Mh(e,r);else if(v_(i,e,t,n,r))r.stopPropagation();else if(Mh(e,r),t&4&&-1<__.indexOf(e)){for(;i!==null;){var o=la(i);if(o!==null&&by(o),o=mf(e,t,n,r),o===null&&fl(e,t,r,Vc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fl(e,t,r,null,n)}}var Vc=null;function mf(e,t,n,r){if(Vc=null,e=_d(r),e=Si(e),e!==null)if(t=Ki(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function Ay(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l_()){case vd:return 1;case _y:return 4;case Uc:case f_:return 16;case vy:return 536870912;default:return 16}default:return 16}}var Yr=null,Sd=null,nc=null;function ky(){if(nc)return nc;var e,t=Sd,n=t.length,r,i="value"in Yr?Yr.value:Yr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return nc=i.slice(e,1<r?1-r:void 0)}function rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function $h(){return!1}function wn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ra:$h,this.isPropagationStopped=$h,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Td=wn(Zo),ua=st({},Zo,{view:0,detail:0}),S_=wn(ua),nl,rl,ss,wu=st({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(nl=e.screenX-ss.screenX,rl=e.screenY-ss.screenY):rl=nl=0,ss=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),zh=wn(wu),T_=st({},wu,{dataTransfer:0}),N_=wn(T_),B_=st({},ua,{relatedTarget:0}),il=wn(B_),A_=st({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),k_=wn(A_),R_=st({},Zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O_=wn(R_),I_=st({},Zo,{data:0}),jh=wn(I_),F_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U_[e])?!!t[e]:!1}function Nd(){return P_}var M_=st({},ua,{key:function(e){if(e.key){var t=F_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(e){return e.type==="keypress"?rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V_=wn(M_),$_=st({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qh=wn($_),z_=st({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),j_=wn(z_),q_=st({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),L_=wn(q_),G_=st({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H_=wn(G_),K_=[9,13,27,32],Bd=Tr&&"CompositionEvent"in window,Ts=null;Tr&&"documentMode"in document&&(Ts=document.documentMode);var W_=Tr&&"TextEvent"in window&&!Ts,Ry=Tr&&(!Bd||Ts&&8<Ts&&11>=Ts),Lh=" ",Gh=!1;function Oy(e,t){switch(e){case"keyup":return K_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yo=!1;function D_(e,t){switch(e){case"compositionend":return Iy(t);case"keypress":return t.which!==32?null:(Gh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Gh?null:e;default:return null}}function Y_(e,t){if(yo)return e==="compositionend"||!Bd&&Oy(e,t)?(e=ky(),nc=Sd=Yr=null,yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ry&&t.locale!=="ko"?null:t.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z_[e.type]:t==="textarea"}function Fy(e,t,n,r){ly(r),t=$c(t,"onChange"),0<t.length&&(n=new Td("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ns=null,$s=null;function X_(e){Gy(e,0)}function _u(e){var t=wo(e);if(ry(t))return e}function Q_(e,t){if(e==="change")return t}var Cy=!1;if(Tr){var ol;if(Tr){var sl="oninput"in document;if(!sl){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),sl=typeof Kh.oninput=="function"}ol=sl}else ol=!1;Cy=ol&&(!document.documentMode||9<document.documentMode)}function Wh(){Ns&&(Ns.detachEvent("onpropertychange",Uy),$s=Ns=null)}function Uy(e){if(e.propertyName==="value"&&_u($s)){var t=[];Fy(t,$s,e,_d(e)),py(X_,t)}}function J_(e,t,n){e==="focusin"?(Wh(),Ns=t,$s=n,Ns.attachEvent("onpropertychange",Uy)):e==="focusout"&&Wh()}function ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u($s)}function tv(e,t){if(e==="click")return _u(t)}function nv(e,t){if(e==="input"||e==="change")return _u(t)}function rv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:rv;function zs(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xl.call(t,i)||!Ln(e[i],t[i]))return!1}return!0}function Dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yh(e,t){var n=Dh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dh(n)}}function Py(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Py(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function My(){for(var e=window,t=Ic();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ic(e.document)}return t}function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iv(e){var t=My(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Py(n.ownerDocument.documentElement,n)){if(r!==null&&Ad(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Yh(n,o);var s=Yh(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ov=Tr&&"documentMode"in document&&11>=document.documentMode,mo=null,gf=null,Bs=null,wf=!1;function Zh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||mo==null||mo!==Ic(r)||(r=mo,"selectionStart"in r&&Ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bs&&zs(Bs,r)||(Bs=r,r=$c(gf,"onSelect"),0<r.length&&(t=new Td("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mo)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var go={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},al={},Vy={};Tr&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function vu(e){if(al[e])return al[e];if(!go[e])return e;var t=go[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vy)return al[e]=t[n];return e}var $y=vu("animationend"),zy=vu("animationiteration"),jy=vu("animationstart"),qy=vu("transitionend"),Ly=new Map,Xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){Ly.set(e,t),Hi(t,[e])}for(var cl=0;cl<Xh.length;cl++){var ul=Xh[cl],sv=ul.toLowerCase(),av=ul[0].toUpperCase()+ul.slice(1);li(sv,"on"+av)}li($y,"onAnimationEnd");li(zy,"onAnimationIteration");li(jy,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(qy,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Qh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,s_(r,t,void 0,e),e.currentTarget=null}function Gy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Qh(i,a,d),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Qh(i,a,d),o=c}}}if(Cc)throw e=hf,Cc=!1,hf=null,e}function et(e,t){var n=t[bf];n===void 0&&(n=t[bf]=new Set);var r=e+"__bubble";n.has(r)||(Hy(t,e,2,!1),n.add(r))}function ll(e,t,n){var r=0;t&&(r|=4),Hy(n,e,r,t)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[Ia]){e[Ia]=!0,Qp.forEach(function(n){n!=="selectionchange"&&(cv.has(n)||ll(n,!1,e),ll(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ia]||(t[Ia]=!0,ll("selectionchange",!1,t))}}function Hy(e,t,n,r){switch(Ay(t)){case 1:var i=E_;break;case 4:i=b_;break;default:i=bd}n=i.bind(null,t,n,e),i=void 0,!df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Si(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}py(function(){var d=o,v=_d(n),w=[];e:{var p=Ly.get(e);if(p!==void 0){var x=Td,T=e;switch(e){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":x=V_;break;case"focusin":T="focus",x=il;break;case"focusout":T="blur",x=il;break;case"beforeblur":case"afterblur":x=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=j_;break;case $y:case zy:case jy:x=k_;break;case qy:x=L_;break;case"scroll":x=S_;break;case"wheel":x=H_;break;case"copy":case"cut":case"paste":x=O_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=qh}var F=(t&4)!==0,W=!F&&e==="scroll",S=F?p!==null?p+"Capture":null:p;F=[];for(var E=d,b;E!==null;){b=E;var M=b.stateNode;if(b.tag===5&&M!==null&&(b=M,S!==null&&(M=Us(E,S),M!=null&&F.push(qs(E,M,b)))),W)break;E=E.return}0<F.length&&(p=new x(p,T,null,n,v),w.push({event:p,listeners:F}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==lf&&(T=n.relatedTarget||n.fromElement)&&(Si(T)||T[Nr]))break e;if((x||p)&&(p=v.window===v?v:(p=v.ownerDocument)?p.defaultView||p.parentWindow:window,x?(T=n.relatedTarget||n.toElement,x=d,T=T?Si(T):null,T!==null&&(W=Ki(T),T!==W||T.tag!==5&&T.tag!==6)&&(T=null)):(x=null,T=d),x!==T)){if(F=zh,M="onMouseLeave",S="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(F=qh,M="onPointerLeave",S="onPointerEnter",E="pointer"),W=x==null?p:wo(x),b=T==null?p:wo(T),p=new F(M,E+"leave",x,n,v),p.target=W,p.relatedTarget=b,M=null,Si(v)===d&&(F=new F(S,E+"enter",T,n,v),F.target=b,F.relatedTarget=W,M=F),W=M,x&&T)t:{for(F=x,S=T,E=0,b=F;b;b=Yi(b))E++;for(b=0,M=S;M;M=Yi(M))b++;for(;0<E-b;)F=Yi(F),E--;for(;0<b-E;)S=Yi(S),b--;for(;E--;){if(F===S||S!==null&&F===S.alternate)break t;F=Yi(F),S=Yi(S)}F=null}else F=null;x!==null&&Jh(w,p,x,F,!1),T!==null&&W!==null&&Jh(w,W,T,F,!0)}}e:{if(p=d?wo(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var $=Q_;else if(Hh(p))if(Cy)$=nv;else{$=ev;var V=J_}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&($=tv);if($&&($=$(e,d))){Fy(w,$,n,v);break e}V&&V(e,p,d),e==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&of(p,"number",p.value)}switch(V=d?wo(d):window,e){case"focusin":(Hh(V)||V.contentEditable==="true")&&(mo=V,gf=d,Bs=null);break;case"focusout":Bs=gf=mo=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Zh(w,n,v);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Zh(w,n,v)}var P;if(Bd)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else yo?Oy(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Ry&&n.locale!=="ko"&&(yo||D!=="onCompositionStart"?D==="onCompositionEnd"&&yo&&(P=ky()):(Yr=v,Sd="value"in Yr?Yr.value:Yr.textContent,yo=!0)),V=$c(d,D),0<V.length&&(D=new jh(D,e,null,n,v),w.push({event:D,listeners:V}),P?D.data=P:(P=Iy(n),P!==null&&(D.data=P)))),(P=W_?D_(e,n):Y_(e,n))&&(d=$c(d,"onBeforeInput"),0<d.length&&(v=new jh("onBeforeInput","beforeinput",null,n,v),w.push({event:v,listeners:d}),v.data=P))}Gy(w,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $c(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Us(e,n),o!=null&&r.unshift(qs(e,o,i)),o=Us(e,t),o!=null&&r.push(qs(e,o,i))),e=e.return}return r}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jh(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,i?(c=Us(n,o),c!=null&&s.unshift(qs(n,c,a))):i||(c=Us(n,o),c!=null&&s.push(qs(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var uv=/\r\n?/g,lv=/\u0000|\uFFFD/g;function e0(e){return(typeof e=="string"?e:""+e).replace(uv,`
`).replace(lv,"")}function Fa(e,t,n){if(t=e0(t),e0(e)!==t&&n)throw Error(fe(425))}function zc(){}var _f=null,vf=null;function xf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,fv=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,dv=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(hv)}:Ef;function hv(e){setTimeout(function(){throw e})}function dl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vs(t)}function ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function n0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),tr="__reactFiber$"+Xo,Ls="__reactProps$"+Xo,Nr="__reactContainer$"+Xo,bf="__reactEvents$"+Xo,pv="__reactListeners$"+Xo,yv="__reactHandles$"+Xo;function Si(e){var t=e[tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=n0(e);e!==null;){if(n=e[tr])return n;e=n0(e)}return t}e=n,n=e.parentNode}return null}function la(e){return e=e[tr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function xu(e){return e[Ls]||null}var Sf=[],_o=-1;function fi(e){return{current:e}}function tt(e){0>_o||(e.current=Sf[_o],Sf[_o]=null,_o--)}function Ye(e,t){_o++,Sf[_o]=e.current,e.current=t}var ui={},Lt=fi(ui),un=fi(!1),Ci=ui;function Vo(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ln(e){return e=e.childContextTypes,e!=null}function jc(){tt(un),tt(Lt)}function r0(e,t,n){if(Lt.current!==ui)throw Error(fe(168));Ye(Lt,t),Ye(un,n)}function Ky(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,Jw(e)||"Unknown",i));return st({},n,r)}function qc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Ci=Lt.current,Ye(Lt,e),Ye(un,un.current),!0}function i0(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=Ky(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,tt(un),tt(Lt),Ye(Lt,e)):tt(un),Ye(un,n)}var pr=null,Eu=!1,hl=!1;function Wy(e){pr===null?pr=[e]:pr.push(e)}function mv(e){Eu=!0,Wy(e)}function di(){if(!hl&&pr!==null){hl=!0;var e=0,t=He;try{var n=pr;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pr=null,Eu=!1}catch(i){throw pr!==null&&(pr=pr.slice(e+1)),wy(vd,di),i}finally{He=t,hl=!1}}return null}var vo=[],xo=0,Lc=null,Gc=0,xn=[],En=0,Ui=null,mr=1,gr="";function mi(e,t){vo[xo++]=Gc,vo[xo++]=Lc,Lc=e,Gc=t}function Dy(e,t,n){xn[En++]=mr,xn[En++]=gr,xn[En++]=Ui,Ui=e;var r=mr;e=gr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var o=32-zn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mr=1<<32-zn(t)+i|n<<i|r,gr=o+e}else mr=1<<o|n<<i|r,gr=e}function kd(e){e.return!==null&&(mi(e,1),Dy(e,1,0))}function Rd(e){for(;e===Lc;)Lc=vo[--xo],vo[xo]=null,Gc=vo[--xo],vo[xo]=null;for(;e===Ui;)Ui=xn[--En],xn[En]=null,gr=xn[--En],xn[En]=null,mr=xn[--En],xn[En]=null}var yn=null,pn=null,rt=!1,Vn=null;function Yy(e,t){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function o0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,pn=ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ui!==null?{id:mr,overflow:gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yn=e,pn=null,!0):!1;default:return!1}}function Tf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nf(e){if(rt){var t=pn;if(t){var n=t;if(!o0(e,t)){if(Tf(e))throw Error(fe(418));t=ti(n.nextSibling);var r=yn;t&&o0(e,t)?Yy(r,n):(e.flags=e.flags&-4097|2,rt=!1,yn=e)}}else{if(Tf(e))throw Error(fe(418));e.flags=e.flags&-4097|2,rt=!1,yn=e}}}function s0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function Ca(e){if(e!==yn)return!1;if(!rt)return s0(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xf(e.type,e.memoizedProps)),t&&(t=pn)){if(Tf(e))throw Zy(),Error(fe(418));for(;t;)Yy(e,t),t=ti(t.nextSibling)}if(s0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pn=ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=yn?ti(e.stateNode.nextSibling):null;return!0}function Zy(){for(var e=pn;e;)e=ti(e.nextSibling)}function $o(){pn=yn=null,rt=!1}function Od(e){Vn===null?Vn=[e]:Vn.push(e)}var gv=Rr.ReactCurrentBatchConfig;function as(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a0(e){var t=e._init;return t(e._payload)}function Xy(e){function t(S,E){if(e){var b=S.deletions;b===null?(S.deletions=[E],S.flags|=16):b.push(E)}}function n(S,E){if(!e)return null;for(;E!==null;)t(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=oi(S,E),S.index=0,S.sibling=null,S}function o(S,E,b){return S.index=b,e?(b=S.alternate,b!==null?(b=b.index,b<E?(S.flags|=2,E):b):(S.flags|=2,E)):(S.flags|=1048576,E)}function s(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,E,b,M){return E===null||E.tag!==6?(E=vl(b,S.mode,M),E.return=S,E):(E=i(E,b),E.return=S,E)}function c(S,E,b,M){var $=b.type;return $===po?v(S,E,b.props.children,M,b.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===zr&&a0($)===E.type)?(M=i(E,b.props),M.ref=as(S,E,b),M.return=S,M):(M=lc(b.type,b.key,b.props,null,S.mode,M),M.ref=as(S,E,b),M.return=S,M)}function d(S,E,b,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=xl(b,S.mode,M),E.return=S,E):(E=i(E,b.children||[]),E.return=S,E)}function v(S,E,b,M,$){return E===null||E.tag!==7?(E=Ii(b,S.mode,M,$),E.return=S,E):(E=i(E,b),E.return=S,E)}function w(S,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=vl(""+E,S.mode,b),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sa:return b=lc(E.type,E.key,E.props,null,S.mode,b),b.ref=as(S,null,E),b.return=S,b;case ho:return E=xl(E,S.mode,b),E.return=S,E;case zr:var M=E._init;return w(S,M(E._payload),b)}if(ps(E)||ns(E))return E=Ii(E,S.mode,b,null),E.return=S,E;Ua(S,E)}return null}function p(S,E,b,M){var $=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return $!==null?null:a(S,E,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sa:return b.key===$?c(S,E,b,M):null;case ho:return b.key===$?d(S,E,b,M):null;case zr:return $=b._init,p(S,E,$(b._payload),M)}if(ps(b)||ns(b))return $!==null?null:v(S,E,b,M,null);Ua(S,b)}return null}function x(S,E,b,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(b)||null,a(E,S,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Sa:return S=S.get(M.key===null?b:M.key)||null,c(E,S,M,$);case ho:return S=S.get(M.key===null?b:M.key)||null,d(E,S,M,$);case zr:var V=M._init;return x(S,E,b,V(M._payload),$)}if(ps(M)||ns(M))return S=S.get(b)||null,v(E,S,M,$,null);Ua(E,M)}return null}function T(S,E,b,M){for(var $=null,V=null,P=E,D=E=0,L=null;P!==null&&D<b.length;D++){P.index>D?(L=P,P=null):L=P.sibling;var z=p(S,P,b[D],M);if(z===null){P===null&&(P=L);break}e&&P&&z.alternate===null&&t(S,P),E=o(z,E,D),V===null?$=z:V.sibling=z,V=z,P=L}if(D===b.length)return n(S,P),rt&&mi(S,D),$;if(P===null){for(;D<b.length;D++)P=w(S,b[D],M),P!==null&&(E=o(P,E,D),V===null?$=P:V.sibling=P,V=P);return rt&&mi(S,D),$}for(P=r(S,P);D<b.length;D++)L=x(P,S,D,b[D],M),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?D:L.key),E=o(L,E,D),V===null?$=L:V.sibling=L,V=L);return e&&P.forEach(function(ae){return t(S,ae)}),rt&&mi(S,D),$}function F(S,E,b,M){var $=ns(b);if(typeof $!="function")throw Error(fe(150));if(b=$.call(b),b==null)throw Error(fe(151));for(var V=$=null,P=E,D=E=0,L=null,z=b.next();P!==null&&!z.done;D++,z=b.next()){P.index>D?(L=P,P=null):L=P.sibling;var ae=p(S,P,z.value,M);if(ae===null){P===null&&(P=L);break}e&&P&&ae.alternate===null&&t(S,P),E=o(ae,E,D),V===null?$=ae:V.sibling=ae,V=ae,P=L}if(z.done)return n(S,P),rt&&mi(S,D),$;if(P===null){for(;!z.done;D++,z=b.next())z=w(S,z.value,M),z!==null&&(E=o(z,E,D),V===null?$=z:V.sibling=z,V=z);return rt&&mi(S,D),$}for(P=r(S,P);!z.done;D++,z=b.next())z=x(P,S,D,z.value,M),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?D:z.key),E=o(z,E,D),V===null?$=z:V.sibling=z,V=z);return e&&P.forEach(function(se){return t(S,se)}),rt&&mi(S,D),$}function W(S,E,b,M){if(typeof b=="object"&&b!==null&&b.type===po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Sa:e:{for(var $=b.key,V=E;V!==null;){if(V.key===$){if($=b.type,$===po){if(V.tag===7){n(S,V.sibling),E=i(V,b.props.children),E.return=S,S=E;break e}}else if(V.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===zr&&a0($)===V.type){n(S,V.sibling),E=i(V,b.props),E.ref=as(S,V,b),E.return=S,S=E;break e}n(S,V);break}else t(S,V);V=V.sibling}b.type===po?(E=Ii(b.props.children,S.mode,M,b.key),E.return=S,S=E):(M=lc(b.type,b.key,b.props,null,S.mode,M),M.ref=as(S,E,b),M.return=S,S=M)}return s(S);case ho:e:{for(V=b.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(S,E.sibling),E=i(E,b.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else t(S,E);E=E.sibling}E=xl(b,S.mode,M),E.return=S,S=E}return s(S);case zr:return V=b._init,W(S,E,V(b._payload),M)}if(ps(b))return T(S,E,b,M);if(ns(b))return F(S,E,b,M);Ua(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,b),E.return=S,S=E):(n(S,E),E=vl(b,S.mode,M),E.return=S,S=E),s(S)):n(S,E)}return W}var zo=Xy(!0),Qy=Xy(!1),Hc=fi(null),Kc=null,Eo=null,Id=null;function Fd(){Id=Eo=Kc=null}function Cd(e){var t=Hc.current;tt(Hc),e._currentValue=t}function Bf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){Kc=e,Id=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(Id!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(Kc===null)throw Error(fe(308));Eo=e,Kc.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Ti=null;function Ud(e){Ti===null?Ti=[e]:Ti.push(e)}function Jy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ud(t)):(n.next=i.next,i.next=n),t.interleaved=n,Br(e,r)}function Br(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jr=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Br(e,n)}return i=r.interleaved,i===null?(t.next=t,Ud(r)):(t.next=i.next,i.next=t),r.interleaved=t,Br(e,n)}function ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xd(e,n)}}function c0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wc(e,t,n,r){var i=e.updateQueue;jr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,s===null?o=d:s.next=d,s=c;var v=e.alternate;v!==null&&(v=v.updateQueue,a=v.lastBaseUpdate,a!==s&&(a===null?v.firstBaseUpdate=d:a.next=d,v.lastBaseUpdate=c))}if(o!==null){var w=i.baseState;s=0,v=d=c=null,a=o;do{var p=a.lane,x=a.eventTime;if((r&p)===p){v!==null&&(v=v.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=e,F=a;switch(p=t,x=n,F.tag){case 1:if(T=F.payload,typeof T=="function"){w=T.call(x,w,p);break e}w=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=F.payload,p=typeof T=="function"?T.call(x,w,p):T,p==null)break e;w=st({},w,p);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},v===null?(d=v=x,c=w):v=v.next=x,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(v===null&&(c=w),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=v,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Mi|=s,e.lanes=s,e.memoizedState=w}}function u0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var fa={},or=fi(fa),Gs=fi(fa),Hs=fi(fa);function Ni(e){if(e===fa)throw Error(fe(174));return e}function Md(e,t){switch(Ye(Hs,t),Ye(Gs,e),Ye(or,fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:af(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=af(t,e)}tt(or),Ye(or,t)}function jo(){tt(or),tt(Gs),tt(Hs)}function tm(e){Ni(Hs.current);var t=Ni(or.current),n=af(t,e.type);t!==n&&(Ye(Gs,e),Ye(or,n))}function Vd(e){Gs.current===e&&(tt(or),tt(Gs))}var it=fi(0);function Dc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pl=[];function $d(){for(var e=0;e<pl.length;e++)pl[e]._workInProgressVersionPrimary=null;pl.length=0}var oc=Rr.ReactCurrentDispatcher,yl=Rr.ReactCurrentBatchConfig,Pi=0,ot=null,wt=null,Tt=null,Yc=!1,As=!1,Ks=0,wv=0;function Ct(){throw Error(fe(321))}function zd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function jd(e,t,n,r,i,o){if(Pi=o,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oc.current=e===null||e.memoizedState===null?Ev:bv,e=n(r,i),As){o=0;do{if(As=!1,Ks=0,25<=o)throw Error(fe(301));o+=1,Tt=wt=null,t.updateQueue=null,oc.current=Sv,e=n(r,i)}while(As)}if(oc.current=Zc,t=wt!==null&&wt.next!==null,Pi=0,Tt=wt=ot=null,Yc=!1,t)throw Error(fe(300));return e}function qd(){var e=Ks!==0;return Ks=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ot.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Bn(){if(wt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Tt===null?ot.memoizedState:Tt.next;if(t!==null)Tt=t,wt=e;else{if(e===null)throw Error(fe(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Tt===null?ot.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Ws(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=Bn(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=wt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,d=o;do{var v=d.lane;if((Pi&v)===v)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var w={lane:v,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=w,s=r):c=c.next=w,ot.lanes|=v,Mi|=v}d=d.next}while(d!==null&&d!==o);c===null?s=r:c.next=a,Ln(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ot.lanes|=o,Mi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gl(e){var t=Bn(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ln(o,t.memoizedState)||(an=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function nm(){}function rm(e,t){var n=ot,r=Bn(),i=t(),o=!Ln(r.memoizedState,i);if(o&&(r.memoizedState=i,an=!0),r=r.queue,Ld(sm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Ds(9,om.bind(null,n,r,i,t),void 0,null),Bt===null)throw Error(fe(349));Pi&30||im(n,t,i)}return i}function im(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function om(e,t,n,r){t.value=n,t.getSnapshot=r,am(t)&&cm(e)}function sm(e,t,n){return n(function(){am(t)&&cm(e)})}function am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function cm(e){var t=Br(e,1);t!==null&&jn(t,e,1,-1)}function l0(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=xv.bind(null,ot,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function um(){return Bn().memoizedState}function sc(e,t,n,r){var i=Qn();ot.flags|=e,i.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function bu(e,t,n,r){var i=Bn();r=r===void 0?null:r;var o=void 0;if(wt!==null){var s=wt.memoizedState;if(o=s.destroy,r!==null&&zd(r,s.deps)){i.memoizedState=Ds(t,n,o,r);return}}ot.flags|=e,i.memoizedState=Ds(1|t,n,o,r)}function f0(e,t){return sc(8390656,8,e,t)}function Ld(e,t){return bu(2048,8,e,t)}function lm(e,t){return bu(4,2,e,t)}function fm(e,t){return bu(4,4,e,t)}function dm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hm(e,t,n){return n=n!=null?n.concat([e]):null,bu(4,4,dm.bind(null,t,e),n)}function Gd(){}function pm(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ym(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mm(e,t,n){return Pi&21?(Ln(n,t)||(n=xy(),ot.lanes|=n,Mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function _v(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=yl.transition;yl.transition={};try{e(!1),t()}finally{He=n,yl.transition=r}}function gm(){return Bn().memoizedState}function vv(e,t,n){var r=ii(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wm(e))_m(t,n);else if(n=Jy(e,t,n,r),n!==null){var i=Qt();jn(n,e,r,i),vm(n,t,r)}}function xv(e,t,n){var r=ii(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wm(e))_m(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ln(a,s)){var c=t.interleaved;c===null?(i.next=i,Ud(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Jy(e,t,i,r),n!==null&&(i=Qt(),jn(n,e,r,i),vm(n,t,r))}}function wm(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function _m(e,t){As=Yc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xd(e,n)}}var Zc={readContext:Nn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Ev={readContext:Nn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:f0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sc(4194308,4,dm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sc(4194308,4,e,t)},useInsertionEffect:function(e,t){return sc(4,2,e,t)},useMemo:function(e,t){var n=Qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vv.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:l0,useDebugValue:Gd,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=l0(!1),t=e[0];return e=_v.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,i=Qn();if(rt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),Bt===null)throw Error(fe(349));Pi&30||im(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,f0(sm.bind(null,r,o,e),[e]),r.flags|=2048,Ds(9,om.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Qn(),t=Bt.identifierPrefix;if(rt){var n=gr,r=mr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bv={readContext:Nn,useCallback:pm,useContext:Nn,useEffect:Ld,useImperativeHandle:hm,useInsertionEffect:lm,useLayoutEffect:fm,useMemo:ym,useReducer:ml,useRef:um,useState:function(){return ml(Ws)},useDebugValue:Gd,useDeferredValue:function(e){var t=Bn();return mm(t,wt.memoizedState,e)},useTransition:function(){var e=ml(Ws)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:rm,useId:gm,unstable_isNewReconciler:!1},Sv={readContext:Nn,useCallback:pm,useContext:Nn,useEffect:Ld,useImperativeHandle:hm,useInsertionEffect:lm,useLayoutEffect:fm,useMemo:ym,useReducer:gl,useRef:um,useState:function(){return gl(Ws)},useDebugValue:Gd,useDeferredValue:function(e){var t=Bn();return wt===null?t.memoizedState=e:mm(t,wt.memoizedState,e)},useTransition:function(){var e=gl(Ws)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:rm,useId:gm,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Af(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Su={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qt(),i=ii(e),o=br(r,i);o.payload=t,n!=null&&(o.callback=n),t=ni(e,o,i),t!==null&&(jn(t,e,i,r),ic(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qt(),i=ii(e),o=br(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ni(e,o,i),t!==null&&(jn(t,e,i,r),ic(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),r=ii(e),i=br(n,r);i.tag=2,t!=null&&(i.callback=t),t=ni(e,i,r),t!==null&&(jn(t,e,r,n),ic(t,e,r))}};function d0(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!zs(n,r)||!zs(i,o):!0}function xm(e,t,n){var r=!1,i=ui,o=t.contextType;return typeof o=="object"&&o!==null?o=Nn(o):(i=ln(t)?Ci:Lt.current,r=t.contextTypes,o=(r=r!=null)?Vo(e,i):ui),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Su,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function h0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Su.enqueueReplaceState(t,t.state,null)}function kf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Pd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Nn(o):(o=ln(t)?Ci:Lt.current,i.context=Vo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Af(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Su.enqueueReplaceState(i,i.state,null),Wc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qo(e,t){try{var n="",r=t;do n+=Qw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tv=typeof WeakMap=="function"?WeakMap:Map;function Em(e,t,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qc||(Qc=!0,zf=r),Rf(e,t)},n}function bm(e,t,n){n=br(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rf(e,t),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function p0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$v.bind(null,e,t,n),t.then(e,e))}function y0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function m0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=br(-1,1),t.tag=2,ni(n,t,1))),n.lanes|=1),e)}var Nv=Rr.ReactCurrentOwner,an=!1;function Zt(e,t,n,r){t.child=e===null?Qy(t,null,n,r):zo(t,e.child,n,r)}function g0(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=jd(e,t,n,r,o,i),n=qd(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(rt&&n&&kd(t),t.flags|=1,Zt(e,t,r,i),t.child)}function w0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Qd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Sm(e,t,o,r,i)):(e=lc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(s,r)&&e.ref===t.ref)return Ar(e,t,i)}return t.flags|=1,e=oi(o,r),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(zs(o,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,Ar(e,t,i)}return Of(e,t,n,r,i)}function Tm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(So,dn),dn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(So,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ye(So,dn),dn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ye(So,dn),dn|=r;return Zt(e,t,i,n),t.child}function Nm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Of(e,t,n,r,i){var o=ln(n)?Ci:Lt.current;return o=Vo(t,o),Io(t,i),n=jd(e,t,n,r,o,i),r=qd(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(rt&&r&&kd(t),t.flags|=1,Zt(e,t,n,i),t.child)}function _0(e,t,n,r,i){if(ln(n)){var o=!0;qc(t)}else o=!1;if(Io(t,i),t.stateNode===null)ac(e,t),xm(t,n,r),kf(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nn(d):(d=ln(n)?Ci:Lt.current,d=Vo(t,d));var v=n.getDerivedStateFromProps,w=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";w||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==d)&&h0(t,s,r,d),jr=!1;var p=t.memoizedState;s.state=p,Wc(t,r,s,i),c=t.memoizedState,a!==r||p!==c||un.current||jr?(typeof v=="function"&&(Af(t,n,v,r),c=t.memoizedState),(a=jr||d0(t,n,a,r,p,c,d))?(w||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,em(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Un(t.type,a),s.props=d,w=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=ln(n)?Ci:Lt.current,c=Vo(t,c));var x=n.getDerivedStateFromProps;(v=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==w||p!==c)&&h0(t,s,r,c),jr=!1,p=t.memoizedState,s.state=p,Wc(t,r,s,i);var T=t.memoizedState;a!==w||p!==T||un.current||jr?(typeof x=="function"&&(Af(t,n,x,r),T=t.memoizedState),(d=jr||d0(t,n,d,r,p,T,c)||!1)?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),s.props=r,s.state=T,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return If(e,t,n,r,o,i)}function If(e,t,n,r,i,o){Nm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&i0(t,n,!1),Ar(e,t,o);r=t.stateNode,Nv.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=zo(t,e.child,null,o),t.child=zo(t,null,a,o)):Zt(e,t,a,o),t.memoizedState=r.state,i&&i0(t,n,!0),t.child}function Bm(e){var t=e.stateNode;t.pendingContext?r0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r0(e,t.context,!1),Md(e,t.containerInfo)}function v0(e,t,n,r,i){return $o(),Od(i),t.flags|=256,Zt(e,t,n,r),t.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Cf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Am(e,t,n){var r=t.pendingProps,i=it.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ye(it,i&1),e===null)return Nf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bu(s,r,0,null),e=Ii(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Cf(n),t.memoizedState=Ff,e):Hd(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Bv(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=oi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=oi(a,o):(o=Ii(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Cf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Ff,r}return o=e.child,e=o.sibling,r=oi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hd(e,t){return t=Bu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pa(e,t,n,r){return r!==null&&Od(r),zo(t,e.child,null,n),e=Hd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bv(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=wl(Error(fe(422))),Pa(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bu({mode:"visible",children:r.children},i,0,null),o=Ii(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&zo(t,e.child,null,s),t.child.memoizedState=Cf(s),t.memoizedState=Ff,o);if(!(t.mode&1))return Pa(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=wl(o,r,void 0),Pa(e,t,s,r)}if(a=(s&e.childLanes)!==0,an||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Br(e,i),jn(r,e,i,-1))}return Xd(),r=wl(Error(fe(421))),Pa(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,pn=ti(i.nextSibling),yn=t,rt=!0,Vn=null,e!==null&&(xn[En++]=mr,xn[En++]=gr,xn[En++]=Ui,mr=e.id,gr=e.overflow,Ui=t),t=Hd(t,r.children),t.flags|=4096,t)}function x0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bf(e.return,t,n)}function _l(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function km(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Zt(e,t,r.children,n),r=it.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x0(e,n,t);else if(e.tag===19)x0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ye(it,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_l(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_l(t,!0,n,null,o);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Av(e,t,n){switch(t.tag){case 3:Bm(t),$o();break;case 5:tm(t);break;case 1:ln(t.type)&&qc(t);break;case 4:Md(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ye(Hc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ye(it,it.current&1),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(Ye(it,it.current&1),e=Ar(e,t,n),e!==null?e.sibling:null);Ye(it,it.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return km(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(it,it.current),r)break;return null;case 22:case 23:return t.lanes=0,Tm(e,t,n)}return Ar(e,t,n)}var Rm,Uf,Om,Im;Rm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uf=function(){};Om=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ni(or.current);var o=null;switch(n){case"input":i=nf(e,i),r=nf(e,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=sf(e,i),r=sf(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zc)}cf(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fs.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&et("scroll",e),o||a===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Im=function(e,t,n,r){n!==r&&(t.flags|=4)};function cs(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kv(e,t,n){var r=t.pendingProps;switch(Rd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return ln(t.type)&&jc(),Ut(t),null;case 3:return r=t.stateNode,jo(),tt(un),tt(Lt),$d(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Lf(Vn),Vn=null))),Uf(e,t),Ut(t),null;case 5:Vd(t);var i=Ni(Hs.current);if(n=t.type,e!==null&&t.stateNode!=null)Om(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Ut(t),null}if(e=Ni(or.current),Ca(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tr]=t,r[Ls]=o,e=(t.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<ms.length;i++)et(ms[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":Rh(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":Ih(r,o),et("invalid",r)}cf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,a,e),i=["children",""+a]):Fs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&et("scroll",r)}switch(n){case"input":Ta(r),Oh(r,o,!0);break;case"textarea":Ta(r),Fh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[tr]=t,e[Ls]=r,Rm(e,t,!1,!1),t.stateNode=e;e:{switch(s=uf(n,r),n){case"dialog":et("cancel",e),et("close",e),i=r;break;case"iframe":case"object":case"embed":et("load",e),i=r;break;case"video":case"audio":for(i=0;i<ms.length;i++)et(ms[i],e);i=r;break;case"source":et("error",e),i=r;break;case"img":case"image":case"link":et("error",e),et("load",e),i=r;break;case"details":et("toggle",e),i=r;break;case"input":Rh(e,r),i=nf(e,r),et("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),et("invalid",e);break;case"textarea":Ih(e,r),i=sf(e,r),et("invalid",e);break;default:i=r}cf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?uy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ay(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cs(e,c):typeof c=="number"&&Cs(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fs.hasOwnProperty(o)?c!=null&&o==="onScroll"&&et("scroll",e):c!=null&&yd(e,o,c,s))}switch(n){case"input":Ta(e),Oh(e,r,!1);break;case"textarea":Ta(e),Fh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ci(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ao(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)Im(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=Ni(Hs.current),Ni(or.current),Ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[tr]=t,(o=r.nodeValue!==n)&&(e=yn,e!==null))switch(e.tag){case 3:Fa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=t,t.stateNode=r}return Ut(t),null;case 13:if(tt(it),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&pn!==null&&t.mode&1&&!(t.flags&128))Zy(),$o(),t.flags|=98560,o=!1;else if(o=Ca(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[tr]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),o=!1}else Vn!==null&&(Lf(Vn),Vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?vt===0&&(vt=3):Xd())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return jo(),Uf(e,t),e===null&&js(t.stateNode.containerInfo),Ut(t),null;case 10:return Cd(t.type._context),Ut(t),null;case 17:return ln(t.type)&&jc(),Ut(t),null;case 19:if(tt(it),o=t.memoizedState,o===null)return Ut(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Dc(e),s!==null){for(t.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ye(it,it.current&1|2),t.child}e=e.sibling}o.tail!==null&&ht()>Lo&&(t.flags|=128,r=!0,cs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Dc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!rt)return Ut(t),null}else 2*ht()-o.renderingStartTime>Lo&&n!==1073741824&&(t.flags|=128,r=!0,cs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ht(),t.sibling=null,n=it.current,Ye(it,r?n&1|2:n&1),t):(Ut(t),null);case 22:case 23:return Zd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dn&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function Rv(e,t){switch(Rd(t),t.tag){case 1:return ln(t.type)&&jc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jo(),tt(un),tt(Lt),$d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vd(t),null;case 13:if(tt(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(it),null;case 4:return jo(),null;case 10:return Cd(t.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var Ma=!1,jt=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,ve=null;function bo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function Pf(e,t,n){try{n()}catch(r){ct(e,t,r)}}var E0=!1;function Iv(e,t){if(_f=Mc,e=My(),Ad(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,d=0,v=0,w=e,p=null;t:for(;;){for(var x;w!==n||i!==0&&w.nodeType!==3||(a=s+i),w!==o||r!==0&&w.nodeType!==3||(c=s+r),w.nodeType===3&&(s+=w.nodeValue.length),(x=w.firstChild)!==null;)p=w,w=x;for(;;){if(w===e)break t;if(p===n&&++d===i&&(a=s),p===o&&++v===r&&(c=s),(x=w.nextSibling)!==null)break;w=p,p=w.parentNode}w=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:e,selectionRange:n},Mc=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var F=T.memoizedProps,W=T.memoizedState,S=t.stateNode,E=S.getSnapshotBeforeUpdate(t.elementType===t.type?F:Un(t.type,F),W);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(M){ct(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return T=E0,E0=!1,T}function ks(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Pf(t,n,o)}i=i.next}while(i!==r)}}function Tu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Mf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fm(e){var t=e.alternate;t!==null&&(e.alternate=null,Fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[Ls],delete t[bf],delete t[pv],delete t[yv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cm(e){return e.tag===5||e.tag===3||e.tag===4}function b0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zc));else if(r!==4&&(e=e.child,e!==null))for(Vf(e,t,n),e=e.sibling;e!==null;)Vf(e,t,n),e=e.sibling}function $f(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($f(e,t,n),e=e.sibling;e!==null;)$f(e,t,n),e=e.sibling}var kt=null,Mn=!1;function Ir(e,t,n){for(n=n.child;n!==null;)Um(e,t,n),n=n.sibling}function Um(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(gu,n)}catch{}switch(n.tag){case 5:jt||bo(n,t);case 6:var r=kt,i=Mn;kt=null,Ir(e,t,n),kt=r,Mn=i,kt!==null&&(Mn?(e=kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Mn?(e=kt,n=n.stateNode,e.nodeType===8?dl(e.parentNode,n):e.nodeType===1&&dl(e,n),Vs(e)):dl(kt,n.stateNode));break;case 4:r=kt,i=Mn,kt=n.stateNode.containerInfo,Mn=!0,Ir(e,t,n),kt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Pf(n,t,s),i=i.next}while(i!==r)}Ir(e,t,n);break;case 1:if(!jt&&(bo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,t,a)}Ir(e,t,n);break;case 21:Ir(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Ir(e,t,n),jt=r):Ir(e,t,n);break;default:Ir(e,t,n)}}function S0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ov),t.forEach(function(r){var i=jv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Mn=!1;break e;case 3:kt=a.stateNode.containerInfo,Mn=!0;break e;case 4:kt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(kt===null)throw Error(fe(160));Um(o,s,i),kt=null,Mn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ct(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pm(t,e),t=t.sibling}function Pm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),Hn(e),r&4){try{ks(3,e,e.return),Tu(3,e)}catch(F){ct(e,e.return,F)}try{ks(5,e,e.return)}catch(F){ct(e,e.return,F)}}break;case 1:On(t,e),Hn(e),r&512&&n!==null&&bo(n,n.return);break;case 5:if(On(t,e),Hn(e),r&512&&n!==null&&bo(n,n.return),e.flags&32){var i=e.stateNode;try{Cs(i,"")}catch(F){ct(e,e.return,F)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&iy(i,o),uf(a,s);var d=uf(a,o);for(s=0;s<c.length;s+=2){var v=c[s],w=c[s+1];v==="style"?uy(i,w):v==="dangerouslySetInnerHTML"?ay(i,w):v==="children"?Cs(i,w):yd(i,v,w,d)}switch(a){case"input":rf(i,o);break;case"textarea":oy(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Ao(i,!!o.multiple,x,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ao(i,!!o.multiple,o.defaultValue,!0):Ao(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ls]=o}catch(F){ct(e,e.return,F)}}break;case 6:if(On(t,e),Hn(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(F){ct(e,e.return,F)}}break;case 3:if(On(t,e),Hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(F){ct(e,e.return,F)}break;case 4:On(t,e),Hn(e);break;case 13:On(t,e),Hn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dd=ht())),r&4&&S0(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(d=jt)||v,On(t,e),jt=d):On(t,e),Hn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!v&&e.mode&1)for(ve=e,v=e.child;v!==null;){for(w=ve=v;ve!==null;){switch(p=ve,x=p.child,p.tag){case 0:case 11:case 14:case 15:ks(4,p,p.return);break;case 1:bo(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(F){ct(r,n,F)}}break;case 5:bo(p,p.return);break;case 22:if(p.memoizedState!==null){N0(w);continue}}x!==null?(x.return=p,ve=x):N0(w)}v=v.sibling}e:for(v=null,w=e;;){if(w.tag===5){if(v===null){v=w;try{i=w.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=w.stateNode,c=w.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=cy("display",s))}catch(F){ct(e,e.return,F)}}}else if(w.tag===6){if(v===null)try{w.stateNode.nodeValue=d?"":w.memoizedProps}catch(F){ct(e,e.return,F)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;v===w&&(v=null),w=w.return}v===w&&(v=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:On(t,e),Hn(e),r&4&&S0(e);break;case 21:break;default:On(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cm(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cs(i,""),r.flags&=-33);var o=b0(e);$f(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=b0(e);Vf(e,a,s);break;default:throw Error(fe(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fv(e,t,n){ve=e,Mm(e)}function Mm(e,t,n){for(var r=(e.mode&1)!==0;ve!==null;){var i=ve,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ma;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||jt;a=Ma;var d=jt;if(Ma=s,(jt=c)&&!d)for(ve=i;ve!==null;)s=ve,c=s.child,s.tag===22&&s.memoizedState!==null?B0(i):c!==null?(c.return=s,ve=c):B0(i);for(;o!==null;)ve=o,Mm(o),o=o.sibling;ve=i,Ma=a,jt=d}T0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ve=o):T0(e)}}function T0(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Tu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&u0(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}u0(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var v=d.memoizedState;if(v!==null){var w=v.dehydrated;w!==null&&Vs(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}jt||t.flags&512&&Mf(t)}catch(p){ct(t,t.return,p)}}if(t===e){ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,ve=n;break}ve=t.return}}function N0(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ve=n;break}ve=t.return}}function B0(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Tu(4,t)}catch(c){ct(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ct(t,i,c)}}var o=t.return;try{Mf(t)}catch(c){ct(t,o,c)}break;case 5:var s=t.return;try{Mf(t)}catch(c){ct(t,s,c)}}}catch(c){ct(t,t.return,c)}if(t===e){ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ve=a;break}ve=t.return}}var Cv=Math.ceil,Xc=Rr.ReactCurrentDispatcher,Kd=Rr.ReactCurrentOwner,Tn=Rr.ReactCurrentBatchConfig,je=0,Bt=null,gt=null,Ot=0,dn=0,So=fi(0),vt=0,Ys=null,Mi=0,Nu=0,Wd=0,Rs=null,on=null,Dd=0,Lo=1/0,fr=null,Qc=!1,zf=null,ri=null,Va=!1,Zr=null,Jc=0,Os=0,jf=null,cc=-1,uc=0;function Qt(){return je&6?ht():cc!==-1?cc:cc=ht()}function ii(e){return e.mode&1?je&2&&Ot!==0?Ot&-Ot:gv.transition!==null?(uc===0&&(uc=xy()),uc):(e=He,e!==0||(e=window.event,e=e===void 0?16:Ay(e.type)),e):1}function jn(e,t,n,r){if(50<Os)throw Os=0,jf=null,Error(fe(185));ca(e,n,r),(!(je&2)||e!==Bt)&&(e===Bt&&(!(je&2)&&(Nu|=n),vt===4&&Wr(e,Ot)),fn(e,r),n===1&&je===0&&!(t.mode&1)&&(Lo=ht()+500,Eu&&di()))}function fn(e,t){var n=e.callbackNode;g_(e,t);var r=Pc(e,e===Bt?Ot:0);if(r===0)n!==null&&Ph(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ph(n),t===1)e.tag===0?mv(A0.bind(null,e)):Wy(A0.bind(null,e)),dv(function(){!(je&6)&&di()}),n=null;else{switch(Ey(r)){case 1:n=vd;break;case 4:n=_y;break;case 16:n=Uc;break;case 536870912:n=vy;break;default:n=Uc}n=Hm(n,Vm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vm(e,t){if(cc=-1,uc=0,je&6)throw Error(fe(327));var n=e.callbackNode;if(Fo()&&e.callbackNode!==n)return null;var r=Pc(e,e===Bt?Ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=eu(e,r);else{t=r;var i=je;je|=2;var o=zm();(Bt!==e||Ot!==t)&&(fr=null,Lo=ht()+500,Oi(e,t));do try{Mv();break}catch(a){$m(e,a)}while(!0);Fd(),Xc.current=o,je=i,gt!==null?t=0:(Bt=null,Ot=0,t=vt)}if(t!==0){if(t===2&&(i=pf(e),i!==0&&(r=i,t=qf(e,i))),t===1)throw n=Ys,Oi(e,0),Wr(e,r),fn(e,ht()),n;if(t===6)Wr(e,r);else{if(i=e.current.alternate,!(r&30)&&!Uv(i)&&(t=eu(e,r),t===2&&(o=pf(e),o!==0&&(r=o,t=qf(e,o))),t===1))throw n=Ys,Oi(e,0),Wr(e,r),fn(e,ht()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:gi(e,on,fr);break;case 3:if(Wr(e,r),(r&130023424)===r&&(t=Dd+500-ht(),10<t)){if(Pc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ef(gi.bind(null,e,on,fr),t);break}gi(e,on,fr);break;case 4:if(Wr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-zn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cv(r/1960))-r,10<r){e.timeoutHandle=Ef(gi.bind(null,e,on,fr),r);break}gi(e,on,fr);break;case 5:gi(e,on,fr);break;default:throw Error(fe(329))}}}return fn(e,ht()),e.callbackNode===n?Vm.bind(null,e):null}function qf(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(Oi(e,t).flags|=256),e=eu(e,t),e!==2&&(t=on,on=n,t!==null&&Lf(t)),e}function Lf(e){on===null?on=e:on.push.apply(on,e)}function Uv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ln(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t){for(t&=~Wd,t&=~Nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zn(t),r=1<<n;e[n]=-1,t&=~r}}function A0(e){if(je&6)throw Error(fe(327));Fo();var t=Pc(e,0);if(!(t&1))return fn(e,ht()),null;var n=eu(e,t);if(e.tag!==0&&n===2){var r=pf(e);r!==0&&(t=r,n=qf(e,r))}if(n===1)throw n=Ys,Oi(e,0),Wr(e,t),fn(e,ht()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gi(e,on,fr),fn(e,ht()),null}function Yd(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Lo=ht()+500,Eu&&di())}}function Vi(e){Zr!==null&&Zr.tag===0&&!(je&6)&&Fo();var t=je;je|=1;var n=Tn.transition,r=He;try{if(Tn.transition=null,He=1,e)return e()}finally{He=r,Tn.transition=n,je=t,!(je&6)&&di()}}function Zd(){dn=So.current,tt(So)}function Oi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fv(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Rd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jc();break;case 3:jo(),tt(un),tt(Lt),$d();break;case 5:Vd(r);break;case 4:jo();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Cd(r.type._context);break;case 22:case 23:Zd()}n=n.return}if(Bt=e,gt=e=oi(e.current,null),Ot=dn=t,vt=0,Ys=null,Wd=Nu=Mi=0,on=Rs=null,Ti!==null){for(t=0;t<Ti.length;t++)if(n=Ti[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ti=null}return e}function $m(e,t){do{var n=gt;try{if(Fd(),oc.current=Zc,Yc){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yc=!1}if(Pi=0,Tt=wt=ot=null,As=!1,Ks=0,Kd.current=null,n===null||n.return===null){vt=1,Ys=t,gt=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=Ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,v=a,w=v.tag;if(!(v.mode&1)&&(w===0||w===11||w===15)){var p=v.alternate;p?(v.updateQueue=p.updateQueue,v.memoizedState=p.memoizedState,v.lanes=p.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=y0(s);if(x!==null){x.flags&=-257,m0(x,s,a,o,t),x.mode&1&&p0(o,d,t),t=x,c=d;var T=t.updateQueue;if(T===null){var F=new Set;F.add(c),t.updateQueue=F}else T.add(c);break e}else{if(!(t&1)){p0(o,d,t),Xd();break e}c=Error(fe(426))}}else if(rt&&a.mode&1){var W=y0(s);if(W!==null){!(W.flags&65536)&&(W.flags|=256),m0(W,s,a,o,t),Od(qo(c,a));break e}}o=c=qo(c,a),vt!==4&&(vt=2),Rs===null?Rs=[o]:Rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=Em(o,c,t);c0(o,S);break e;case 1:a=c;var E=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ri===null||!ri.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var M=bm(o,a,t);c0(o,M);break e}}o=o.return}while(o!==null)}qm(n)}catch($){t=$,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function zm(){var e=Xc.current;return Xc.current=Zc,e===null?Zc:e}function Xd(){(vt===0||vt===3||vt===2)&&(vt=4),Bt===null||!(Mi&268435455)&&!(Nu&268435455)||Wr(Bt,Ot)}function eu(e,t){var n=je;je|=2;var r=zm();(Bt!==e||Ot!==t)&&(fr=null,Oi(e,t));do try{Pv();break}catch(i){$m(e,i)}while(!0);if(Fd(),je=n,Xc.current=r,gt!==null)throw Error(fe(261));return Bt=null,Ot=0,vt}function Pv(){for(;gt!==null;)jm(gt)}function Mv(){for(;gt!==null&&!c_();)jm(gt)}function jm(e){var t=Gm(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?qm(e):gt=t,Kd.current=null}function qm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rv(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,gt=null;return}}else if(n=kv(n,t,dn),n!==null){gt=n;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);vt===0&&(vt=5)}function gi(e,t,n){var r=He,i=Tn.transition;try{Tn.transition=null,He=1,Vv(e,t,n,r)}finally{Tn.transition=i,He=r}return null}function Vv(e,t,n,r){do Fo();while(Zr!==null);if(je&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(w_(e,o),e===Bt&&(gt=Bt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Va||(Va=!0,Hm(Uc,function(){return Fo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tn.transition,Tn.transition=null;var s=He;He=1;var a=je;je|=4,Kd.current=null,Iv(e,n),Pm(n,e),iv(vf),Mc=!!_f,vf=_f=null,e.current=n,Fv(n),u_(),je=a,He=s,Tn.transition=o}else e.current=n;if(Va&&(Va=!1,Zr=e,Jc=i),o=e.pendingLanes,o===0&&(ri=null),d_(n.stateNode),fn(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qc)throw Qc=!1,e=zf,zf=null,e;return Jc&1&&e.tag!==0&&Fo(),o=e.pendingLanes,o&1?e===jf?Os++:(Os=0,jf=e):Os=0,di(),null}function Fo(){if(Zr!==null){var e=Ey(Jc),t=Tn.transition,n=He;try{if(Tn.transition=null,He=16>e?16:e,Zr===null)var r=!1;else{if(e=Zr,Zr=null,Jc=0,je&6)throw Error(fe(331));var i=je;for(je|=4,ve=e.current;ve!==null;){var o=ve,s=o.child;if(ve.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ve=d;ve!==null;){var v=ve;switch(v.tag){case 0:case 11:case 15:ks(8,v,o)}var w=v.child;if(w!==null)w.return=v,ve=w;else for(;ve!==null;){v=ve;var p=v.sibling,x=v.return;if(Fm(v),v===d){ve=null;break}if(p!==null){p.return=x,ve=p;break}ve=x}}}var T=o.alternate;if(T!==null){var F=T.child;if(F!==null){T.child=null;do{var W=F.sibling;F.sibling=null,F=W}while(F!==null)}}ve=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ve=s;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ks(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ve=S;break e}ve=o.return}}var E=e.current;for(ve=E;ve!==null;){s=ve;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ve=b;else e:for(s=E;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tu(9,a)}}catch($){ct(a,a.return,$)}if(a===s){ve=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,ve=M;break e}ve=a.return}}if(je=i,di(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(gu,e)}catch{}r=!0}return r}finally{He=n,Tn.transition=t}}return!1}function k0(e,t,n){t=qo(n,t),t=Em(e,t,1),e=ni(e,t,1),t=Qt(),e!==null&&(ca(e,1,t),fn(e,t))}function ct(e,t,n){if(e.tag===3)k0(e,e,n);else for(;t!==null;){if(t.tag===3){k0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){e=qo(n,e),e=bm(t,e,1),t=ni(t,e,1),e=Qt(),t!==null&&(ca(t,1,e),fn(t,e));break}}t=t.return}}function $v(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(Ot&n)===n&&(vt===4||vt===3&&(Ot&130023424)===Ot&&500>ht()-Dd?Oi(e,0):Wd|=n),fn(e,t)}function Lm(e,t){t===0&&(e.mode&1?(t=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):t=1);var n=Qt();e=Br(e,t),e!==null&&(ca(e,t,n),fn(e,n))}function zv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lm(e,n)}function jv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),Lm(e,n)}var Gm;Gm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,Av(e,t,n);an=!!(e.flags&131072)}else an=!1,rt&&t.flags&1048576&&Dy(t,Gc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ac(e,t),e=t.pendingProps;var i=Vo(t,Lt.current);Io(t,n),i=jd(null,t,r,e,i,n);var o=qd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(o=!0,qc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pd(t),i.updater=Su,t.stateNode=i,i._reactInternals=t,kf(t,r,e,n),t=If(null,t,r,!0,o,n)):(t.tag=0,rt&&o&&kd(t),Zt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ac(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Lv(r),e=Un(r,e),i){case 0:t=Of(null,t,r,e,n);break e;case 1:t=_0(null,t,r,e,n);break e;case 11:t=g0(null,t,r,e,n);break e;case 14:t=w0(null,t,r,Un(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),Of(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),_0(e,t,r,i,n);case 3:e:{if(Bm(t),e===null)throw Error(fe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,em(e,t),Wc(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=qo(Error(fe(423)),t),t=v0(e,t,r,n,i);break e}else if(r!==i){i=qo(Error(fe(424)),t),t=v0(e,t,r,n,i);break e}else for(pn=ti(t.stateNode.containerInfo.firstChild),yn=t,rt=!0,Vn=null,n=Qy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===i){t=Ar(e,t,n);break e}Zt(e,t,r,n)}t=t.child}return t;case 5:return tm(t),e===null&&Nf(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,xf(r,i)?s=null:o!==null&&xf(r,o)&&(t.flags|=32),Nm(e,t),Zt(e,t,s,n),t.child;case 6:return e===null&&Nf(t),null;case 13:return Am(e,t,n);case 4:return Md(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zo(t,null,r,n):Zt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),g0(e,t,r,i,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ye(Hc,r._currentValue),r._currentValue=s,o!==null)if(Ln(o.value,s)){if(o.children===i.children&&!un.current){t=Ar(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=br(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var v=d.pending;v===null?c.next=c:(c.next=v.next,v.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Bf(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bf(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Zt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),i=Nn(i),r=r(i),t.flags|=1,Zt(e,t,r,n),t.child;case 14:return r=t.type,i=Un(r,t.pendingProps),i=Un(r.type,i),w0(e,t,r,i,n);case 15:return Sm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),ac(e,t),t.tag=1,ln(r)?(e=!0,qc(t)):e=!1,Io(t,n),xm(t,r,i),kf(t,r,i,n),If(null,t,r,!0,e,n);case 19:return km(e,t,n);case 22:return Tm(e,t,n)}throw Error(fe(156,t.tag))};function Hm(e,t){return wy(e,t)}function qv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,r){return new qv(e,t,n,r)}function Qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lv(e){if(typeof e=="function")return Qd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gd)return 11;if(e===wd)return 14}return 2}function oi(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lc(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Qd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case po:return Ii(n.children,i,o,t);case md:s=8,i|=8;break;case Ql:return e=Sn(12,n,t,i|2),e.elementType=Ql,e.lanes=o,e;case Jl:return e=Sn(13,n,t,i),e.elementType=Jl,e.lanes=o,e;case ef:return e=Sn(19,n,t,i),e.elementType=ef,e.lanes=o,e;case ty:return Bu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jp:s=10;break e;case ey:s=9;break e;case gd:s=11;break e;case wd:s=14;break e;case zr:s=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Sn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ii(e,t,n,r){return e=Sn(7,e,r,t),e.lanes=n,e}function Bu(e,t,n,r){return e=Sn(22,e,r,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function vl(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jd(e,t,n,r,i,o,s,a,c){return e=new Gv(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Sn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(o),e}function Hv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Km(e){if(!e)return ui;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(ln(n))return Ky(e,n,t)}return t}function Wm(e,t,n,r,i,o,s,a,c){return e=Jd(n,r,!0,e,i,o,s,a,c),e.context=Km(null),n=e.current,r=Qt(),i=ii(n),o=br(r,i),o.callback=t??null,ni(n,o,i),e.current.lanes=i,ca(e,i,r),fn(e,r),e}function Au(e,t,n,r){var i=t.current,o=Qt(),s=ii(i);return n=Km(n),t.context===null?t.context=n:t.pendingContext=n,t=br(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ni(i,t,s),e!==null&&(jn(e,i,s,o),ic(e,i,s)),s}function tu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eh(e,t){R0(e,t),(e=e.alternate)&&R0(e,t)}function Kv(){return null}var Dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function th(e){this._internalRoot=e}ku.prototype.render=th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Au(e,t,null,null)};ku.prototype.unmount=th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vi(function(){Au(null,e,null,null)}),t[Nr]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ty();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kr.length&&t!==0&&t<Kr[n].priority;n++);Kr.splice(n,0,e),n===0&&By(e)}};function nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function O0(){}function Wv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=tu(s);o.call(d)}}var s=Wm(t,r,e,0,null,!1,!1,"",O0);return e._reactRootContainer=s,e[Nr]=s.current,js(e.nodeType===8?e.parentNode:e),Vi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=tu(c);a.call(d)}}var c=Jd(e,0,!1,null,null,!1,!1,"",O0);return e._reactRootContainer=c,e[Nr]=c.current,js(e.nodeType===8?e.parentNode:e),Vi(function(){Au(t,c,n,r)}),c}function Ou(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=tu(s);a.call(c)}}Au(t,s,e,i)}else s=Wv(n,t,e,i,r);return tu(s)}by=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ys(t.pendingLanes);n!==0&&(xd(t,n|1),fn(t,ht()),!(je&6)&&(Lo=ht()+500,di()))}break;case 13:Vi(function(){var r=Br(e,1);if(r!==null){var i=Qt();jn(r,e,1,i)}}),eh(e,1)}};Ed=function(e){if(e.tag===13){var t=Br(e,134217728);if(t!==null){var n=Qt();jn(t,e,134217728,n)}eh(e,134217728)}};Sy=function(e){if(e.tag===13){var t=ii(e),n=Br(e,t);if(n!==null){var r=Qt();jn(n,e,t,r)}eh(e,t)}};Ty=function(){return He};Ny=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};ff=function(e,t,n){switch(t){case"input":if(rf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xu(r);if(!i)throw Error(fe(90));ry(r),rf(r,i)}}}break;case"textarea":oy(e,n);break;case"select":t=n.value,t!=null&&Ao(e,!!n.multiple,t,!1)}};dy=Yd;hy=Vi;var Dv={usingClientEntryPoint:!1,Events:[la,wo,xu,ly,fy,Yd]},us={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yv={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=my(e),e===null?null:e.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||Kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{gu=$a.inject(Yv),ir=$a}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv;gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nh(t))throw Error(fe(200));return Hv(e,t,null,n)};gn.createRoot=function(e,t){if(!nh(e))throw Error(fe(299));var n=!1,r="",i=Dm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jd(e,1,!1,null,null,n,!1,r,i),e[Nr]=t.current,js(e.nodeType===8?e.parentNode:e),new th(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=my(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return Vi(e)};gn.hydrate=function(e,t,n){if(!Ru(t))throw Error(fe(200));return Ou(null,e,t,!0,n)};gn.hydrateRoot=function(e,t,n){if(!nh(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Dm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Wm(t,null,e,1,n??null,i,!1,o,s),e[Nr]=t.current,js(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ku(t)};gn.render=function(e,t,n){if(!Ru(t))throw Error(fe(200));return Ou(null,e,t,!1,n)};gn.unmountComponentAtNode=function(e){if(!Ru(e))throw Error(fe(40));return e._reactRootContainer?(Vi(function(){Ou(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};gn.unstable_batchedUpdates=Yd;gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ru(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Ou(e,t,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function Ym(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ym)}catch(e){console.error(e)}}Ym(),Yp.exports=gn;var Zv=Yp.exports,rh,I0=Zv;rh=I0.createRoot,I0.hydrateRoot;var Zm={},da={};da.byteLength=Jv;da.toByteArray=t2;da.fromByteArray=i2;var nr=[],_n=[],Xv=typeof Uint8Array<"u"?Uint8Array:Array,El="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Zi=0,Qv=El.length;Zi<Qv;++Zi)nr[Zi]=El[Zi],_n[El.charCodeAt(Zi)]=Zi;_n[45]=62;_n[95]=63;function Xm(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Jv(e){var t=Xm(e),n=t[0],r=t[1];return(n+r)*3/4-r}function e2(e,t,n){return(t+n)*3/4-n}function t2(e){var t,n=Xm(e),r=n[0],i=n[1],o=new Xv(e2(e,r,i)),s=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)t=_n[e.charCodeAt(c)]<<18|_n[e.charCodeAt(c+1)]<<12|_n[e.charCodeAt(c+2)]<<6|_n[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=_n[e.charCodeAt(c)]<<2|_n[e.charCodeAt(c+1)]>>4,o[s++]=t&255),i===1&&(t=_n[e.charCodeAt(c)]<<10|_n[e.charCodeAt(c+1)]<<4|_n[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function n2(e){return nr[e>>18&63]+nr[e>>12&63]+nr[e>>6&63]+nr[e&63]}function r2(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(n2(r));return i.join("")}function i2(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(r2(e,s,s+o>a?a:s+o));return r===1?(t=e[n-1],i.push(nr[t>>2]+nr[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(nr[t>>10]+nr[t>>4&63]+nr[t<<2&63]+"=")),i.join("")}var ha={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ha.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,c=(1<<a)-1,d=c>>1,v=-7,w=n?i-1:0,p=n?-1:1,x=e[t+w];for(w+=p,o=x&(1<<-v)-1,x>>=-v,v+=a;v>0;o=o*256+e[t+w],w+=p,v-=8);for(s=o&(1<<-v)-1,o>>=-v,v+=r;v>0;s=s*256+e[t+w],w+=p,v-=8);if(o===0)o=1-d;else{if(o===c)return s?NaN:(x?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-d}return(x?-1:1)*s*Math.pow(2,o-r)};ha.write=function(e,t,n,r,i,o){var s,a,c,d=o*8-i-1,v=(1<<d)-1,w=v>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:o-1,T=r?1:-1,F=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=v):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+w>=1?t+=p/c:t+=p*Math.pow(2,1-w),t*c>=2&&(s++,c/=2),s+w>=v?(a=0,s=v):s+w>=1?(a=(t*c-1)*Math.pow(2,i),s=s+w):(a=t*Math.pow(2,w-1)*Math.pow(2,i),s=0));i>=8;e[n+x]=a&255,x+=T,a/=256,i-=8);for(s=s<<i|a,d+=i;d>0;e[n+x]=s&255,x+=T,s/=256,d-=8);e[n+x-T]|=F*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=da,n=ha,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const g=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(g,f),g.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');const f=new Uint8Array(g);return Object.setPrototypeOf(f,a.prototype),f}function a(g,f,h){if(typeof g=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(g)}return c(g,f,h)}a.poolSize=8192;function c(g,f,h){if(typeof g=="string")return p(g,f);if(ArrayBuffer.isView(g))return T(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(ee(g,ArrayBuffer)||g&&ee(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(g,SharedArrayBuffer)||g&&ee(g.buffer,SharedArrayBuffer)))return F(g,f,h);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=g.valueOf&&g.valueOf();if(O!=null&&O!==g)return a.from(O,f,h);const m=W(g);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return a.from(g[Symbol.toPrimitive]("string"),f,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}a.from=function(g,f,h){return c(g,f,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function v(g,f,h){return d(g),g<=0?s(g):f!==void 0?typeof h=="string"?s(g).fill(f,h):s(g).fill(f):s(g)}a.alloc=function(g,f,h){return v(g,f,h)};function w(g){return d(g),s(g<0?0:S(g)|0)}a.allocUnsafe=function(g){return w(g)},a.allocUnsafeSlow=function(g){return w(g)};function p(g,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const h=b(g,f)|0;let O=s(h);const m=O.write(g,f);return m!==h&&(O=O.slice(0,m)),O}function x(g){const f=g.length<0?0:S(g.length)|0,h=s(f);for(let O=0;O<f;O+=1)h[O]=g[O]&255;return h}function T(g){if(ee(g,Uint8Array)){const f=new Uint8Array(g);return F(f.buffer,f.byteOffset,f.byteLength)}return x(g)}function F(g,f,h){if(f<0||g.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<f+(h||0))throw new RangeError('"length" is outside of buffer bounds');let O;return f===void 0&&h===void 0?O=new Uint8Array(g):h===void 0?O=new Uint8Array(g,f):O=new Uint8Array(g,f,h),Object.setPrototypeOf(O,a.prototype),O}function W(g){if(a.isBuffer(g)){const f=S(g.length)|0,h=s(f);return h.length===0||g.copy(h,0,0,f),h}if(g.length!==void 0)return typeof g.length!="number"||ue(g.length)?s(0):x(g);if(g.type==="Buffer"&&Array.isArray(g.data))return x(g.data)}function S(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function E(g){return+g!=g&&(g=0),a.alloc(+g)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,h){if(ee(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),ee(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(f)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let O=f.length,m=h.length;for(let k=0,I=Math.min(O,m);k<I;++k)if(f[k]!==h[k]){O=f[k],m=h[k];break}return O<m?-1:m<O?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let O;if(h===void 0)for(h=0,O=0;O<f.length;++O)h+=f[O].length;const m=a.allocUnsafe(h);let k=0;for(O=0;O<f.length;++O){let I=f[O];if(ee(I,Uint8Array))k+I.length>m.length?(a.isBuffer(I)||(I=a.from(I)),I.copy(m,k)):Uint8Array.prototype.set.call(m,I,k);else if(a.isBuffer(I))I.copy(m,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=I.length}return m};function b(g,f){if(a.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||ee(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const h=g.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&h===0)return 0;let m=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return u(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return N(g).length;default:if(m)return O?-1:u(g).length;f=(""+f).toLowerCase(),m=!0}}a.byteLength=b;function M(g,f,h){let O=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,f>>>=0,h<=f))return"";for(g||(g="utf8");;)switch(g){case"hex":return re(this,f,h);case"utf8":case"utf-8":return ne(this,f,h);case"ascii":return we(this,f,h);case"latin1":case"binary":return J(this,f,h);case"base64":return X(this,f,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,f,h);default:if(O)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function $(g,f,h){const O=g[f];g[f]=g[h],g[h]=O}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)$(this,h,h+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)$(this,h,h+3),$(this,h+1,h+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)$(this,h,h+7),$(this,h+1,h+6),$(this,h+2,h+5),$(this,h+3,h+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?ne(this,0,f):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const h=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(f,h,O,m,k){if(ee(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),O===void 0&&(O=f?f.length:0),m===void 0&&(m=0),k===void 0&&(k=this.length),h<0||O>f.length||m<0||k>this.length)throw new RangeError("out of range index");if(m>=k&&h>=O)return 0;if(m>=k)return-1;if(h>=O)return 1;if(h>>>=0,O>>>=0,m>>>=0,k>>>=0,this===f)return 0;let I=k-m,H=O-h;const Q=Math.min(I,H),G=this.slice(m,k),Z=f.slice(h,O);for(let le=0;le<Q;++le)if(G[le]!==Z[le]){I=G[le],H=Z[le];break}return I<H?-1:H<I?1:0};function V(g,f,h,O,m){if(g.length===0)return-1;if(typeof h=="string"?(O=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,ue(h)&&(h=m?0:g.length-1),h<0&&(h=g.length+h),h>=g.length){if(m)return-1;h=g.length-1}else if(h<0)if(m)h=0;else return-1;if(typeof f=="string"&&(f=a.from(f,O)),a.isBuffer(f))return f.length===0?-1:P(g,f,h,O,m);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(g,f,h):Uint8Array.prototype.lastIndexOf.call(g,f,h):P(g,[f],h,O,m);throw new TypeError("val must be string, number or Buffer")}function P(g,f,h,O,m){let k=1,I=g.length,H=f.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(g.length<2||f.length<2)return-1;k=2,I/=2,H/=2,h/=2}function Q(Z,le){return k===1?Z[le]:Z.readUInt16BE(le*k)}let G;if(m){let Z=-1;for(G=h;G<I;G++)if(Q(g,G)===Q(f,Z===-1?0:G-Z)){if(Z===-1&&(Z=G),G-Z+1===H)return Z*k}else Z!==-1&&(G-=G-Z),Z=-1}else for(h+H>I&&(h=I-H),G=h;G>=0;G--){let Z=!0;for(let le=0;le<H;le++)if(Q(g,G+le)!==Q(f,le)){Z=!1;break}if(Z)return G}return-1}a.prototype.includes=function(f,h,O){return this.indexOf(f,h,O)!==-1},a.prototype.indexOf=function(f,h,O){return V(this,f,h,O,!0)},a.prototype.lastIndexOf=function(f,h,O){return V(this,f,h,O,!1)};function D(g,f,h,O){h=Number(h)||0;const m=g.length-h;O?(O=Number(O),O>m&&(O=m)):O=m;const k=f.length;O>k/2&&(O=k/2);let I;for(I=0;I<O;++I){const H=parseInt(f.substr(I*2,2),16);if(ue(H))return I;g[h+I]=H}return I}function L(g,f,h,O){return C(u(f,g.length-h),g,h,O)}function z(g,f,h,O){return C(l(f),g,h,O)}function ae(g,f,h,O){return C(N(f),g,h,O)}function se(g,f,h,O){return C(_(f,g.length-h),g,h,O)}a.prototype.write=function(f,h,O,m){if(h===void 0)m="utf8",O=this.length,h=0;else if(O===void 0&&typeof h=="string")m=h,O=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(O)?(O=O>>>0,m===void 0&&(m="utf8")):(m=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-h;if((O===void 0||O>k)&&(O=k),f.length>0&&(O<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");let I=!1;for(;;)switch(m){case"hex":return D(this,f,h,O);case"utf8":case"utf-8":return L(this,f,h,O);case"ascii":case"latin1":case"binary":return z(this,f,h,O);case"base64":return ae(this,f,h,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,f,h,O);default:if(I)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),I=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(g,f,h){return f===0&&h===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(f,h))}function ne(g,f,h){h=Math.min(g.length,h);const O=[];let m=f;for(;m<h;){const k=g[m];let I=null,H=k>239?4:k>223?3:k>191?2:1;if(m+H<=h){let Q,G,Z,le;switch(H){case 1:k<128&&(I=k);break;case 2:Q=g[m+1],(Q&192)===128&&(le=(k&31)<<6|Q&63,le>127&&(I=le));break;case 3:Q=g[m+1],G=g[m+2],(Q&192)===128&&(G&192)===128&&(le=(k&15)<<12|(Q&63)<<6|G&63,le>2047&&(le<55296||le>57343)&&(I=le));break;case 4:Q=g[m+1],G=g[m+2],Z=g[m+3],(Q&192)===128&&(G&192)===128&&(Z&192)===128&&(le=(k&15)<<18|(Q&63)<<12|(G&63)<<6|Z&63,le>65535&&le<1114112&&(I=le))}}I===null?(I=65533,H=1):I>65535&&(I-=65536,O.push(I>>>10&1023|55296),I=56320|I&1023),O.push(I),m+=H}return de(O)}const ce=4096;function de(g){const f=g.length;if(f<=ce)return String.fromCharCode.apply(String,g);let h="",O=0;for(;O<f;)h+=String.fromCharCode.apply(String,g.slice(O,O+=ce));return h}function we(g,f,h){let O="";h=Math.min(g.length,h);for(let m=f;m<h;++m)O+=String.fromCharCode(g[m]&127);return O}function J(g,f,h){let O="";h=Math.min(g.length,h);for(let m=f;m<h;++m)O+=String.fromCharCode(g[m]);return O}function re(g,f,h){const O=g.length;(!f||f<0)&&(f=0),(!h||h<0||h>O)&&(h=O);let m="";for(let k=f;k<h;++k)m+=me[g[k]];return m}function ie(g,f,h){const O=g.slice(f,h);let m="";for(let k=0;k<O.length-1;k+=2)m+=String.fromCharCode(O[k]+O[k+1]*256);return m}a.prototype.slice=function(f,h){const O=this.length;f=~~f,h=h===void 0?O:~~h,f<0?(f+=O,f<0&&(f=0)):f>O&&(f=O),h<0?(h+=O,h<0&&(h=0)):h>O&&(h=O),h<f&&(h=f);const m=this.subarray(f,h);return Object.setPrototypeOf(m,a.prototype),m};function oe(g,f,h){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+f>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,h,O){f=f>>>0,h=h>>>0,O||oe(f,h,this.length);let m=this[f],k=1,I=0;for(;++I<h&&(k*=256);)m+=this[f+I]*k;return m},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,h,O){f=f>>>0,h=h>>>0,O||oe(f,h,this.length);let m=this[f+--h],k=1;for(;h>0&&(k*=256);)m+=this[f+--h]*k;return m},a.prototype.readUint8=a.prototype.readUInt8=function(f,h){return f=f>>>0,h||oe(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||oe(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||oe(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||oe(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||oe(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=_e(function(f){f=f>>>0,K(f,"offset");const h=this[f],O=this[f+7];(h===void 0||O===void 0)&&q(f,this.length-8);const m=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,k=this[++f]+this[++f]*2**8+this[++f]*2**16+O*2**24;return BigInt(m)+(BigInt(k)<<BigInt(32))}),a.prototype.readBigUInt64BE=_e(function(f){f=f>>>0,K(f,"offset");const h=this[f],O=this[f+7];(h===void 0||O===void 0)&&q(f,this.length-8);const m=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],k=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O;return(BigInt(m)<<BigInt(32))+BigInt(k)}),a.prototype.readIntLE=function(f,h,O){f=f>>>0,h=h>>>0,O||oe(f,h,this.length);let m=this[f],k=1,I=0;for(;++I<h&&(k*=256);)m+=this[f+I]*k;return k*=128,m>=k&&(m-=Math.pow(2,8*h)),m},a.prototype.readIntBE=function(f,h,O){f=f>>>0,h=h>>>0,O||oe(f,h,this.length);let m=h,k=1,I=this[f+--m];for(;m>0&&(k*=256);)I+=this[f+--m]*k;return k*=128,I>=k&&(I-=Math.pow(2,8*h)),I},a.prototype.readInt8=function(f,h){return f=f>>>0,h||oe(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,h){f=f>>>0,h||oe(f,2,this.length);const O=this[f]|this[f+1]<<8;return O&32768?O|4294901760:O},a.prototype.readInt16BE=function(f,h){f=f>>>0,h||oe(f,2,this.length);const O=this[f+1]|this[f]<<8;return O&32768?O|4294901760:O},a.prototype.readInt32LE=function(f,h){return f=f>>>0,h||oe(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,h){return f=f>>>0,h||oe(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=_e(function(f){f=f>>>0,K(f,"offset");const h=this[f],O=this[f+7];(h===void 0||O===void 0)&&q(f,this.length-8);const m=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(O<<24);return(BigInt(m)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=_e(function(f){f=f>>>0,K(f,"offset");const h=this[f],O=this[f+7];(h===void 0||O===void 0)&&q(f,this.length-8);const m=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(m)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O)}),a.prototype.readFloatLE=function(f,h){return f=f>>>0,h||oe(f,4,this.length),n.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,h){return f=f>>>0,h||oe(f,4,this.length),n.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||oe(f,8,this.length),n.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||oe(f,8,this.length),n.read(this,f,!1,52,8)};function te(g,f,h,O,m,k){if(!a.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>m||f<k)throw new RangeError('"value" argument is out of bounds');if(h+O>g.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,h,O,m){if(f=+f,h=h>>>0,O=O>>>0,!m){const H=Math.pow(2,8*O)-1;te(this,f,h,O,H,0)}let k=1,I=0;for(this[h]=f&255;++I<O&&(k*=256);)this[h+I]=f/k&255;return h+O},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,h,O,m){if(f=+f,h=h>>>0,O=O>>>0,!m){const H=Math.pow(2,8*O)-1;te(this,f,h,O,H,0)}let k=O-1,I=1;for(this[h+k]=f&255;--k>=0&&(I*=256);)this[h+k]=f/I&255;return h+O},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,1,255,0),this[h]=f&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function Ne(g,f,h,O,m){U(f,O,m,g,h,7);let k=Number(f&BigInt(4294967295));g[h++]=k,k=k>>8,g[h++]=k,k=k>>8,g[h++]=k,k=k>>8,g[h++]=k;let I=Number(f>>BigInt(32)&BigInt(4294967295));return g[h++]=I,I=I>>8,g[h++]=I,I=I>>8,g[h++]=I,I=I>>8,g[h++]=I,h}function A(g,f,h,O,m){U(f,O,m,g,h,7);let k=Number(f&BigInt(4294967295));g[h+7]=k,k=k>>8,g[h+6]=k,k=k>>8,g[h+5]=k,k=k>>8,g[h+4]=k;let I=Number(f>>BigInt(32)&BigInt(4294967295));return g[h+3]=I,I=I>>8,g[h+2]=I,I=I>>8,g[h+1]=I,I=I>>8,g[h]=I,h+8}a.prototype.writeBigUInt64LE=_e(function(f,h=0){return Ne(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_e(function(f,h=0){return A(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,h,O,m){if(f=+f,h=h>>>0,!m){const Q=Math.pow(2,8*O-1);te(this,f,h,O,Q-1,-Q)}let k=0,I=1,H=0;for(this[h]=f&255;++k<O&&(I*=256);)f<0&&H===0&&this[h+k-1]!==0&&(H=1),this[h+k]=(f/I>>0)-H&255;return h+O},a.prototype.writeIntBE=function(f,h,O,m){if(f=+f,h=h>>>0,!m){const Q=Math.pow(2,8*O-1);te(this,f,h,O,Q-1,-Q)}let k=O-1,I=1,H=0;for(this[h+k]=f&255;--k>=0&&(I*=256);)f<0&&H===0&&this[h+k+1]!==0&&(H=1),this[h+k]=(f/I>>0)-H&255;return h+O},a.prototype.writeInt8=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},a.prototype.writeInt16LE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},a.prototype.writeInt16BE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},a.prototype.writeInt32LE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},a.prototype.writeInt32BE=function(f,h,O){return f=+f,h=h>>>0,O||te(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},a.prototype.writeBigInt64LE=_e(function(f,h=0){return Ne(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_e(function(f,h=0){return A(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(g,f,h,O,m,k){if(h+O>g.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function Ce(g,f,h,O,m){return f=+f,h=h>>>0,m||Se(g,f,h,4),n.write(g,f,h,O,23,4),h+4}a.prototype.writeFloatLE=function(f,h,O){return Ce(this,f,h,!0,O)},a.prototype.writeFloatBE=function(f,h,O){return Ce(this,f,h,!1,O)};function Fe(g,f,h,O,m){return f=+f,h=h>>>0,m||Se(g,f,h,8),n.write(g,f,h,O,52,8),h+8}a.prototype.writeDoubleLE=function(f,h,O){return Fe(this,f,h,!0,O)},a.prototype.writeDoubleBE=function(f,h,O){return Fe(this,f,h,!1,O)},a.prototype.copy=function(f,h,O,m){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(O||(O=0),!m&&m!==0&&(m=this.length),h>=f.length&&(h=f.length),h||(h=0),m>0&&m<O&&(m=O),m===O||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),f.length-h<m-O&&(m=f.length-h+O);const k=m-O;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,O,m):Uint8Array.prototype.set.call(f,this.subarray(O,m),h),k},a.prototype.fill=function(f,h,O,m){if(typeof f=="string"){if(typeof h=="string"?(m=h,h=0,O=this.length):typeof O=="string"&&(m=O,O=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(f.length===1){const I=f.charCodeAt(0);(m==="utf8"&&I<128||m==="latin1")&&(f=I)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<O)throw new RangeError("Out of range index");if(O<=h)return this;h=h>>>0,O=O===void 0?this.length:O>>>0,f||(f=0);let k;if(typeof f=="number")for(k=h;k<O;++k)this[k]=f;else{const I=a.isBuffer(f)?f:a.from(f,m),H=I.length;if(H===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(k=0;k<O-h;++k)this[k+h]=I[k%H]}return this};const ye={};function ge(g,f,h){ye[g]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(m){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:m,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(g,f){return`The "${g}" argument must be of type number. Received type ${typeof f}`},TypeError),ge("ERR_OUT_OF_RANGE",function(g,f,h){let O=`The value of "${g}" is out of range.`,m=h;return Number.isInteger(h)&&Math.abs(h)>2**32?m=B(String(h)):typeof h=="bigint"&&(m=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(m=B(m)),m+="n"),O+=` It must be ${f}. Received ${m}`,O},RangeError);function B(g){let f="",h=g.length;const O=g[0]==="-"?1:0;for(;h>=O+4;h-=3)f=`_${g.slice(h-3,h)}${f}`;return`${g.slice(0,h)}${f}`}function R(g,f,h){K(f,"offset"),(g[f]===void 0||g[f+h]===void 0)&&q(f,g.length-(h+1))}function U(g,f,h,O,m,k){if(g>h||g<f){const I=typeof f=="bigint"?"n":"";let H;throw f===0||f===BigInt(0)?H=`>= 0${I} and < 2${I} ** ${(k+1)*8}${I}`:H=`>= -(2${I} ** ${(k+1)*8-1}${I}) and < 2 ** ${(k+1)*8-1}${I}`,new ye.ERR_OUT_OF_RANGE("value",H,g)}R(O,m,k)}function K(g,f){if(typeof g!="number")throw new ye.ERR_INVALID_ARG_TYPE(f,"number",g)}function q(g,f,h){throw Math.floor(g)!==g?(K(g,h),new ye.ERR_OUT_OF_RANGE("offset","an integer",g)):f<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,g)}const Y=/[^+/0-9A-Za-z-_]/g;function y(g){if(g=g.split("=")[0],g=g.trim().replace(Y,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function u(g,f){f=f||1/0;let h;const O=g.length;let m=null;const k=[];for(let I=0;I<O;++I){if(h=g.charCodeAt(I),h>55295&&h<57344){if(!m){if(h>56319){(f-=3)>-1&&k.push(239,191,189);continue}else if(I+1===O){(f-=3)>-1&&k.push(239,191,189);continue}m=h;continue}if(h<56320){(f-=3)>-1&&k.push(239,191,189),m=h;continue}h=(m-55296<<10|h-56320)+65536}else m&&(f-=3)>-1&&k.push(239,191,189);if(m=null,h<128){if((f-=1)<0)break;k.push(h)}else if(h<2048){if((f-=2)<0)break;k.push(h>>6|192,h&63|128)}else if(h<65536){if((f-=3)<0)break;k.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((f-=4)<0)break;k.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return k}function l(g){const f=[];for(let h=0;h<g.length;++h)f.push(g.charCodeAt(h)&255);return f}function _(g,f){let h,O,m;const k=[];for(let I=0;I<g.length&&!((f-=2)<0);++I)h=g.charCodeAt(I),O=h>>8,m=h%256,k.push(m),k.push(O);return k}function N(g){return t.toByteArray(y(g))}function C(g,f,h,O){let m;for(m=0;m<O&&!(m+h>=f.length||m>=g.length);++m)f[m+h]=g[m];return m}function ee(g,f){return g instanceof f||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===f.name}function ue(g){return g!==g}const me=function(){const g="0123456789abcdef",f=new Array(256);for(let h=0;h<16;++h){const O=h*16;for(let m=0;m<16;++m)f[O+m]=g[h]+g[m]}return f}();function _e(g){return typeof BigInt>"u"?Be:g}function Be(){throw new Error("BigInt not supported")}})(Zm);var Gf;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Gf||(Gf={}));const o2="modulepreload",s2=function(e){return"/"+e},F0={},a2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=s2(c),c in F0)return;F0[c]=!0;const d=c.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const w=document.createElement("link");if(w.rel=d?"stylesheet":o2,d||(w.as="script"),w.crossOrigin="",w.href=c,a&&w.setAttribute("nonce",a),document.head.appendChild(w),d)return new Promise((p,x)=>{w.addEventListener("load",p),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},nu="abcdefghijklmnopqrstuvwxyz234567",Go=Object.create(null);for(let e=0;e<nu.length;e++)Go[nu[e]]=e;Go[0]=Go.o;Go[1]=Go.i;function c2(e){let t=0,n=0,r="";function i(o){return t<0?n|=o>>-t:n=o<<t&248,t>3?(t-=8,1):(t<4&&(r+=nu[n>>3],t+=5),0)}for(let o=0;o<e.length;)o+=i(e[o]);return r+(t<0?nu[n>>3]:"")}function u2(e){let t=0,n=0;const r=new Uint8Array(e.length*4/3|0);let i=0;function o(s){let a=Go[s.toLowerCase()];if(a===void 0)throw new Error(`Invalid character: ${JSON.stringify(s)}`);a<<=3,n|=a>>>t,t+=5,t>=8&&(r[i++]=n,t-=8,t>0?n=a<<5-t&255:n=0)}for(const s of e)o(s);return r.slice(0,i)}const l2=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function f2(e){const t=new Uint8Array(e);let n=-1;for(let r=0;r<t.length;r++){const o=(t[r]^n)&255;n=l2[o]^n>>>8}return(n^-1)>>>0}const Xi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pa(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function d2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function An(e,...t){if(!pa(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function C0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function h2(e,t){An(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Zs(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function bl(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kn(e,t){return e<<32-t|e>>>t}const Qm=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",p2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ho(e){if(An(e),Qm)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=p2[e[n]];return t}const ar={_0:48,_9:57,A:65,F:70,a:97,f:102};function U0(e){if(e>=ar._0&&e<=ar._9)return e-ar._0;if(e>=ar.A&&e<=ar.F)return e-(ar.A-10);if(e>=ar.a&&e<=ar.f)return e-(ar.a-10)}function Jm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Qm)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=U0(e.charCodeAt(o)),a=U0(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function ya(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function eg(e){return typeof e=="string"&&(e=ya(e)),An(e),e}function pt(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];An(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}class y2{}function ih(e){const t=r=>e().update(eg(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function tg(e=32){if(Xi&&typeof Xi.getRandomValues=="function")return Xi.getRandomValues(new Uint8Array(e));if(Xi&&typeof Xi.randomBytes=="function")return Uint8Array.from(Xi.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function m2(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}function g2(e,t,n){return e&t^~e&n}function w2(e,t,n){return e&t^e&n^t&n}class ng extends y2{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=bl(this.buffer)}update(t){C0(this),t=eg(t),An(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=bl(t);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){C0(this),h2(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Zs(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let w=s;w<i;w++)n[w]=0;m2(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=bl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,v=this.get();if(d>v.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<d;w++)a.setUint32(4*w,v[w],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Fr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cr=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Pt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),za=BigInt(2**32-1),P0=BigInt(32);function _2(e,t=!1){return t?{h:Number(e&za),l:Number(e>>P0&za)}:{h:Number(e>>P0&za)|0,l:Number(e&za)|0}}function v2(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=_2(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const M0=(e,t,n)=>e>>>n,V0=(e,t,n)=>e<<32-n|t>>>n,Qi=(e,t,n)=>e>>>n|t<<32-n,Ji=(e,t,n)=>e<<32-n|t>>>n,ja=(e,t,n)=>e<<64-n|t>>>n-32,qa=(e,t,n)=>e>>>n-32|t<<64-n;function cr(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const x2=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),E2=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,b2=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),S2=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,T2=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),N2=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,B2=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ur=new Uint32Array(64);class rg extends ng{constructor(t=32){super(64,t,8,!1),this.A=Fr[0]|0,this.B=Fr[1]|0,this.C=Fr[2]|0,this.D=Fr[3]|0,this.E=Fr[4]|0,this.F=Fr[5]|0,this.G=Fr[6]|0,this.H=Fr[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[t,n,r,i,o,s,a,c]}set(t,n,r,i,o,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let w=0;w<16;w++,n+=4)Ur[w]=t.getUint32(n,!1);for(let w=16;w<64;w++){const p=Ur[w-15],x=Ur[w-2],T=Kn(p,7)^Kn(p,18)^p>>>3,F=Kn(x,17)^Kn(x,19)^x>>>10;Ur[w]=F+Ur[w-7]+T+Ur[w-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:d,H:v}=this;for(let w=0;w<64;w++){const p=Kn(a,6)^Kn(a,11)^Kn(a,25),x=v+p+g2(a,c,d)+B2[w]+Ur[w]|0,F=(Kn(r,2)^Kn(r,13)^Kn(r,22))+w2(r,i,o)|0;v=d,d=c,c=a,a=s+x|0,s=o,o=i,i=r,r=x+F|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,v=v+this.H|0,this.set(r,i,o,s,a,c,d,v)}roundClean(){Zs(Ur)}destroy(){this.set(0,0,0,0,0,0,0,0),Zs(this.buffer)}}class A2 extends rg{constructor(){super(28),this.A=Cr[0]|0,this.B=Cr[1]|0,this.C=Cr[2]|0,this.D=Cr[3]|0,this.E=Cr[4]|0,this.F=Cr[5]|0,this.G=Cr[6]|0,this.H=Cr[7]|0}}const ig=v2(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),k2=ig[0],R2=ig[1],Pr=new Uint32Array(80),Mr=new Uint32Array(80);class O2 extends ng{constructor(t=64){super(128,t,16,!1),this.Ah=Pt[0]|0,this.Al=Pt[1]|0,this.Bh=Pt[2]|0,this.Bl=Pt[3]|0,this.Ch=Pt[4]|0,this.Cl=Pt[5]|0,this.Dh=Pt[6]|0,this.Dl=Pt[7]|0,this.Eh=Pt[8]|0,this.El=Pt[9]|0,this.Fh=Pt[10]|0,this.Fl=Pt[11]|0,this.Gh=Pt[12]|0,this.Gl=Pt[13]|0,this.Hh=Pt[14]|0,this.Hl=Pt[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:v,Fh:w,Fl:p,Gh:x,Gl:T,Hh:F,Hl:W}=this;return[t,n,r,i,o,s,a,c,d,v,w,p,x,T,F,W]}set(t,n,r,i,o,s,a,c,d,v,w,p,x,T,F,W){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=v|0,this.Fh=w|0,this.Fl=p|0,this.Gh=x|0,this.Gl=T|0,this.Hh=F|0,this.Hl=W|0}process(t,n){for(let b=0;b<16;b++,n+=4)Pr[b]=t.getUint32(n),Mr[b]=t.getUint32(n+=4);for(let b=16;b<80;b++){const M=Pr[b-15]|0,$=Mr[b-15]|0,V=Qi(M,$,1)^Qi(M,$,8)^M0(M,$,7),P=Ji(M,$,1)^Ji(M,$,8)^V0(M,$,7),D=Pr[b-2]|0,L=Mr[b-2]|0,z=Qi(D,L,19)^ja(D,L,61)^M0(D,L,6),ae=Ji(D,L,19)^qa(D,L,61)^V0(D,L,6),se=b2(P,ae,Mr[b-7],Mr[b-16]),X=S2(se,V,z,Pr[b-7],Pr[b-16]);Pr[b]=X|0,Mr[b]=se|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:v,Eh:w,El:p,Fh:x,Fl:T,Gh:F,Gl:W,Hh:S,Hl:E}=this;for(let b=0;b<80;b++){const M=Qi(w,p,14)^Qi(w,p,18)^ja(w,p,41),$=Ji(w,p,14)^Ji(w,p,18)^qa(w,p,41),V=w&x^~w&F,P=p&T^~p&W,D=T2(E,$,P,R2[b],Mr[b]),L=N2(D,S,M,V,k2[b],Pr[b]),z=D|0,ae=Qi(r,i,28)^ja(r,i,34)^ja(r,i,39),se=Ji(r,i,28)^qa(r,i,34)^qa(r,i,39),X=r&o^r&a^o&a,ne=i&s^i&c^s&c;S=F|0,E=W|0,F=x|0,W=T|0,x=w|0,T=p|0,{h:w,l:p}=cr(d|0,v|0,L|0,z|0),d=a|0,v=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const ce=x2(z,se,ne);r=E2(ce,L,ae,X),i=ce|0}({h:r,l:i}=cr(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=cr(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=cr(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:v}=cr(this.Dh|0,this.Dl|0,d|0,v|0),{h:w,l:p}=cr(this.Eh|0,this.El|0,w|0,p|0),{h:x,l:T}=cr(this.Fh|0,this.Fl|0,x|0,T|0),{h:F,l:W}=cr(this.Gh|0,this.Gl|0,F|0,W|0),{h:S,l:E}=cr(this.Hh|0,this.Hl|0,S|0,E|0),this.set(r,i,o,s,a,c,d,v,w,p,x,T,F,W,S,E)}roundClean(){Zs(Pr,Mr)}destroy(){Zs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const og=ih(()=>new rg),I2=ih(()=>new A2),F2=ih(()=>new O2),C2=og,U2=I2;function P2(e){return U2.create().update(new Uint8Array(e)).digest()}const La="__principal__",M2=2,$0=4,V2="aaaaa-aa",$2=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(n=>parseInt(n,16)))},z2=e=>e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"");let Oe=class fc{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([$0]))}static managementCanister(){return this.fromText(V2)}static selfAuthenticating(t){const n=P2(t);return new this(new Uint8Array([...n,M2]))}static from(t){if(typeof t=="string")return fc.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new fc(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new fc(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this($2(t))}static fromText(t){let n=t;if(t.includes(La)){const s=JSON.parse(t);La in s&&(n=s[La])}const r=n.toLowerCase().replace(/-/g,"");let i=u2(r);i=i.slice(4,i.length);const o=new this(i);if(o.toText()!==n)throw new Error(`Principal "${o.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return o}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===$0}toUint8Array(){return this._arr}toHex(){return z2(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,f2(this._arr));const r=new Uint8Array(t),i=Uint8Array.from(this._arr),o=new Uint8Array([...r,...i]),a=c2(o).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[La]:this.toText()}}compareTo(t){for(let n=0;n<Math.min(this._arr.length,t._arr.length);n++){if(this._arr[n]<t._arr[n])return"lt";if(this._arr[n]>t._arr[n])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const n=this.compareTo(t);return n=="lt"||n=="eq"}gtEq(t){const n=this.compareTo(t);return n=="gt"||n=="eq"}};function qn(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of e)t.set(new Uint8Array(r),n),n+=r.byteLength;return t.buffer}function nt(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const j2=new RegExp(/^[0-9a-fA-F]+$/);function Sr(e){if(!j2.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((n,r,i)=>(n[i/2|0]=(n[i/2|0]||"")+r,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(t).buffer}function sg(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return n[i]-r[i];return 0}function ma(e,t){return sg(e,t)===0}function Is(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function wr(e){return e instanceof Uint8Array?Is(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Is(new Uint8Array(e)):"buffer"in e?wr(e.buffer):Is(new Uint8Array(e))}class ut extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=ut.prototype,Object.setPrototypeOf(this,ut.prototype)}}function Ge(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of e)t.set(new Uint8Array(r),n),n+=r.byteLength;return t}class Qo{constructor(t,n=(t==null?void 0:t.byteLength)||0){this._buffer=$i(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}save(){return this._view}restore(t){this._view=t}get buffer(){return $i(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const n=this._view.subarray(0,t);return this._view=this._view.subarray(t),n.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const n=new Uint8Array(t),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,r)}get end(){return this._view.byteLength===0}alloc(t){const n=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),r=new Uint8Array(n,0,this._view.byteLength+t);r.set(this._view),this._buffer=n,this._view=r}}function Sl(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function $i(e){return e instanceof Uint8Array?Sl(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Sl(new Uint8Array(e)):"buffer"in e?$i(e.buffer):Sl(new Uint8Array(e))}function q2(e){const n=new TextEncoder().encode(e);let r=0;for(const i of n)r=(r*223+i)%2**32;return r}function rr(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return q2(e)}function ag(){throw new Error("unexpected end of buffer")}function zi(e,t){return e.byteLength<t&&ag(),e.read(t)}function ji(e){const t=e.readUint8();return t===void 0&&ag(),t}function lt(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Qo(new ArrayBuffer(t),0);for(;;){const r=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function St(e){let t=BigInt(1),n=BigInt(0),r;do r=ji(e),n+=BigInt(r&127).valueOf()*t,t*=BigInt(128);while(r>=128);return n}function xt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const n=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new Qo(new ArrayBuffer(n),0);for(;;){const o=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&o&64||!t&&e===BigInt(0)&&!(o&64)){r.write(new Uint8Array([o]));break}else r.write(new Uint8Array([o|128]))}function i(o){const s=o%BigInt(128);return Number(t?BigInt(128)-s-BigInt(1):s)}return r.buffer}function $r(e){const t=new Uint8Array(e.buffer);let n=0;for(;n<t.byteLength;n++)if(t[n]<128){if(!(t[n]&64))return St(e);break}const r=new Uint8Array(zi(e,n+1));let i=BigInt(0);for(let o=r.byteLength-1;o>=0;o--)i=i*BigInt(128)+BigInt(128-(r[o]&127)-1);return-i-BigInt(1)}function L2(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return cg(e,t)}function cg(e,t){e=BigInt(e);const n=new Qo(new ArrayBuffer(Math.min(1,t)),0);let r=0,i=BigInt(256),o=BigInt(0),s=Number(e%i);for(n.write(new Uint8Array([s]));++r<t;)e<0&&o===BigInt(0)&&s!==0&&(o=BigInt(1)),s=Number((e/i-o)%BigInt(256)),n.write(new Uint8Array([s])),i*=BigInt(256);return n.buffer}function ug(e,t){let n=BigInt(ji(e)),r=BigInt(1),i=0;for(;++i<t;){r*=BigInt(256);const o=BigInt(ji(e));n=n+r*o}return n}function G2(e,t){let n=ug(e,t);const r=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}function Hf(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const dc="DIDL",z0=400;function Xs(e,t,n){return e.map((r,i)=>n(r,t[i]))}class H2{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,n){const r=this._typs.length;this._idx.set(t.name,r),this._typs.push(n)}merge(t,n){const r=this._idx.get(t.name),i=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[i],this._typs.splice(i,1),this._idx.delete(n)}encode(){const t=lt(this._typs.length),n=Ge(...this._typs);return Ge(t,n)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return xt(this._idx.get(t)||0)}}class K2{visitType(t,n){throw new Error("Not implemented")}visitPrimitive(t,n){return this.visitType(t,n)}visitEmpty(t,n){return this.visitPrimitive(t,n)}visitBool(t,n){return this.visitPrimitive(t,n)}visitNull(t,n){return this.visitPrimitive(t,n)}visitReserved(t,n){return this.visitPrimitive(t,n)}visitText(t,n){return this.visitPrimitive(t,n)}visitNumber(t,n){return this.visitPrimitive(t,n)}visitInt(t,n){return this.visitNumber(t,n)}visitNat(t,n){return this.visitNumber(t,n)}visitFloat(t,n){return this.visitPrimitive(t,n)}visitFixedInt(t,n){return this.visitNumber(t,n)}visitFixedNat(t,n){return this.visitNumber(t,n)}visitPrincipal(t,n){return this.visitPrimitive(t,n)}visitConstruct(t,n){return this.visitType(t,n)}visitVec(t,n,r){return this.visitConstruct(t,r)}visitOpt(t,n,r){return this.visitConstruct(t,r)}visitRecord(t,n,r){return this.visitConstruct(t,r)}visitTuple(t,n,r){const i=n.map((o,s)=>[`_${s}_`,o]);return this.visitRecord(t,i,r)}visitVariant(t,n,r){return this.visitConstruct(t,r)}visitRec(t,n,r){return this.visitConstruct(n,r)}visitFunc(t,n){return this.visitConstruct(t,n)}visitService(t,n){return this.visitConstruct(t,n)}}class Iu{display(){return this.name}valueToString(t){return yt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Rn extends Iu{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class hi extends Iu{checkType(t){if(t instanceof Or){const n=t.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class lg extends Rn{accept(t,n){return t.visitEmpty(this,n)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return xt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class fg extends Iu{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,n){throw t.visitType(this,n)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,n){let r=n.decodeValue(t,n);Object(r)!==r&&(r=Object(r));let i;return n instanceof Or?i=()=>n.getType():i=()=>n,Object.defineProperty(r,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class dg extends Rn{accept(t,n){return t.visitBool(this,n)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return xt(-2)}decodeValue(t,n){switch(this.checkType(n),ji(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class ru extends Rn{accept(t,n){return t.visitNull(this,n)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return xt(-1)}decodeValue(t,n){return this.checkType(n),null}get name(){return"null"}}class Ko extends Rn{accept(t,n){return t.visitReserved(this,n)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return xt(-16)}decodeValue(t,n){return n.name!==this.name&&n.decodeValue(t,n),null}get name(){return"reserved"}}class hg extends Rn{accept(t,n){return t.visitText(this,n)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=new TextEncoder().encode(t),r=lt(n.byteLength);return Ge(r,n)}encodeType(){return xt(-15)}decodeValue(t,n){this.checkType(n);const r=St(t),i=zi(t,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class pg extends Rn{accept(t,n){return t.visitInt(this,n)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){return xt(t)}encodeType(){return xt(-4)}decodeValue(t,n){return this.checkType(n),$r(t)}get name(){return"int"}valueToString(t){return t.toString()}}class yg extends Rn{accept(t,n){return t.visitNat(this,n)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){return lt(t)}encodeType(){return xt(-3)}decodeValue(t,n){return this.checkType(n),St(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class oh extends Rn{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,n){return t.visitFloat(this,n)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,t,!0):r.setFloat64(0,t,!0),n}encodeType(){const t=this._bits===32?-13:-14;return xt(t)}decodeValue(t,n){this.checkType(n);const r=zi(t,this._bits/8),i=new DataView(r);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class qi extends Rn{constructor(t){super(),this._bits=t}accept(t,n){return t.visitFixedInt(this,n)}covariant(t){const n=Hf(this._bits-1)*BigInt(-1),r=Hf(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=n&&t<=r;else if(Number.isInteger(t)){const o=BigInt(t);i=o>=n&&o<=r}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){return cg(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return xt(-9-t)}decodeValue(t,n){this.checkType(n);const r=G2(t,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class si extends Rn{constructor(t){super(),this._bits=t}accept(t,n){return t.visitFixedNat(this,n)}covariant(t){const n=Hf(this._bits);let r=!1;if(typeof t=="bigint"&&t>=BigInt(0)?r=t<n:Number.isInteger(t)&&t>=0?r=BigInt(t)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){return L2(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return xt(-5-t)}decodeValue(t,n){this.checkType(n);const r=ug(t,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Fu extends hi{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof si&&t._bits===8&&(this._blobOptimization=!0)}accept(t,n){return t.visitVec(this,this._type,n)}covariant(t){const n=this._type instanceof si?this._type._bits:this._type instanceof qi?this._type._bits:0;if(ArrayBuffer.isView(t)&&n==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((r,i)=>{try{return this._type.covariant(r)}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=lt(t.length);if(this._blobOptimization)return Ge(n,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ge(n,new Uint8Array(t.buffer));const r=new Qo(new ArrayBuffer(n.byteLength+t.length),0);r.write(n);for(const i of t){const o=this._type.encodeValue(i);r.write(new Uint8Array(o))}return r.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const n=xt(-19),r=this._type.encodeType(t);t.add(this,Ge(n,r))}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof Fu))throw new Error("Not a vector type");const i=Number(St(t));if(this._type instanceof si){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof qi){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const o=[];for(let s=0;s<i;s++)o.push(this._type.decodeValue(t,r._type));return o}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(r=>this._type.valueToString(r)).join("; ")+"}"}}class Li extends hi{constructor(t){super(),this._type=t}accept(t,n){return t.visitOpt(this,this._type,n)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${yt(t)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ge(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const n=xt(-18),r=this._type.encodeType(t);t.add(this,Ge(n,r))}decodeValue(t,n){if(n instanceof ru)return[];if(n instanceof Ko)return[];let r=n;if(n instanceof Or){const i=n.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");r=i}if(r instanceof Li)switch(ji(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,r._type)]}catch{return t.restore(i),r._type.decodeValue(t,r._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof ru||this._type instanceof Li||this._type instanceof Ko)return r.decodeValue(t,r),[];{const i=t.save();try{return[this._type.decodeValue(t,n)]}catch{return t.restore(i),r.decodeValue(t,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class ga extends hi{constructor(t={}){super(),this._fields=Object.entries(t).sort((n,r)=>rr(n[0])-rr(r[0]))}accept(t,n){return t.visitRecord(this,this._fields,n)}tryAsTuple(){const t=[];for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(r!==`_${n}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([n,r])=>{if(!t.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=this._fields.map(([i])=>t[i]),r=Xs(this._fields,n,([,i],o)=>i.encodeValue(o));return Ge(...r)}_buildTypeTableImpl(t){this._fields.forEach(([o,s])=>s.buildTypeTable(t));const n=xt(-20),r=lt(this._fields.length),i=this._fields.map(([o,s])=>Ge(lt(rr(o)),s.encodeType(t)));t.add(this,Ge(n,r,Ge(...i)))}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof ga))throw new Error("Not a record type");const i={};let o=0,s=0;for(;s<r._fields.length;){const[a,c]=r._fields[s];if(o>=this._fields.length){c.decodeValue(t,c),s++;continue}const[d,v]=this._fields[o],w=rr(this._fields[o][0]),p=rr(a);if(w===p)i[d]=v.decodeValue(t,c),o++,s++;else if(p>w)if(v instanceof Li||v instanceof Ko)i[d]=[],o++;else throw new Error("Cannot find required field "+d);else c.decodeValue(t,c),s++}for(const[a,c]of this._fields.slice(o))if(c instanceof Li||c instanceof Ko)i[a]=[];else throw new Error("Cannot find required field "+a);return i}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(t){const n=this._fields.map(([i])=>t[i]);return`record {${Xs(this._fields,n,([i,o],s)=>i+"="+o.valueToString(s)).join("; ")}}`}}class Cu extends ga{constructor(t){const n={};t.forEach((r,i)=>n["_"+i+"_"]=r),super(n),this._components=t}accept(t,n){return t.visitTuple(this,this._components,n)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=Xs(this._components,t,(r,i)=>r.encodeValue(i));return Ge(...n)}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof Cu))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[o,s]of r._components.entries())o>=this._components.length?s.decodeValue(t,s):i.push(this._components[o].decodeValue(t,s));return i}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(t){return`record {${Xs(this._components,t,(r,i)=>r.valueToString(i)).join("; ")}}`}}class Uu extends hi{constructor(t={}){super(),this._fields=Object.entries(t).sort((n,r)=>rr(n[0])-rr(r[0]))}accept(t,n){return t.visitVariant(this,this._fields,n)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([n,r])=>{try{return!t.hasOwnProperty(n)||r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(t.hasOwnProperty(r)){const o=lt(n),s=i.encodeValue(t[r]);return Ge(o,s)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,o])=>{o.buildTypeTable(t)});const n=xt(-21),r=lt(this._fields.length),i=this._fields.map(([o,s])=>Ge(lt(rr(o)),s.encodeType(t)));t.add(this,Ge(n,r,...i))}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof Uu))throw new Error("Not a variant type");const i=Number(St(t));if(i>=r._fields.length)throw Error("Invalid variant index: "+i);const[o,s]=r._fields[i];for(const[a,c]of this._fields)if(rr(o)===rr(a)){const d=c.decodeValue(t,s);return{[a]:d}}throw new Error("Cannot find field hash "+o)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(t){for(const[n,r]of this._fields)if(t.hasOwnProperty(n)){const i=r.valueToString(t[n]);return i==="null"?`variant {${n}}`:`variant {${n}=${i}}`}throw new Error("Variant has no data: "+t)}}class Or extends hi{constructor(){super(...arguments),this._id=Or._counter++,this._type=void 0}accept(t,n){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,n)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}Or._counter=0;function sh(e){if(ji(e)!==1)throw new Error("Cannot decode principal");const n=Number(St(e));return Oe.fromUint8Array(new Uint8Array(zi(e,n)))}class mg extends Rn{accept(t,n){return t.visitPrincipal(this,n)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=t.toUint8Array(),r=lt(n.byteLength);return Ge(new Uint8Array([1]),r,n)}encodeType(){return xt(-24)}decodeValue(t,n){return this.checkType(n),sh(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class ah extends hi{constructor(t,n,r=[]){super(),this.argTypes=t,this.retTypes=n,this.annotations=r}static argsToString(t,n){if(t.length!==n.length)throw new Error("arity mismatch");return"("+t.map((r,i)=>r.valueToString(n[i])).join(", ")+")"}accept(t,n){return t.visitFunc(this,n)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue([t,n]){const r=t.toUint8Array(),i=lt(r.byteLength),o=Ge(new Uint8Array([1]),i,r),s=new TextEncoder().encode(n),a=lt(s.byteLength);return Ge(new Uint8Array([1]),o,a,s)}_buildTypeTableImpl(t){this.argTypes.forEach(d=>d.buildTypeTable(t)),this.retTypes.forEach(d=>d.buildTypeTable(t));const n=xt(-22),r=lt(this.argTypes.length),i=Ge(...this.argTypes.map(d=>d.encodeType(t))),o=lt(this.retTypes.length),s=Ge(...this.retTypes.map(d=>d.encodeType(t))),a=lt(this.annotations.length),c=Ge(...this.annotations.map(d=>this.encodeAnnotation(d)));t.add(this,Ge(n,r,i,o,s,a,c))}decodeValue(t){if(ji(t)!==1)throw new Error("Cannot decode function reference");const r=sh(t),i=Number(St(t)),o=zi(t,i),a=new TextDecoder("utf8",{fatal:!0}).decode(o);return[r,a]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),n=this.retTypes.map(i=>i.name).join(", "),r=" "+this.annotations.join(" ");return`(${t}) -> (${n})${r}`}valueToString([t,n]){return`func "${t.toText()}".${n}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),n=this.retTypes.map(i=>i.display()).join(", "),r=" "+this.annotations.join(" ");return`(${t})  (${n})${r}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class gg extends hi{constructor(t){super(),this._fields=Object.entries(t).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(t,n){return t.visitService(this,n)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${yt(t)}`)}encodeValue(t){const n=t.toUint8Array(),r=lt(n.length);return Ge(new Uint8Array([1]),r,n)}_buildTypeTableImpl(t){this._fields.forEach(([o,s])=>s.buildTypeTable(t));const n=xt(-23),r=lt(this._fields.length),i=this._fields.map(([o,s])=>{const a=new TextEncoder().encode(o),c=lt(a.length);return Ge(c,a,s.encodeType(t))});t.add(this,Ge(n,r,...i))}decodeValue(t){return sh(t)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function yt(e){const t=JSON.stringify(e,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return t&&t.length>z0?t.substring(0,z0-3)+"...":t}function Kf(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const n=new H2;e.forEach(c=>c.buildTypeTable(n));const r=new TextEncoder().encode(dc),i=n.encode(),o=lt(t.length),s=Ge(...e.map(c=>c.encodeType(n))),a=Ge(...Xs(e,t,(c,d)=>{try{c.covariant(d)}catch(v){throw new Error(v.message+`

`)}return c.encodeValue(d)}));return Ge(r,i,o,s,a)}function wg(e,t){const n=new Qo(t);if(t.byteLength<dc.length)throw new Error("Message length smaller than magic number");const r=zi(n,dc.length),i=new TextDecoder().decode(r);if(i!==dc)throw new Error("Wrong magic number: "+JSON.stringify(i));function o(x){const T=[],F=Number(St(x));for(let E=0;E<F;E++){const b=Number($r(x));switch(b){case-18:case-19:{const M=Number($r(x));T.push([b,M]);break}case-20:case-21:{const M=[];let $=Number(St(x)),V;for(;$--;){const P=Number(St(x));if(P>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof V=="number"&&V>=P)throw new Error("field id collision or not sorted");V=P;const D=Number($r(x));M.push([P,D])}T.push([b,M]);break}case-22:{const M=[];let $=Number(St(x));for(;$--;)M.push(Number($r(x)));const V=[];let P=Number(St(x));for(;P--;)V.push(Number($r(x)));const D=[];let L=Number(St(x));for(;L--;)switch(Number(St(x))){case 1:{D.push("query");break}case 2:{D.push("oneway");break}case 3:{D.push("composite_query");break}default:throw new Error("unknown annotation")}T.push([b,[M,V,D]]);break}case-23:{let M=Number(St(x));const $=[];for(;M--;){const V=Number(St(x)),P=new TextDecoder().decode(zi(x,V)),D=$r(x);$.push([P,D])}T.push([b,$]);break}default:throw new Error("Illegal op_code: "+b)}}const W=[],S=Number(St(x));for(let E=0;E<S;E++)W.push(Number($r(x)));return[T,W]}const[s,a]=o(n);if(a.length<e.length)throw new Error("Wrong number of return values");const c=s.map(x=>qg());function d(x){if(x<-24)throw new Error("future value not supported");if(x<0)switch(x){case-1:return Eg;case-2:return xg;case-3:return Tg;case-4:return Sg;case-5:return Ig;case-6:return Fg;case-7:return Cg;case-8:return Ug;case-9:return Ag;case-10:return kg;case-11:return Rg;case-12:return Og;case-13:return Ng;case-14:return Bg;case-15:return bg;case-16:return vg;case-17:return _g;case-24:return Pg;default:throw new Error("Illegal op_code: "+x)}if(x>=s.length)throw new Error("type index out of range");return c[x]}function v(x){switch(x[0]){case-19:{const T=d(x[1]);return Vg(T)}case-18:{const T=d(x[1]);return $g(T)}case-20:{const T={};for(const[S,E]of x[1]){const b=`_${S}_`;T[b]=d(E)}const F=zg(T),W=F.tryAsTuple();return Array.isArray(W)?Mg(...W):F}case-21:{const T={};for(const[F,W]of x[1]){const S=`_${F}_`;T[S]=d(W)}return jg(T)}case-22:{const[T,F,W]=x[1];return Lg(T.map(S=>d(S)),F.map(S=>d(S)),W)}case-23:{const T={},F=x[1];for(const[W,S]of F){let E=d(S);if(E instanceof Or&&(E=E.getType()),!(E instanceof ah))throw new Error("Illegal service definition: services can only contain functions");T[W]=E}return Gg(T)}default:throw new Error("Illegal op_code: "+x[0])}}s.forEach((x,T)=>{if(x[0]===-22){const F=v(x);c[T].fill(F)}}),s.forEach((x,T)=>{if(x[0]!==-22){const F=v(x);c[T].fill(F)}});const w=a.map(x=>d(x)),p=e.map((x,T)=>x.decodeValue(n,w[T]));for(let x=e.length;x<w.length;x++)w[x].decodeValue(n,w[x]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return p}const _g=new lg,vg=new Ko,W2=new fg,xg=new dg,Eg=new ru,bg=new hg,Sg=new pg,Tg=new yg,Ng=new oh(32),Bg=new oh(64),Ag=new qi(8),kg=new qi(16),Rg=new qi(32),Og=new qi(64),Ig=new si(8),Fg=new si(16),Cg=new si(32),Ug=new si(64),Pg=new mg;function Mg(...e){return new Cu(e)}function Vg(e){return new Fu(e)}function $g(e){return new Li(e)}function zg(e){return new ga(e)}function jg(e){return new Uu(e)}function qg(){return new Or}function Lg(e,t,n=[]){return new ah(e,t,n)}function Gg(e){return new gg(e)}const D2=Object.freeze(Object.defineProperty({__proto__:null,Bool:xg,BoolClass:dg,ConstructType:hi,Empty:_g,EmptyClass:lg,FixedIntClass:qi,FixedNatClass:si,Float32:Ng,Float64:Bg,FloatClass:oh,Func:Lg,FuncClass:ah,Int:Sg,Int16:kg,Int32:Rg,Int64:Og,Int8:Ag,IntClass:pg,Nat:Tg,Nat16:Fg,Nat32:Cg,Nat64:Ug,Nat8:Ig,NatClass:yg,Null:Eg,NullClass:ru,Opt:$g,OptClass:Li,PrimitiveType:Rn,Principal:Pg,PrincipalClass:mg,Rec:qg,RecClass:Or,Record:zg,RecordClass:ga,Reserved:vg,ReservedClass:Ko,Service:Gg,ServiceClass:gg,Text:bg,TextClass:hg,Tuple:Mg,TupleClass:Cu,Type:Iu,Unknown:W2,UnknownClass:fg,Variant:jg,VariantClass:Uu,Vec:Vg,VecClass:Fu,Visitor:K2,decode:wg,encode:Kf},Symbol.toStringTag,{value:"Module"}));var Hg={},wa={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=da,n=ha,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var y=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(y,u),y.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');var u=new Uint8Array(y);return Object.setPrototypeOf(u,a.prototype),u}function a(y,u,l){if(typeof y=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(y)}return c(y,u,l)}a.poolSize=8192;function c(y,u,l){if(typeof y=="string")return p(y,u);if(ArrayBuffer.isView(y))return T(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(K(y,ArrayBuffer)||y&&K(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(y,SharedArrayBuffer)||y&&K(y.buffer,SharedArrayBuffer)))return F(y,u,l);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _=y.valueOf&&y.valueOf();if(_!=null&&_!==y)return a.from(_,u,l);var N=W(y);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return a.from(y[Symbol.toPrimitive]("string"),u,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}a.from=function(y,u,l){return c(y,u,l)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function v(y,u,l){return d(y),y<=0?s(y):u!==void 0?typeof l=="string"?s(y).fill(u,l):s(y).fill(u):s(y)}a.alloc=function(y,u,l){return v(y,u,l)};function w(y){return d(y),s(y<0?0:S(y)|0)}a.allocUnsafe=function(y){return w(y)},a.allocUnsafeSlow=function(y){return w(y)};function p(y,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var l=b(y,u)|0,_=s(l),N=_.write(y,u);return N!==l&&(_=_.slice(0,N)),_}function x(y){for(var u=y.length<0?0:S(y.length)|0,l=s(u),_=0;_<u;_+=1)l[_]=y[_]&255;return l}function T(y){if(K(y,Uint8Array)){var u=new Uint8Array(y);return F(u.buffer,u.byteOffset,u.byteLength)}return x(y)}function F(y,u,l){if(u<0||y.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<u+(l||0))throw new RangeError('"length" is outside of buffer bounds');var _;return u===void 0&&l===void 0?_=new Uint8Array(y):l===void 0?_=new Uint8Array(y,u):_=new Uint8Array(y,u,l),Object.setPrototypeOf(_,a.prototype),_}function W(y){if(a.isBuffer(y)){var u=S(y.length)|0,l=s(u);return l.length===0||y.copy(l,0,0,u),l}if(y.length!==void 0)return typeof y.length!="number"||q(y.length)?s(0):x(y);if(y.type==="Buffer"&&Array.isArray(y.data))return x(y.data)}function S(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return y|0}function E(y){return+y!=y&&(y=0),a.alloc(+y)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,l){if(K(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),K(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(u)||!a.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===l)return 0;for(var _=u.length,N=l.length,C=0,ee=Math.min(_,N);C<ee;++C)if(u[C]!==l[C]){_=u[C],N=l[C];break}return _<N?-1:N<_?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,l){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);var _;if(l===void 0)for(l=0,_=0;_<u.length;++_)l+=u[_].length;var N=a.allocUnsafe(l),C=0;for(_=0;_<u.length;++_){var ee=u[_];if(K(ee,Uint8Array))C+ee.length>N.length?a.from(ee).copy(N,C):Uint8Array.prototype.set.call(N,ee,C);else if(a.isBuffer(ee))ee.copy(N,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=ee.length}return N};function b(y,u){if(a.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||K(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var l=y.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&l===0)return 0;for(var N=!1;;)switch(u){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return ye(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return R(y).length;default:if(N)return _?-1:ye(y).length;u=(""+u).toLowerCase(),N=!0}}a.byteLength=b;function M(y,u,l){var _=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,u>>>=0,l<=u))return"";for(y||(y="utf8");;)switch(y){case"hex":return re(this,u,l);case"utf8":case"utf-8":return ne(this,u,l);case"ascii":return we(this,u,l);case"latin1":case"binary":return J(this,u,l);case"base64":return X(this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,u,l);default:if(_)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),_=!0}}a.prototype._isBuffer=!0;function $(y,u,l){var _=y[u];y[u]=y[l],y[l]=_}a.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var l=0;l<u;l+=2)$(this,l,l+1);return this},a.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var l=0;l<u;l+=4)$(this,l,l+3),$(this,l+1,l+2);return this},a.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var l=0;l<u;l+=8)$(this,l,l+7),$(this,l+1,l+6),$(this,l+2,l+5),$(this,l+3,l+4);return this},a.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?ne(this,0,u):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){var u="",l=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(u+=" ... "),"<Buffer "+u+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(u,l,_,N,C){if(K(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(l===void 0&&(l=0),_===void 0&&(_=u?u.length:0),N===void 0&&(N=0),C===void 0&&(C=this.length),l<0||_>u.length||N<0||C>this.length)throw new RangeError("out of range index");if(N>=C&&l>=_)return 0;if(N>=C)return-1;if(l>=_)return 1;if(l>>>=0,_>>>=0,N>>>=0,C>>>=0,this===u)return 0;for(var ee=C-N,ue=_-l,me=Math.min(ee,ue),_e=this.slice(N,C),Be=u.slice(l,_),g=0;g<me;++g)if(_e[g]!==Be[g]){ee=_e[g],ue=Be[g];break}return ee<ue?-1:ue<ee?1:0};function V(y,u,l,_,N){if(y.length===0)return-1;if(typeof l=="string"?(_=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,q(l)&&(l=N?0:y.length-1),l<0&&(l=y.length+l),l>=y.length){if(N)return-1;l=y.length-1}else if(l<0)if(N)l=0;else return-1;if(typeof u=="string"&&(u=a.from(u,_)),a.isBuffer(u))return u.length===0?-1:P(y,u,l,_,N);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(y,u,l):Uint8Array.prototype.lastIndexOf.call(y,u,l):P(y,[u],l,_,N);throw new TypeError("val must be string, number or Buffer")}function P(y,u,l,_,N){var C=1,ee=y.length,ue=u.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(y.length<2||u.length<2)return-1;C=2,ee/=2,ue/=2,l/=2}function me(h,O){return C===1?h[O]:h.readUInt16BE(O*C)}var _e;if(N){var Be=-1;for(_e=l;_e<ee;_e++)if(me(y,_e)===me(u,Be===-1?0:_e-Be)){if(Be===-1&&(Be=_e),_e-Be+1===ue)return Be*C}else Be!==-1&&(_e-=_e-Be),Be=-1}else for(l+ue>ee&&(l=ee-ue),_e=l;_e>=0;_e--){for(var g=!0,f=0;f<ue;f++)if(me(y,_e+f)!==me(u,f)){g=!1;break}if(g)return _e}return-1}a.prototype.includes=function(u,l,_){return this.indexOf(u,l,_)!==-1},a.prototype.indexOf=function(u,l,_){return V(this,u,l,_,!0)},a.prototype.lastIndexOf=function(u,l,_){return V(this,u,l,_,!1)};function D(y,u,l,_){l=Number(l)||0;var N=y.length-l;_?(_=Number(_),_>N&&(_=N)):_=N;var C=u.length;_>C/2&&(_=C/2);for(var ee=0;ee<_;++ee){var ue=parseInt(u.substr(ee*2,2),16);if(q(ue))return ee;y[l+ee]=ue}return ee}function L(y,u,l,_){return U(ye(u,y.length-l),y,l,_)}function z(y,u,l,_){return U(ge(u),y,l,_)}function ae(y,u,l,_){return U(R(u),y,l,_)}function se(y,u,l,_){return U(B(u,y.length-l),y,l,_)}a.prototype.write=function(u,l,_,N){if(l===void 0)N="utf8",_=this.length,l=0;else if(_===void 0&&typeof l=="string")N=l,_=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(_)?(_=_>>>0,N===void 0&&(N="utf8")):(N=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var C=this.length-l;if((_===void 0||_>C)&&(_=C),u.length>0&&(_<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var ee=!1;;)switch(N){case"hex":return D(this,u,l,_);case"utf8":case"utf-8":return L(this,u,l,_);case"ascii":case"latin1":case"binary":return z(this,u,l,_);case"base64":return ae(this,u,l,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,u,l,_);default:if(ee)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(y,u,l){return u===0&&l===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(u,l))}function ne(y,u,l){l=Math.min(y.length,l);for(var _=[],N=u;N<l;){var C=y[N],ee=null,ue=C>239?4:C>223?3:C>191?2:1;if(N+ue<=l){var me,_e,Be,g;switch(ue){case 1:C<128&&(ee=C);break;case 2:me=y[N+1],(me&192)===128&&(g=(C&31)<<6|me&63,g>127&&(ee=g));break;case 3:me=y[N+1],_e=y[N+2],(me&192)===128&&(_e&192)===128&&(g=(C&15)<<12|(me&63)<<6|_e&63,g>2047&&(g<55296||g>57343)&&(ee=g));break;case 4:me=y[N+1],_e=y[N+2],Be=y[N+3],(me&192)===128&&(_e&192)===128&&(Be&192)===128&&(g=(C&15)<<18|(me&63)<<12|(_e&63)<<6|Be&63,g>65535&&g<1114112&&(ee=g))}}ee===null?(ee=65533,ue=1):ee>65535&&(ee-=65536,_.push(ee>>>10&1023|55296),ee=56320|ee&1023),_.push(ee),N+=ue}return de(_)}var ce=4096;function de(y){var u=y.length;if(u<=ce)return String.fromCharCode.apply(String,y);for(var l="",_=0;_<u;)l+=String.fromCharCode.apply(String,y.slice(_,_+=ce));return l}function we(y,u,l){var _="";l=Math.min(y.length,l);for(var N=u;N<l;++N)_+=String.fromCharCode(y[N]&127);return _}function J(y,u,l){var _="";l=Math.min(y.length,l);for(var N=u;N<l;++N)_+=String.fromCharCode(y[N]);return _}function re(y,u,l){var _=y.length;(!u||u<0)&&(u=0),(!l||l<0||l>_)&&(l=_);for(var N="",C=u;C<l;++C)N+=Y[y[C]];return N}function ie(y,u,l){for(var _=y.slice(u,l),N="",C=0;C<_.length-1;C+=2)N+=String.fromCharCode(_[C]+_[C+1]*256);return N}a.prototype.slice=function(u,l){var _=this.length;u=~~u,l=l===void 0?_:~~l,u<0?(u+=_,u<0&&(u=0)):u>_&&(u=_),l<0?(l+=_,l<0&&(l=0)):l>_&&(l=_),l<u&&(l=u);var N=this.subarray(u,l);return Object.setPrototypeOf(N,a.prototype),N};function oe(y,u,l){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+u>l)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,l,_){u=u>>>0,l=l>>>0,_||oe(u,l,this.length);for(var N=this[u],C=1,ee=0;++ee<l&&(C*=256);)N+=this[u+ee]*C;return N},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,l,_){u=u>>>0,l=l>>>0,_||oe(u,l,this.length);for(var N=this[u+--l],C=1;l>0&&(C*=256);)N+=this[u+--l]*C;return N},a.prototype.readUint8=a.prototype.readUInt8=function(u,l){return u=u>>>0,l||oe(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,l){return u=u>>>0,l||oe(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,l){return u=u>>>0,l||oe(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,l){return u=u>>>0,l||oe(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,l){return u=u>>>0,l||oe(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readIntLE=function(u,l,_){u=u>>>0,l=l>>>0,_||oe(u,l,this.length);for(var N=this[u],C=1,ee=0;++ee<l&&(C*=256);)N+=this[u+ee]*C;return C*=128,N>=C&&(N-=Math.pow(2,8*l)),N},a.prototype.readIntBE=function(u,l,_){u=u>>>0,l=l>>>0,_||oe(u,l,this.length);for(var N=l,C=1,ee=this[u+--N];N>0&&(C*=256);)ee+=this[u+--N]*C;return C*=128,ee>=C&&(ee-=Math.pow(2,8*l)),ee},a.prototype.readInt8=function(u,l){return u=u>>>0,l||oe(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,l){u=u>>>0,l||oe(u,2,this.length);var _=this[u]|this[u+1]<<8;return _&32768?_|4294901760:_},a.prototype.readInt16BE=function(u,l){u=u>>>0,l||oe(u,2,this.length);var _=this[u+1]|this[u]<<8;return _&32768?_|4294901760:_},a.prototype.readInt32LE=function(u,l){return u=u>>>0,l||oe(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,l){return u=u>>>0,l||oe(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readFloatLE=function(u,l){return u=u>>>0,l||oe(u,4,this.length),n.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,l){return u=u>>>0,l||oe(u,4,this.length),n.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,l){return u=u>>>0,l||oe(u,8,this.length),n.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,l){return u=u>>>0,l||oe(u,8,this.length),n.read(this,u,!1,52,8)};function te(y,u,l,_,N,C){if(!a.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>N||u<C)throw new RangeError('"value" argument is out of bounds');if(l+_>y.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,l,_,N){if(u=+u,l=l>>>0,_=_>>>0,!N){var C=Math.pow(2,8*_)-1;te(this,u,l,_,C,0)}var ee=1,ue=0;for(this[l]=u&255;++ue<_&&(ee*=256);)this[l+ue]=u/ee&255;return l+_},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,l,_,N){if(u=+u,l=l>>>0,_=_>>>0,!N){var C=Math.pow(2,8*_)-1;te(this,u,l,_,C,0)}var ee=_-1,ue=1;for(this[l+ee]=u&255;--ee>=0&&(ue*=256);)this[l+ee]=u/ue&255;return l+_},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,1,255,0),this[l]=u&255,l+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,2,65535,0),this[l]=u&255,this[l+1]=u>>>8,l+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,2,65535,0),this[l]=u>>>8,this[l+1]=u&255,l+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,4,4294967295,0),this[l+3]=u>>>24,this[l+2]=u>>>16,this[l+1]=u>>>8,this[l]=u&255,l+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,4,4294967295,0),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4},a.prototype.writeIntLE=function(u,l,_,N){if(u=+u,l=l>>>0,!N){var C=Math.pow(2,8*_-1);te(this,u,l,_,C-1,-C)}var ee=0,ue=1,me=0;for(this[l]=u&255;++ee<_&&(ue*=256);)u<0&&me===0&&this[l+ee-1]!==0&&(me=1),this[l+ee]=(u/ue>>0)-me&255;return l+_},a.prototype.writeIntBE=function(u,l,_,N){if(u=+u,l=l>>>0,!N){var C=Math.pow(2,8*_-1);te(this,u,l,_,C-1,-C)}var ee=_-1,ue=1,me=0;for(this[l+ee]=u&255;--ee>=0&&(ue*=256);)u<0&&me===0&&this[l+ee+1]!==0&&(me=1),this[l+ee]=(u/ue>>0)-me&255;return l+_},a.prototype.writeInt8=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,1,127,-128),u<0&&(u=255+u+1),this[l]=u&255,l+1},a.prototype.writeInt16LE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,2,32767,-32768),this[l]=u&255,this[l+1]=u>>>8,l+2},a.prototype.writeInt16BE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,2,32767,-32768),this[l]=u>>>8,this[l+1]=u&255,l+2},a.prototype.writeInt32LE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,4,2147483647,-2147483648),this[l]=u&255,this[l+1]=u>>>8,this[l+2]=u>>>16,this[l+3]=u>>>24,l+4},a.prototype.writeInt32BE=function(u,l,_){return u=+u,l=l>>>0,_||te(this,u,l,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4};function Ne(y,u,l,_,N,C){if(l+_>y.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function A(y,u,l,_,N){return u=+u,l=l>>>0,N||Ne(y,u,l,4),n.write(y,u,l,_,23,4),l+4}a.prototype.writeFloatLE=function(u,l,_){return A(this,u,l,!0,_)},a.prototype.writeFloatBE=function(u,l,_){return A(this,u,l,!1,_)};function Se(y,u,l,_,N){return u=+u,l=l>>>0,N||Ne(y,u,l,8),n.write(y,u,l,_,52,8),l+8}a.prototype.writeDoubleLE=function(u,l,_){return Se(this,u,l,!0,_)},a.prototype.writeDoubleBE=function(u,l,_){return Se(this,u,l,!1,_)},a.prototype.copy=function(u,l,_,N){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(_||(_=0),!N&&N!==0&&(N=this.length),l>=u.length&&(l=u.length),l||(l=0),N>0&&N<_&&(N=_),N===_||u.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),u.length-l<N-_&&(N=u.length-l+_);var C=N-_;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,_,N):Uint8Array.prototype.set.call(u,this.subarray(_,N),l),C},a.prototype.fill=function(u,l,_,N){if(typeof u=="string"){if(typeof l=="string"?(N=l,l=0,_=this.length):typeof _=="string"&&(N=_,_=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(u.length===1){var C=u.charCodeAt(0);(N==="utf8"&&C<128||N==="latin1")&&(u=C)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(l<0||this.length<l||this.length<_)throw new RangeError("Out of range index");if(_<=l)return this;l=l>>>0,_=_===void 0?this.length:_>>>0,u||(u=0);var ee;if(typeof u=="number")for(ee=l;ee<_;++ee)this[ee]=u;else{var ue=a.isBuffer(u)?u:a.from(u,N),me=ue.length;if(me===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(ee=0;ee<_-l;++ee)this[ee+l]=ue[ee%me]}return this};var Ce=/[^+/0-9A-Za-z-_]/g;function Fe(y){if(y=y.split("=")[0],y=y.trim().replace(Ce,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function ye(y,u){u=u||1/0;for(var l,_=y.length,N=null,C=[],ee=0;ee<_;++ee){if(l=y.charCodeAt(ee),l>55295&&l<57344){if(!N){if(l>56319){(u-=3)>-1&&C.push(239,191,189);continue}else if(ee+1===_){(u-=3)>-1&&C.push(239,191,189);continue}N=l;continue}if(l<56320){(u-=3)>-1&&C.push(239,191,189),N=l;continue}l=(N-55296<<10|l-56320)+65536}else N&&(u-=3)>-1&&C.push(239,191,189);if(N=null,l<128){if((u-=1)<0)break;C.push(l)}else if(l<2048){if((u-=2)<0)break;C.push(l>>6|192,l&63|128)}else if(l<65536){if((u-=3)<0)break;C.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((u-=4)<0)break;C.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return C}function ge(y){for(var u=[],l=0;l<y.length;++l)u.push(y.charCodeAt(l)&255);return u}function B(y,u){for(var l,_,N,C=[],ee=0;ee<y.length&&!((u-=2)<0);++ee)l=y.charCodeAt(ee),_=l>>8,N=l%256,C.push(N),C.push(_);return C}function R(y){return t.toByteArray(Fe(y))}function U(y,u,l,_){for(var N=0;N<_&&!(N+l>=u.length||N>=y.length);++N)u[N+l]=y[N];return N}function K(y,u){return y instanceof u||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===u.name}function q(y){return y!==y}var Y=function(){for(var y="0123456789abcdef",u=new Array(256),l=0;l<16;++l)for(var _=l*16,N=0;N<16;++N)u[_+N]=y[l]+y[N];return u}()})(wa);var Kg={exports:{}};(function(e){(function(t){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,d=14,v=9007199254740991,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,x=1e9;function T(V){var P,D,L,z=A.prototype={constructor:A,toString:null,valueOf:null},ae=new A(1),se=20,X=4,ne=-7,ce=21,de=-1e7,we=1e7,J=!1,re=1,ie=0,oe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},te="0123456789abcdefghijklmnopqrstuvwxyz",Ne=!0;function A(B,R){var U,K,q,Y,y,u,l,_,N=this;if(!(N instanceof A))return new A(B,R);if(R==null){if(B&&B._isBigNumber===!0){N.s=B.s,!B.c||B.e>we?N.c=N.e=null:B.e<de?N.c=[N.e=0]:(N.e=B.e,N.c=B.c.slice());return}if((u=typeof B=="number")&&B*0==0){if(N.s=1/B<0?(B=-B,-1):1,B===~~B){for(Y=0,y=B;y>=10;y/=10,Y++);Y>we?N.c=N.e=null:(N.e=Y,N.c=[B]);return}_=String(B)}else{if(!r.test(_=String(B)))return L(N,_,u);N.s=_.charCodeAt(0)==45?(_=_.slice(1),-1):1}(Y=_.indexOf("."))>-1&&(_=_.replace(".","")),(y=_.search(/e/i))>0?(Y<0&&(Y=y),Y+=+_.slice(y+1),_=_.substring(0,y)):Y<0&&(Y=_.length)}else{if(E(R,2,te.length,"Base"),R==10&&Ne)return N=new A(B),ye(N,se+N.e+1,X);if(_=String(B),u=typeof B=="number"){if(B*0!=0)return L(N,_,u,R);if(N.s=1/B<0?(_=_.slice(1),-1):1,A.DEBUG&&_.replace(/^0\.0*|\./,"").length>15)throw Error(a+B)}else N.s=_.charCodeAt(0)===45?(_=_.slice(1),-1):1;for(U=te.slice(0,R),Y=y=0,l=_.length;y<l;y++)if(U.indexOf(K=_.charAt(y))<0){if(K=="."){if(y>Y){Y=l;continue}}else if(!q&&(_==_.toUpperCase()&&(_=_.toLowerCase())||_==_.toLowerCase()&&(_=_.toUpperCase()))){q=!0,y=-1,Y=0;continue}return L(N,String(B),u,R)}u=!1,_=D(_,R,10,N.s),(Y=_.indexOf("."))>-1?_=_.replace(".",""):Y=_.length}for(y=0;_.charCodeAt(y)===48;y++);for(l=_.length;_.charCodeAt(--l)===48;);if(_=_.slice(y,++l)){if(l-=y,u&&A.DEBUG&&l>15&&(B>v||B!==o(B)))throw Error(a+N.s*B);if((Y=Y-y-1)>we)N.c=N.e=null;else if(Y<de)N.c=[N.e=0];else{if(N.e=Y,N.c=[],y=(Y+1)%d,Y<0&&(y+=d),y<l){for(y&&N.c.push(+_.slice(0,y)),l-=d;y<l;)N.c.push(+_.slice(y,y+=d));y=d-(_=_.slice(y)).length}else y-=l;for(;y--;_+="0");N.c.push(+_)}}else N.c=[N.e=0]}A.clone=T,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(B){var R,U;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(R="DECIMAL_PLACES")&&(U=B[R],E(U,0,x,R),se=U),B.hasOwnProperty(R="ROUNDING_MODE")&&(U=B[R],E(U,0,8,R),X=U),B.hasOwnProperty(R="EXPONENTIAL_AT")&&(U=B[R],U&&U.pop?(E(U[0],-x,0,R),E(U[1],0,x,R),ne=U[0],ce=U[1]):(E(U,-x,x,R),ne=-(ce=U<0?-U:U))),B.hasOwnProperty(R="RANGE"))if(U=B[R],U&&U.pop)E(U[0],-x,-1,R),E(U[1],1,x,R),de=U[0],we=U[1];else if(E(U,-x,x,R),U)de=-(we=U<0?-U:U);else throw Error(s+R+" cannot be zero: "+U);if(B.hasOwnProperty(R="CRYPTO"))if(U=B[R],U===!!U)if(U)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))J=U;else throw J=!U,Error(s+"crypto unavailable");else J=U;else throw Error(s+R+" not true or false: "+U);if(B.hasOwnProperty(R="MODULO_MODE")&&(U=B[R],E(U,0,9,R),re=U),B.hasOwnProperty(R="POW_PRECISION")&&(U=B[R],E(U,0,x,R),ie=U),B.hasOwnProperty(R="FORMAT"))if(U=B[R],typeof U=="object")oe=U;else throw Error(s+R+" not an object: "+U);if(B.hasOwnProperty(R="ALPHABET"))if(U=B[R],typeof U=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(U))Ne=U.slice(0,10)=="0123456789",te=U;else throw Error(s+R+" invalid: "+U)}else throw Error(s+"Object expected: "+B);return{DECIMAL_PLACES:se,ROUNDING_MODE:X,EXPONENTIAL_AT:[ne,ce],RANGE:[de,we],CRYPTO:J,MODULO_MODE:re,POW_PRECISION:ie,FORMAT:oe,ALPHABET:te}},A.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var R,U,K=B.c,q=B.e,Y=B.s;e:if({}.toString.call(K)=="[object Array]"){if((Y===1||Y===-1)&&q>=-x&&q<=x&&q===o(q)){if(K[0]===0){if(q===0&&K.length===1)return!0;break e}if(R=(q+1)%d,R<1&&(R+=d),String(K[0]).length==R){for(R=0;R<K.length;R++)if(U=K[R],U<0||U>=c||U!==o(U))break e;if(U!==0)return!0}}}else if(K===null&&q===null&&(Y===null||Y===1||Y===-1))return!0;throw Error(s+"Invalid BigNumber: "+B)},A.maximum=A.max=function(){return Ce(arguments,-1)},A.minimum=A.min=function(){return Ce(arguments,1)},A.random=function(){var B=9007199254740992,R=Math.random()*B&2097151?function(){return o(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(U){var K,q,Y,y,u,l=0,_=[],N=new A(ae);if(U==null?U=se:E(U,0,x),y=i(U/d),J)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(y*=2));l<y;)u=K[l]*131072+(K[l+1]>>>11),u>=9e15?(q=crypto.getRandomValues(new Uint32Array(2)),K[l]=q[0],K[l+1]=q[1]):(_.push(u%1e14),l+=2);l=y/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(y*=7);l<y;)u=(K[l]&31)*281474976710656+K[l+1]*1099511627776+K[l+2]*4294967296+K[l+3]*16777216+(K[l+4]<<16)+(K[l+5]<<8)+K[l+6],u>=9e15?crypto.randomBytes(7).copy(K,l):(_.push(u%1e14),l+=7);l=y/7}else throw J=!1,Error(s+"crypto unavailable");if(!J)for(;l<y;)u=R(),u<9e15&&(_[l++]=u%1e14);for(y=_[--l],U%=d,y&&U&&(u=w[d-U],_[l]=o(y/u)*u);_[l]===0;_.pop(),l--);if(l<0)_=[Y=0];else{for(Y=-1;_[0]===0;_.splice(0,1),Y-=d);for(l=1,u=_[0];u>=10;u/=10,l++);l<d&&(Y-=d-l)}return N.e=Y,N.c=_,N}}(),A.sum=function(){for(var B=1,R=arguments,U=new A(R[0]);B<R.length;)U=U.plus(R[B++]);return U},D=function(){var B="0123456789";function R(U,K,q,Y){for(var y,u=[0],l,_=0,N=U.length;_<N;){for(l=u.length;l--;u[l]*=K);for(u[0]+=Y.indexOf(U.charAt(_++)),y=0;y<u.length;y++)u[y]>q-1&&(u[y+1]==null&&(u[y+1]=0),u[y+1]+=u[y]/q|0,u[y]%=q)}return u.reverse()}return function(U,K,q,Y,y){var u,l,_,N,C,ee,ue,me,_e=U.indexOf("."),Be=se,g=X;for(_e>=0&&(N=ie,ie=0,U=U.replace(".",""),me=new A(K),ee=me.pow(U.length-_e),ie=N,me.c=R($(W(ee.c),ee.e,"0"),10,q,B),me.e=me.c.length),ue=R(U,K,q,y?(u=te,B):(u=B,te)),_=N=ue.length;ue[--N]==0;ue.pop());if(!ue[0])return u.charAt(0);if(_e<0?--_:(ee.c=ue,ee.e=_,ee.s=Y,ee=P(ee,me,Be,g,q),ue=ee.c,C=ee.r,_=ee.e),l=_+Be+1,_e=ue[l],N=q/2,C=C||l<0||ue[l+1]!=null,C=g<4?(_e!=null||C)&&(g==0||g==(ee.s<0?3:2)):_e>N||_e==N&&(g==4||C||g==6&&ue[l-1]&1||g==(ee.s<0?8:7)),l<1||!ue[0])U=C?$(u.charAt(1),-Be,u.charAt(0)):u.charAt(0);else{if(ue.length=l,C)for(--q;++ue[--l]>q;)ue[l]=0,l||(++_,ue=[1].concat(ue));for(N=ue.length;!ue[--N];);for(_e=0,U="";_e<=N;U+=u.charAt(ue[_e++]));U=$(U,_,u.charAt(0))}return U}}(),P=function(){function B(K,q,Y){var y,u,l,_,N=0,C=K.length,ee=q%p,ue=q/p|0;for(K=K.slice();C--;)l=K[C]%p,_=K[C]/p|0,y=ue*l+_*ee,u=ee*l+y%p*p+N,N=(u/Y|0)+(y/p|0)+ue*_,K[C]=u%Y;return N&&(K=[N].concat(K)),K}function R(K,q,Y,y){var u,l;if(Y!=y)l=Y>y?1:-1;else for(u=l=0;u<Y;u++)if(K[u]!=q[u]){l=K[u]>q[u]?1:-1;break}return l}function U(K,q,Y,y){for(var u=0;Y--;)K[Y]-=u,u=K[Y]<q[Y]?1:0,K[Y]=u*y+K[Y]-q[Y];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,q,Y,y,u){var l,_,N,C,ee,ue,me,_e,Be,g,f,h,O,m,k,I,H,Q=K.s==q.s?1:-1,G=K.c,Z=q.c;if(!G||!G[0]||!Z||!Z[0])return new A(!K.s||!q.s||(G?Z&&G[0]==Z[0]:!Z)?NaN:G&&G[0]==0||!Z?Q*0:Q/0);for(_e=new A(Q),Be=_e.c=[],_=K.e-q.e,Q=Y+_+1,u||(u=c,_=F(K.e/d)-F(q.e/d),Q=Q/d|0),N=0;Z[N]==(G[N]||0);N++);if(Z[N]>(G[N]||0)&&_--,Q<0)Be.push(1),C=!0;else{for(m=G.length,I=Z.length,N=0,Q+=2,ee=o(u/(Z[0]+1)),ee>1&&(Z=B(Z,ee,u),G=B(G,ee,u),I=Z.length,m=G.length),O=I,g=G.slice(0,I),f=g.length;f<I;g[f++]=0);H=Z.slice(),H=[0].concat(H),k=Z[0],Z[1]>=u/2&&k++;do{if(ee=0,l=R(Z,g,I,f),l<0){if(h=g[0],I!=f&&(h=h*u+(g[1]||0)),ee=o(h/k),ee>1)for(ee>=u&&(ee=u-1),ue=B(Z,ee,u),me=ue.length,f=g.length;R(ue,g,me,f)==1;)ee--,U(ue,I<me?H:Z,me,u),me=ue.length,l=1;else ee==0&&(l=ee=1),ue=Z.slice(),me=ue.length;if(me<f&&(ue=[0].concat(ue)),U(g,ue,f,u),f=g.length,l==-1)for(;R(Z,g,I,f)<1;)ee++,U(g,I<f?H:Z,f,u),f=g.length}else l===0&&(ee++,g=[0]);Be[N++]=ee,g[0]?g[f++]=G[O]||0:(g=[G[O]],f=1)}while((O++<m||g[0]!=null)&&Q--);C=g[0]!=null,Be[0]||Be.splice(0,1)}if(u==c){for(N=1,Q=Be[0];Q>=10;Q/=10,N++);ye(_e,Y+(_e.e=N+_*d-1)+1,y,C)}else _e.e=_,_e.r=+C;return _e}}();function Se(B,R,U,K){var q,Y,y,u,l;if(U==null?U=X:E(U,0,8),!B.c)return B.toString();if(q=B.c[0],y=B.e,R==null)l=W(B.c),l=K==1||K==2&&(y<=ne||y>=ce)?M(l,y):$(l,y,"0");else if(B=ye(new A(B),R,U),Y=B.e,l=W(B.c),u=l.length,K==1||K==2&&(R<=Y||Y<=ne)){for(;u<R;l+="0",u++);l=M(l,Y)}else if(R-=y+(K===2&&Y>y),l=$(l,Y,"0"),Y+1>u){if(--R>0)for(l+=".";R--;l+="0");}else if(R+=Y-u,R>0)for(Y+1==u&&(l+=".");R--;l+="0");return B.s<0&&q?"-"+l:l}function Ce(B,R){for(var U,K,q=1,Y=new A(B[0]);q<B.length;q++)K=new A(B[q]),(!K.s||(U=S(Y,K))===R||U===0&&Y.s===R)&&(Y=K);return Y}function Fe(B,R,U){for(var K=1,q=R.length;!R[--q];R.pop());for(q=R[0];q>=10;q/=10,K++);return(U=K+U*d-1)>we?B.c=B.e=null:U<de?B.c=[B.e=0]:(B.e=U,B.c=R),B}L=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,U=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Y,y,u,l){var _,N=u?y:y.replace(q,"");if(K.test(N))Y.s=isNaN(N)?null:N<0?-1:1;else{if(!u&&(N=N.replace(B,function(C,ee,ue){return _=(ue=ue.toLowerCase())=="x"?16:ue=="b"?2:8,!l||l==_?ee:C}),l&&(_=l,N=N.replace(R,"$1").replace(U,"0.$1")),y!=N))return new A(N,_);if(A.DEBUG)throw Error(s+"Not a"+(l?" base "+l:"")+" number: "+y);Y.s=null}Y.c=Y.e=null}}();function ye(B,R,U,K){var q,Y,y,u,l,_,N,C=B.c,ee=w;if(C){e:{for(q=1,u=C[0];u>=10;u/=10,q++);if(Y=R-q,Y<0)Y+=d,y=R,l=C[_=0],N=o(l/ee[q-y-1]%10);else if(_=i((Y+1)/d),_>=C.length)if(K){for(;C.length<=_;C.push(0));l=N=0,q=1,Y%=d,y=Y-d+1}else break e;else{for(l=u=C[_],q=1;u>=10;u/=10,q++);Y%=d,y=Y-d+q,N=y<0?0:o(l/ee[q-y-1]%10)}if(K=K||R<0||C[_+1]!=null||(y<0?l:l%ee[q-y-1]),K=U<4?(N||K)&&(U==0||U==(B.s<0?3:2)):N>5||N==5&&(U==4||K||U==6&&(Y>0?y>0?l/ee[q-y]:0:C[_-1])%10&1||U==(B.s<0?8:7)),R<1||!C[0])return C.length=0,K?(R-=B.e+1,C[0]=ee[(d-R%d)%d],B.e=-R||0):C[0]=B.e=0,B;if(Y==0?(C.length=_,u=1,_--):(C.length=_+1,u=ee[d-Y],C[_]=y>0?o(l/ee[q-y]%ee[y])*u:0),K)for(;;)if(_==0){for(Y=1,y=C[0];y>=10;y/=10,Y++);for(y=C[0]+=u,u=1;y>=10;y/=10,u++);Y!=u&&(B.e++,C[0]==c&&(C[0]=1));break}else{if(C[_]+=u,C[_]!=c)break;C[_--]=0,u=1}for(Y=C.length;C[--Y]===0;C.pop());}B.e>we?B.c=B.e=null:B.e<de&&(B.c=[B.e=0])}return B}function ge(B){var R,U=B.e;return U===null?B.toString():(R=W(B.c),R=U<=ne||U>=ce?M(R,U):$(R,U,"0"),B.s<0?"-"+R:R)}return z.absoluteValue=z.abs=function(){var B=new A(this);return B.s<0&&(B.s=1),B},z.comparedTo=function(B,R){return S(this,new A(B,R))},z.decimalPlaces=z.dp=function(B,R){var U,K,q,Y=this;if(B!=null)return E(B,0,x),R==null?R=X:E(R,0,8),ye(new A(Y),B+Y.e+1,R);if(!(U=Y.c))return null;if(K=((q=U.length-1)-F(this.e/d))*d,q=U[q])for(;q%10==0;q/=10,K--);return K<0&&(K=0),K},z.dividedBy=z.div=function(B,R){return P(this,new A(B,R),se,X)},z.dividedToIntegerBy=z.idiv=function(B,R){return P(this,new A(B,R),0,1)},z.exponentiatedBy=z.pow=function(B,R){var U,K,q,Y,y,u,l,_,N,C=this;if(B=new A(B),B.c&&!B.isInteger())throw Error(s+"Exponent not an integer: "+ge(B));if(R!=null&&(R=new A(R)),u=B.e>14,!C.c||!C.c[0]||C.c[0]==1&&!C.e&&C.c.length==1||!B.c||!B.c[0])return N=new A(Math.pow(+ge(C),u?B.s*(2-b(B)):+ge(B))),R?N.mod(R):N;if(l=B.s<0,R){if(R.c?!R.c[0]:!R.s)return new A(NaN);K=!l&&C.isInteger()&&R.isInteger(),K&&(C=C.mod(R))}else{if(B.e>9&&(C.e>0||C.e<-1||(C.e==0?C.c[0]>1||u&&C.c[1]>=24e7:C.c[0]<8e13||u&&C.c[0]<=9999975e7)))return Y=C.s<0&&b(B)?-0:0,C.e>-1&&(Y=1/Y),new A(l?1/Y:Y);ie&&(Y=i(ie/d+2))}for(u?(U=new A(.5),l&&(B.s=1),_=b(B)):(q=Math.abs(+ge(B)),_=q%2),N=new A(ae);;){if(_){if(N=N.times(C),!N.c)break;Y?N.c.length>Y&&(N.c.length=Y):K&&(N=N.mod(R))}if(q){if(q=o(q/2),q===0)break;_=q%2}else if(B=B.times(U),ye(B,B.e+1,1),B.e>14)_=b(B);else{if(q=+ge(B),q===0)break;_=q%2}C=C.times(C),Y?C.c&&C.c.length>Y&&(C.c.length=Y):K&&(C=C.mod(R))}return K?N:(l&&(N=ae.div(N)),R?N.mod(R):Y?ye(N,ie,X,y):N)},z.integerValue=function(B){var R=new A(this);return B==null?B=X:E(B,0,8),ye(R,R.e+1,B)},z.isEqualTo=z.eq=function(B,R){return S(this,new A(B,R))===0},z.isFinite=function(){return!!this.c},z.isGreaterThan=z.gt=function(B,R){return S(this,new A(B,R))>0},z.isGreaterThanOrEqualTo=z.gte=function(B,R){return(R=S(this,new A(B,R)))===1||R===0},z.isInteger=function(){return!!this.c&&F(this.e/d)>this.c.length-2},z.isLessThan=z.lt=function(B,R){return S(this,new A(B,R))<0},z.isLessThanOrEqualTo=z.lte=function(B,R){return(R=S(this,new A(B,R)))===-1||R===0},z.isNaN=function(){return!this.s},z.isNegative=function(){return this.s<0},z.isPositive=function(){return this.s>0},z.isZero=function(){return!!this.c&&this.c[0]==0},z.minus=function(B,R){var U,K,q,Y,y=this,u=y.s;if(B=new A(B,R),R=B.s,!u||!R)return new A(NaN);if(u!=R)return B.s=-R,y.plus(B);var l=y.e/d,_=B.e/d,N=y.c,C=B.c;if(!l||!_){if(!N||!C)return N?(B.s=-R,B):new A(C?y:NaN);if(!N[0]||!C[0])return C[0]?(B.s=-R,B):new A(N[0]?y:X==3?-0:0)}if(l=F(l),_=F(_),N=N.slice(),u=l-_){for((Y=u<0)?(u=-u,q=N):(_=l,q=C),q.reverse(),R=u;R--;q.push(0));q.reverse()}else for(K=(Y=(u=N.length)<(R=C.length))?u:R,u=R=0;R<K;R++)if(N[R]!=C[R]){Y=N[R]<C[R];break}if(Y&&(q=N,N=C,C=q,B.s=-B.s),R=(K=C.length)-(U=N.length),R>0)for(;R--;N[U++]=0);for(R=c-1;K>u;){if(N[--K]<C[K]){for(U=K;U&&!N[--U];N[U]=R);--N[U],N[K]+=c}N[K]-=C[K]}for(;N[0]==0;N.splice(0,1),--_);return N[0]?Fe(B,N,_):(B.s=X==3?-1:1,B.c=[B.e=0],B)},z.modulo=z.mod=function(B,R){var U,K,q=this;return B=new A(B,R),!q.c||!B.s||B.c&&!B.c[0]?new A(NaN):!B.c||q.c&&!q.c[0]?new A(q):(re==9?(K=B.s,B.s=1,U=P(q,B,0,3),B.s=K,U.s*=K):U=P(q,B,0,re),B=q.minus(U.times(B)),!B.c[0]&&re==1&&(B.s=q.s),B)},z.multipliedBy=z.times=function(B,R){var U,K,q,Y,y,u,l,_,N,C,ee,ue,me,_e,Be,g=this,f=g.c,h=(B=new A(B,R)).c;if(!f||!h||!f[0]||!h[0])return!g.s||!B.s||f&&!f[0]&&!h||h&&!h[0]&&!f?B.c=B.e=B.s=null:(B.s*=g.s,!f||!h?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(K=F(g.e/d)+F(B.e/d),B.s*=g.s,l=f.length,C=h.length,l<C&&(me=f,f=h,h=me,q=l,l=C,C=q),q=l+C,me=[];q--;me.push(0));for(_e=c,Be=p,q=C;--q>=0;){for(U=0,ee=h[q]%Be,ue=h[q]/Be|0,y=l,Y=q+y;Y>q;)_=f[--y]%Be,N=f[y]/Be|0,u=ue*_+N*ee,_=ee*_+u%Be*Be+me[Y]+U,U=(_/_e|0)+(u/Be|0)+ue*N,me[Y--]=_%_e;me[Y]=U}return U?++K:me.splice(0,1),Fe(B,me,K)},z.negated=function(){var B=new A(this);return B.s=-B.s||null,B},z.plus=function(B,R){var U,K=this,q=K.s;if(B=new A(B,R),R=B.s,!q||!R)return new A(NaN);if(q!=R)return B.s=-R,K.minus(B);var Y=K.e/d,y=B.e/d,u=K.c,l=B.c;if(!Y||!y){if(!u||!l)return new A(q/0);if(!u[0]||!l[0])return l[0]?B:new A(u[0]?K:q*0)}if(Y=F(Y),y=F(y),u=u.slice(),q=Y-y){for(q>0?(y=Y,U=l):(q=-q,U=u),U.reverse();q--;U.push(0));U.reverse()}for(q=u.length,R=l.length,q-R<0&&(U=l,l=u,u=U,R=q),q=0;R;)q=(u[--R]=u[R]+l[R]+q)/c|0,u[R]=c===u[R]?0:u[R]%c;return q&&(u=[q].concat(u),++y),Fe(B,u,y)},z.precision=z.sd=function(B,R){var U,K,q,Y=this;if(B!=null&&B!==!!B)return E(B,1,x),R==null?R=X:E(R,0,8),ye(new A(Y),B,R);if(!(U=Y.c))return null;if(q=U.length-1,K=q*d+1,q=U[q]){for(;q%10==0;q/=10,K--);for(q=U[0];q>=10;q/=10,K++);}return B&&Y.e+1>K&&(K=Y.e+1),K},z.shiftedBy=function(B){return E(B,-v,v),this.times("1e"+B)},z.squareRoot=z.sqrt=function(){var B,R,U,K,q,Y=this,y=Y.c,u=Y.s,l=Y.e,_=se+4,N=new A("0.5");if(u!==1||!y||!y[0])return new A(!u||u<0&&(!y||y[0])?NaN:y?Y:1/0);if(u=Math.sqrt(+ge(Y)),u==0||u==1/0?(R=W(y),(R.length+l)%2==0&&(R+="0"),u=Math.sqrt(+R),l=F((l+1)/2)-(l<0||l%2),u==1/0?R="5e"+l:(R=u.toExponential(),R=R.slice(0,R.indexOf("e")+1)+l),U=new A(R)):U=new A(u+""),U.c[0]){for(l=U.e,u=l+_,u<3&&(u=0);;)if(q=U,U=N.times(q.plus(P(Y,q,_,1))),W(q.c).slice(0,u)===(R=W(U.c)).slice(0,u))if(U.e<l&&--u,R=R.slice(u-3,u+1),R=="9999"||!K&&R=="4999"){if(!K&&(ye(q,q.e+se+2,0),q.times(q).eq(Y))){U=q;break}_+=4,u+=4,K=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(ye(U,U.e+se+2,1),B=!U.times(U).eq(Y));break}}return ye(U,U.e+se+1,X,B)},z.toExponential=function(B,R){return B!=null&&(E(B,0,x),B++),Se(this,B,R,1)},z.toFixed=function(B,R){return B!=null&&(E(B,0,x),B=B+this.e+1),Se(this,B,R)},z.toFormat=function(B,R,U){var K,q=this;if(U==null)B!=null&&R&&typeof R=="object"?(U=R,R=null):B&&typeof B=="object"?(U=B,B=R=null):U=oe;else if(typeof U!="object")throw Error(s+"Argument not an object: "+U);if(K=q.toFixed(B,R),q.c){var Y,y=K.split("."),u=+U.groupSize,l=+U.secondaryGroupSize,_=U.groupSeparator||"",N=y[0],C=y[1],ee=q.s<0,ue=ee?N.slice(1):N,me=ue.length;if(l&&(Y=u,u=l,l=Y,me-=Y),u>0&&me>0){for(Y=me%u||u,N=ue.substr(0,Y);Y<me;Y+=u)N+=_+ue.substr(Y,u);l>0&&(N+=_+ue.slice(Y)),ee&&(N="-"+N)}K=C?N+(U.decimalSeparator||"")+((l=+U.fractionGroupSize)?C.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(U.fractionGroupSeparator||"")):C):N}return(U.prefix||"")+K+(U.suffix||"")},z.toFraction=function(B){var R,U,K,q,Y,y,u,l,_,N,C,ee,ue=this,me=ue.c;if(B!=null&&(u=new A(B),!u.isInteger()&&(u.c||u.s!==1)||u.lt(ae)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+ge(u));if(!me)return new A(ue);for(R=new A(ae),_=U=new A(ae),K=l=new A(ae),ee=W(me),Y=R.e=ee.length-ue.e-1,R.c[0]=w[(y=Y%d)<0?d+y:y],B=!B||u.comparedTo(R)>0?Y>0?R:_:u,y=we,we=1/0,u=new A(ee),l.c[0]=0;N=P(u,R,0,1),q=U.plus(N.times(K)),q.comparedTo(B)!=1;)U=K,K=q,_=l.plus(N.times(q=_)),l=q,R=u.minus(N.times(q=R)),u=q;return q=P(B.minus(U),K,0,1),l=l.plus(q.times(_)),U=U.plus(q.times(K)),l.s=_.s=ue.s,Y=Y*2,C=P(_,K,Y,X).minus(ue).abs().comparedTo(P(l,U,Y,X).minus(ue).abs())<1?[_,K]:[l,U],we=y,C},z.toNumber=function(){return+ge(this)},z.toPrecision=function(B,R){return B!=null&&E(B,1,x),Se(this,B,R,2)},z.toString=function(B){var R,U=this,K=U.s,q=U.e;return q===null?K?(R="Infinity",K<0&&(R="-"+R)):R="NaN":(B==null?R=q<=ne||q>=ce?M(W(U.c),q):$(W(U.c),q,"0"):B===10&&Ne?(U=ye(new A(U),se+q+1,X),R=$(W(U.c),U.e,"0")):(E(B,2,te.length,"Base"),R=D($(W(U.c),q,"0"),10,B,K,!0)),K<0&&U.c[0]&&(R="-"+R)),R},z.valueOf=z.toJSON=function(){return ge(this)},z._isBigNumber=!0,V!=null&&A.set(V),A}function F(V){var P=V|0;return V>0||V===P?P:P-1}function W(V){for(var P,D,L=1,z=V.length,ae=V[0]+"";L<z;){for(P=V[L++]+"",D=d-P.length;D--;P="0"+P);ae+=P}for(z=ae.length;ae.charCodeAt(--z)===48;);return ae.slice(0,z+1||1)}function S(V,P){var D,L,z=V.c,ae=P.c,se=V.s,X=P.s,ne=V.e,ce=P.e;if(!se||!X)return null;if(D=z&&!z[0],L=ae&&!ae[0],D||L)return D?L?0:-X:se;if(se!=X)return se;if(D=se<0,L=ne==ce,!z||!ae)return L?0:!z^D?1:-1;if(!L)return ne>ce^D?1:-1;for(X=(ne=z.length)<(ce=ae.length)?ne:ce,se=0;se<X;se++)if(z[se]!=ae[se])return z[se]>ae[se]^D?1:-1;return ne==ce?0:ne>ce^D?1:-1}function E(V,P,D,L){if(V<P||V>D||V!==o(V))throw Error(s+(L||"Argument")+(typeof V=="number"?V<P||V>D?" out of range: ":" not an integer: ":" not a primitive number: ")+String(V))}function b(V){var P=V.c.length-1;return F(V.e/d)==P&&V.c[P]%2!=0}function M(V,P){return(V.length>1?V.charAt(0)+"."+V.slice(1):V)+(P<0?"e":"e+")+P}function $(V,P,D){var L,z;if(P<0){for(z=D+".";++P;z+=D);V=z+V}else if(L=V.length,++P>L){for(z=D,P-=L;--P;z+=D);V+=z}else P<L&&(V=V.slice(0,P)+"."+V.slice(P));return V}n=T(),n.default=n.BigNumber=n,e.exports?e.exports=n:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=n)})(Po)})(Kg);var Pu=Kg.exports,Y2=function(t,n,r){var i=new t.Uint8Array(r),o=n.pushInt,s=n.pushInt32,a=n.pushInt32Neg,c=n.pushInt64,d=n.pushInt64Neg,v=n.pushFloat,w=n.pushFloatSingle,p=n.pushFloatDouble,x=n.pushTrue,T=n.pushFalse,F=n.pushUndefined,W=n.pushNull,S=n.pushInfinity,E=n.pushInfinityNeg,b=n.pushNaN,M=n.pushNaNNeg,$=n.pushArrayStart,V=n.pushArrayStartFixed,P=n.pushArrayStartFixed32,D=n.pushArrayStartFixed64,L=n.pushObjectStart,z=n.pushObjectStartFixed,ae=n.pushObjectStartFixed32,se=n.pushObjectStartFixed64,X=n.pushByteString,ne=n.pushByteStringStart,ce=n.pushUtf8String,de=n.pushUtf8StringStart,we=n.pushSimpleUnassigned,J=n.pushTagStart,re=n.pushTagStart4,ie=n.pushTagStart8,oe=n.pushTagUnassigned,te=n.pushBreak,Ne=t.Math.pow,A=0,Se=0,Ce=0;function Fe(j){for(j=j|0,A=0,Se=j;(A|0)<(Se|0)&&(Ce=xw[i[A]&255](i[A]|0)|0,!((Ce|0)>0)););return Ce|0}function ye(j){return j=j|0,((A|0)+(j|0)|0)<(Se|0)?0:1}function ge(j){return j=j|0,i[j|0]<<8|i[j+1|0]|0}function B(j){return j=j|0,i[j|0]<<24|i[j+1|0]<<16|i[j+2|0]<<8|i[j+3|0]|0}function R(j){return j=j|0,o(j|0),A=A+1|0,0}function U(j){return j=j|0,ye(1)|0?1:(o(i[A+1|0]|0),A=A+2|0,0)}function K(j){return j=j|0,ye(2)|0?1:(o(ge(A+1|0)|0),A=A+3|0,0)}function q(j){return j=j|0,ye(4)|0?1:(s(ge(A+1|0)|0,ge(A+3|0)|0),A=A+5|0,0)}function Y(j){return j=j|0,ye(8)|0?1:(c(ge(A+1|0)|0,ge(A+3|0)|0,ge(A+5|0)|0,ge(A+7|0)|0),A=A+9|0,0)}function y(j){return j=j|0,o(-1-(j-32|0)|0),A=A+1|0,0}function u(j){return j=j|0,ye(1)|0?1:(o(-1-(i[A+1|0]|0)|0),A=A+2|0,0)}function l(j){j=j|0;var Ve=0;return ye(2)|0?1:(Ve=ge(A+1|0)|0,o(-1-(Ve|0)|0),A=A+3|0,0)}function _(j){return j=j|0,ye(4)|0?1:(a(ge(A+1|0)|0,ge(A+3|0)|0),A=A+5|0,0)}function N(j){return j=j|0,ye(8)|0?1:(d(ge(A+1|0)|0,ge(A+3|0)|0,ge(A+5|0)|0,ge(A+7|0)|0),A=A+9|0,0)}function C(j){j=j|0;var Ve=0,$e=0,Me=0;return Me=j-64|0,ye(Me|0)|0?1:(Ve=A+1|0,$e=(A+1|0)+(Me|0)|0,X(Ve|0,$e|0),A=$e|0,0)}function ee(j){j=j|0;var Ve=0,$e=0,Me=0;return ye(1)|0||(Me=i[A+1|0]|0,Ve=A+2|0,$e=(A+2|0)+(Me|0)|0,ye(Me+1|0)|0)?1:(X(Ve|0,$e|0),A=$e|0,0)}function ue(j){j=j|0;var Ve=0,$e=0,Me=0;return ye(2)|0||(Me=ge(A+1|0)|0,Ve=A+3|0,$e=(A+3|0)+(Me|0)|0,ye(Me+2|0)|0)?1:(X(Ve|0,$e|0),A=$e|0,0)}function me(j){j=j|0;var Ve=0,$e=0,Me=0;return ye(4)|0||(Me=B(A+1|0)|0,Ve=A+5|0,$e=(A+5|0)+(Me|0)|0,ye(Me+4|0)|0)?1:(X(Ve|0,$e|0),A=$e|0,0)}function _e(j){return j=j|0,1}function Be(j){return j=j|0,ne(),A=A+1|0,0}function g(j){j=j|0;var Ve=0,$e=0,Me=0;return Me=j-96|0,ye(Me|0)|0?1:(Ve=A+1|0,$e=(A+1|0)+(Me|0)|0,ce(Ve|0,$e|0),A=$e|0,0)}function f(j){j=j|0;var Ve=0,$e=0,Me=0;return ye(1)|0||(Me=i[A+1|0]|0,Ve=A+2|0,$e=(A+2|0)+(Me|0)|0,ye(Me+1|0)|0)?1:(ce(Ve|0,$e|0),A=$e|0,0)}function h(j){j=j|0;var Ve=0,$e=0,Me=0;return ye(2)|0||(Me=ge(A+1|0)|0,Ve=A+3|0,$e=(A+3|0)+(Me|0)|0,ye(Me+2|0)|0)?1:(ce(Ve|0,$e|0),A=$e|0,0)}function O(j){j=j|0;var Ve=0,$e=0,Me=0;return ye(4)|0||(Me=B(A+1|0)|0,Ve=A+5|0,$e=(A+5|0)+(Me|0)|0,ye(Me+4|0)|0)?1:(ce(Ve|0,$e|0),A=$e|0,0)}function m(j){return j=j|0,1}function k(j){return j=j|0,de(),A=A+1|0,0}function I(j){return j=j|0,V(j-128|0),A=A+1|0,0}function H(j){return j=j|0,ye(1)|0?1:(V(i[A+1|0]|0),A=A+2|0,0)}function Q(j){return j=j|0,ye(2)|0?1:(V(ge(A+1|0)|0),A=A+3|0,0)}function G(j){return j=j|0,ye(4)|0?1:(P(ge(A+1|0)|0,ge(A+3|0)|0),A=A+5|0,0)}function Z(j){return j=j|0,ye(8)|0?1:(D(ge(A+1|0)|0,ge(A+3|0)|0,ge(A+5|0)|0,ge(A+7|0)|0),A=A+9|0,0)}function le(j){return j=j|0,$(),A=A+1|0,0}function pe(j){j=j|0;var Ve=0;return Ve=j-160|0,ye(Ve|0)|0?1:(z(Ve|0),A=A+1|0,0)}function Te(j){return j=j|0,ye(1)|0?1:(z(i[A+1|0]|0),A=A+2|0,0)}function be(j){return j=j|0,ye(2)|0?1:(z(ge(A+1|0)|0),A=A+3|0,0)}function Ie(j){return j=j|0,ye(4)|0?1:(ae(ge(A+1|0)|0,ge(A+3|0)|0),A=A+5|0,0)}function xe(j){return j=j|0,ye(8)|0?1:(se(ge(A+1|0)|0,ge(A+3|0)|0,ge(A+5|0)|0,ge(A+7|0)|0),A=A+9|0,0)}function ke(j){return j=j|0,L(),A=A+1|0,0}function Ae(j){return j=j|0,J(j-192|0|0),A=A+1|0,0}function qe(j){return j=j|0,J(j|0),A=A+1|0,0}function at(j){return j=j|0,J(j|0),A=A+1|0,0}function Ze(j){return j=j|0,J(j|0),A=A+1|0,0}function Ht(j){return j=j|0,J(j|0),A=A+1|0,0}function Re(j){return j=j|0,J(j-192|0|0),A=A+1|0,0}function Le(j){return j=j|0,J(j|0),A=A+1|0,0}function Xe(j){return j=j|0,J(j|0),A=A+1|0,0}function mt(j){return j=j|0,J(j|0),A=A+1|0,0}function Qe(j){return j=j|0,ye(1)|0?1:(J(i[A+1|0]|0),A=A+2|0,0)}function Kt(j){return j=j|0,ye(2)|0?1:(J(ge(A+1|0)|0),A=A+3|0,0)}function yi(j){return j=j|0,ye(4)|0?1:(re(ge(A+1|0)|0,ge(A+3|0)|0),A=A+5|0,0)}function es(j){return j=j|0,ye(8)|0?1:(ie(ge(A+1|0)|0,ge(A+3|0)|0,ge(A+5|0)|0,ge(A+7|0)|0),A=A+9|0,0)}function Je(j){return j=j|0,we((j|0)-224|0),A=A+1|0,0}function Wu(j){return j=j|0,T(),A=A+1|0,0}function Du(j){return j=j|0,x(),A=A+1|0,0}function Yu(j){return j=j|0,W(),A=A+1|0,0}function yw(j){return j=j|0,F(),A=A+1|0,0}function mw(j){return j=j|0,ye(1)|0?1:(we(i[A+1|0]|0),A=A+2|0,0)}function gw(j){j=j|0;var Ve=0,$e=0,Me=1,Ea=0,ts=0,j8=0;return ye(2)|0?1:(Ve=i[A+1|0]|0,$e=i[A+2|0]|0,(Ve|0)&128&&(Me=-1),Ea=+(((Ve|0)&124)>>2),ts=+(((Ve|0)&3)<<8|$e),+Ea==0?v(+(+Me*5960464477539063e-23*+ts)):+Ea==31?+Me==1?+ts>0?b():S():+ts>0?M():E():v(+(+Me*Ne(2,+(+Ea-25))*+(1024+ts))),A=A+3|0,0)}function ww(j){return j=j|0,ye(4)|0?1:(w(i[A+1|0]|0,i[A+2|0]|0,i[A+3|0]|0,i[A+4|0]|0),A=A+5|0,0)}function _w(j){return j=j|0,ye(8)|0?1:(p(i[A+1|0]|0,i[A+2|0]|0,i[A+3|0]|0,i[A+4|0]|0,i[A+5|0]|0,i[A+6|0]|0,i[A+7|0]|0,i[A+8|0]|0),A=A+9|0,0)}function We(j){return j=j|0,1}function vw(j){return j=j|0,te(),A=A+1|0,0}var xw=[R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,U,K,q,Y,We,We,We,We,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,u,l,_,N,We,We,We,We,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,ee,ue,me,_e,We,We,We,Be,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,f,h,O,m,We,We,We,k,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,H,Q,G,Z,We,We,We,le,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Te,be,Ie,xe,We,We,We,ke,Ae,Ae,Ae,Ae,Ae,Ae,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Re,Qe,Kt,yi,es,We,We,We,We,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Wu,Du,Yu,yw,mw,gw,ww,_w,We,We,We,vw];return{parse:Fe}},Mu={},Gt={};const ch=Pu.BigNumber;Gt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Gt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Gt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Gt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Gt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Gt.SHIFT32=Math.pow(2,32);Gt.SHIFT16=Math.pow(2,16);Gt.MAX_SAFE_HIGH=2097151;Gt.NEG_ONE=new ch(-1);Gt.TEN=new ch(10);Gt.TWO=new ch(2);Gt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=wa,n=Pu.BigNumber,r=Gt,i=r.SHIFT32,o=r.SHIFT16,s=2097151;e.parseHalf=function(d){var v,w,p;return p=d[0]&128?-1:1,v=(d[0]&124)>>2,w=(d[0]&3)<<8|d[1],v?v===31?p*(w?NaN:1/0):p*Math.pow(2,v-25)*(1024+w):p*5960464477539063e-23*w};function a(c){return c<16?"0"+c.toString(16):c.toString(16)}e.arrayBufferToBignumber=function(c){const d=c.byteLength;let v="";for(let w=0;w<d;w++)v+=a(c[w]);return new n(v,16)},e.buildMap=c=>{const d=new Map,v=Object.keys(c),w=v.length;for(let p=0;p<w;p++)d.set(v[p],c[v[p]]);return d},e.buildInt32=(c,d)=>c*o+d,e.buildInt64=(c,d,v,w)=>{const p=e.buildInt32(c,d),x=e.buildInt32(v,w);return p>s?new n(p).times(i).plus(x):p*i+x},e.writeHalf=function(d,v){const w=t.allocUnsafe(4);w.writeFloatBE(v,0);const p=w.readUInt32BE(0);if(p&8191)return!1;var x=p>>16&32768;const T=p>>23&255,F=p&8388607;if(T>=113&&T<=142)x+=(T-112<<10)+(F>>13);else if(T>=103&&T<113){if(F&(1<<126-T)-1)return!1;x+=F+8388608>>126-T}else return!1;return d.writeUInt16BE(x,0),!0},e.keySorter=function(c,d){var v=c[0].byteLength,w=d[0].byteLength;return v>w?1:w>v?-1:c[0].compare(d[0])},e.isNegativeZero=c=>c===0&&1/c<0,e.nextPowerOf2=c=>{let d=0;if(c&&!(c&c-1))return c;for(;c!==0;)c>>=1,d+=1;return 1<<d}})(Mu);const uh=Gt,Z2=uh.MT,Ga=uh.SIMPLE,Tl=uh.SYMS;let X2=class Wf{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,Z2.SIMPLE_FLOAT)}static isSimple(t){return t instanceof Wf}static decode(t,n){switch(n==null&&(n=!0),t){case Ga.FALSE:return!1;case Ga.TRUE:return!0;case Ga.NULL:return n?null:Tl.NULL;case Ga.UNDEFINED:return n?void 0:Tl.UNDEFINED;case-1:if(!n)throw new Error("Invalid BREAK");return Tl.BREAK;default:return new Wf(t)}}};var Wg=X2;let Q2=class Df{constructor(t,n,r){if(this.tag=t,this.value=n,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var n,r;if(r=t!=null?t[this.tag]:void 0,typeof r!="function"&&(r=Df["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(Df,this.value)}catch(i){return n=i,this.err=n,this}}};var Dg=Q2;const Yg=self.location?self.location.protocol+"//"+self.location.host:"",Yf=self.URL;let J2=class{constructor(t="",n=Yg){this.super=new Yf(t,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function ex(e){if(typeof e=="string")return new Yf(e).toString();if(!(e instanceof Yf)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",d=e.pathname||"",v=e.path||d+a;return`${i}${t||n}${o||s+r}${v}${c}`}}var Zg={URLWithLegacySupport:J2,URLSearchParams:self.URLSearchParams,defaultBase:Yg,format:ex};const{URLWithLegacySupport:H8,format:K8}=Zg,{URLWithLegacySupport:tx,format:W8,URLSearchParams:D8,defaultBase:Y8}=Zg;var Xg={URL:tx};const{Buffer:eo}=wa,j0=ha,nx=Pu.BigNumber,rx=Y2,Wt=Mu,Ke=Gt,ix=Wg,ox=Dg,{URL:sx}=Xg;let Zf=class Xf{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Wt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=eo.from(this._heap),this._reset(),this._knownTags=Object.assign({0:n=>new Date(n),1:n=>new Date(n*1e3),2:n=>Wt.arrayBufferToBignumber(n),3:n=>Ke.NEG_ONE.minus(Wt.arrayBufferToBignumber(n)),4:n=>Ke.TEN.pow(n[0]).times(n[1]),5:n=>Ke.TWO.pow(n[0]).times(n[1]),32:n=>new sx(n),35:n=>new RegExp(n)},t.tags),this.parser=rx(Po,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Ke.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Ke.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Ke.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Ke.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Ke.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Ke.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Ke.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,n){const r=this._currentParent;switch(r.values++,r.type){case Ke.PARENT.ARRAY:case Ke.PARENT.BYTE_STRING:case Ke.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=t:this._ref.push(t),this._dec();break;case Ke.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=t,r.tmpKey=null,this._dec()):(r.tmpKey=t,typeof r.tmpKey!="string"&&(r.type=Ke.PARENT.MAP,r.ref=Wt.buildMap(r.ref)));break;case Ke.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,t),r.tmpKey=null,this._dec()):r.tmpKey=t;break;case Ke.PARENT.TAG:this._ref.push(t),n||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,n,r){this._parents[this._depth]={type:n,length:r,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ke.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,n){const r=this._knownTags[t];return r?r(n):new ox(t,n)}createMap(t,n){return t}createObject(t,n){return t}createArray(t,n){return t}createByteString(t,n){return eo.concat(t)}createByteStringFromHeap(t,n){return t===n?eo.alloc(0):eo.from(this._heap.slice(t,n))}createInt(t){return t}createInt32(t,n){return Wt.buildInt32(t,n)}createInt64(t,n,r,i){return Wt.buildInt64(t,n,r,i)}createFloat(t){return t}createFloatSingle(t,n,r,i){return j0.read([t,n,r,i],0,!1,23,4)}createFloatDouble(t,n,r,i,o,s,a,c){return j0.read([t,n,r,i,o,s,a,c],0,!1,52,8)}createInt32Neg(t,n){return-1-Wt.buildInt32(t,n)}createInt64Neg(t,n,r,i){const o=Wt.buildInt32(t,n),s=Wt.buildInt32(r,i);return o>Ke.MAX_SAFE_HIGH?Ke.NEG_ONE.minus(new nx(o).times(Ke.SHIFT32).plus(s)):-1-(o*Ke.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,n){return t.join("")}createUtf8StringFromHeap(t,n){return t===n?"":this._buffer.toString("utf8",t,n)}createSimpleUnassigned(t){return new ix(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,n){this._push(this.createInt32(t,n))}pushInt64(t,n,r,i){this._push(this.createInt64(t,n,r,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,n,r,i){this._push(this.createFloatSingle(t,n,r,i))}pushFloatDouble(t,n,r,i,o,s,a,c){this._push(this.createFloatDouble(t,n,r,i,o,s,a,c))}pushInt32Neg(t,n){this._push(this.createInt32Neg(t,n))}pushInt64Neg(t,n,r,i){this._push(this.createInt64Neg(t,n,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ke.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,n){const r=Wt.buildInt32(t,n);this._createArrayStartFixed(r)}pushArrayStartFixed64(t,n,r,i){const o=Wt.buildInt64(t,n,r,i);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,n){const r=Wt.buildInt32(t,n);this._createObjectStartFixed(r)}pushObjectStartFixed64(t,n,r,i){const o=Wt.buildInt64(t,n,r,i);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:Ke.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,n){this._push(this.createByteStringFromHeap(t,n))}pushUtf8StringStart(){this._parents[this._depth]={type:Ke.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,n){this._push(this.createUtf8StringFromHeap(t,n))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Ke.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,n){this.pushTagStart(Wt.buildInt32(t,n))}pushTagStart8(t,n,r,i){this.pushTagStart(Wt.buildInt64(t,n,r,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Ke.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Ke.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const n=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(n>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,n){return typeof t=="string"&&(t=eo.from(t,n||"hex")),new Xf({size:t.length}).decodeFirst(t)}static decodeAll(t,n){return typeof t=="string"&&(t=eo.from(t,n||"hex")),new Xf({size:t.length}).decodeAll(t)}};Zf.decodeFirst=Zf.decode;var Qg=Zf;const{Buffer:Nl}=wa,ax=Qg,cx=Mu;class lh extends ax{createTag(t,n){return`${t}(${n})`}createInt(t){return super.createInt(t).toString()}createInt32(t,n){return super.createInt32(t,n).toString()}createInt64(t,n,r,i){return super.createInt64(t,n,r,i).toString()}createInt32Neg(t,n){return super.createInt32Neg(t,n).toString()}createInt64Neg(t,n,r,i){return super.createInt64Neg(t,n,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const n=super.createFloat(t);return cx.isNegativeZero(t)?"-0_1":`${n}_1`}createFloatSingle(t,n,r,i){return`${super.createFloatSingle(t,n,r,i)}_2`}createFloatDouble(t,n,r,i,o,s,a,c){return`${super.createFloatDouble(t,n,r,i,o,s,a,c)}_3`}createByteString(t,n){const r=t.join(", ");return n===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(t,n){return`h'${Nl.from(super.createByteStringFromHeap(t,n)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,n){const r=super.createArray(t,n);return n===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(t,n){const r=super.createMap(t),i=Array.from(r.keys()).reduce(q0(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createObject(t,n){const r=super.createObject(t),i=Object.keys(r).reduce(q0(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,n){const r=t.join(", ");return n===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(t,n){return`"${Nl.from(super.createUtf8StringFromHeap(t,n)).toString("utf8")}"`}static diagnose(t,n){return typeof t=="string"&&(t=Nl.from(t,n||"hex")),new lh().decodeFirst(t)}}var ux=lh;function q0(e){return(t,n)=>t?`${t}, ${n}: ${e[n]}`:`${n}: ${e[n]}`}const{Buffer:Jn}=wa,{URL:lx}=Xg,Qf=Pu.BigNumber,Bl=Mu,Et=Gt,In=Et.MT,Ha=Et.NUMBYTES,L0=Et.SHIFT32,G0=Et.SYMS,to=Et.TAG,fx=Et.MT.SIMPLE_FLOAT<<5|Et.NUMBYTES.TWO,dx=Et.MT.SIMPLE_FLOAT<<5|Et.NUMBYTES.FOUR,hx=Et.MT.SIMPLE_FLOAT<<5|Et.NUMBYTES.EIGHT,px=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.TRUE,yx=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.FALSE,mx=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.UNDEFINED,H0=Et.MT.SIMPLE_FLOAT<<5|Et.SIMPLE.NULL,gx=new Qf("0x20000000000000"),wx=Jn.from("f97e00","hex"),_x=Jn.from("f9fc00","hex"),vx=Jn.from("f97c00","hex");function xx(e){return{}.toString.call(e).slice(8,-1)}class iu{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[lx,this._pushUrl],[Qf,this._pushBigNumber]];const n=t.genTypes||[],r=n.length;for(let i=0;i<r;i++)this.addSemanticType(n[i][0],n[i][1]);this._reset()}addSemanticType(t,n){const r=this.semanticTypes.length;for(let i=0;i<r;i++)if(this.semanticTypes[i][0]===t){const s=this.semanticTypes[i][1];return this.semanticTypes[i][1]=n,s}return this.semanticTypes.push([t,n]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,n,r){return this.result[this.offset]=t,this.resultMethod[this.offset]=n,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(wx)}_pushInfinity(t){const n=t<0?_x:vx;return this.push(n)}_pushFloat(t){const n=Jn.allocUnsafe(2);if(Bl.writeHalf(n,t)&&Bl.parseHalf(n)===t)return this._pushUInt8(fx)&&this.push(n);const r=Jn.allocUnsafe(4);return r.writeFloatBE(t,0),r.readFloatBE(0)===t?this._pushUInt8(dx)&&this.push(r):this._pushUInt8(hx)&&this._pushDoubleBE(t)}_pushInt(t,n,r){const i=n<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|Ha.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|Ha.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|Ha.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|Ha.EIGHT)&&this._pushUInt32BE(Math.floor(t/L0))&&this._pushUInt32BE(t%L0):n===In.NEG_INT?this._pushFloat(r):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,In.NEG_INT,t):this._pushInt(t,In.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const n=Jn.byteLength(t,"utf8");return this._pushInt(n,In.UTF8_STRING)&&this.pushWrite(t,5,n)}_pushBoolean(t){return this._pushUInt8(t?px:yx)}_pushUndefined(t){return this._pushUInt8(mx)}_pushArray(t,n){const r=n.length;if(!t._pushInt(r,In.ARRAY))return!1;for(let i=0;i<r;i++)if(!t.pushAny(n[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,In.TAG)}_pushDate(t,n){return t._pushTag(to.DATE_EPOCH)&&t.pushAny(Math.round(n/1e3))}_pushBuffer(t,n){return t._pushInt(n.length,In.BYTE_STRING)&&t.push(n)}_pushNoFilter(t,n){return t._pushBuffer(t,n.slice())}_pushRegexp(t,n){return t._pushTag(to.REGEXP)&&t.pushAny(n.source)}_pushSet(t,n){if(!t._pushInt(n.size,In.ARRAY))return!1;for(const r of n)if(!t.pushAny(r))return!1;return!0}_pushUrl(t,n){return t._pushTag(to.URI)&&t.pushAny(n.format())}_pushBigint(t){let n=to.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),n=to.NEG_BIGINT);let r=t.toString(16);r.length%2&&(r="0"+r);const i=Jn.from(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,i)}_pushBigNumber(t,n){if(n.isNaN())return t._pushNaN();if(!n.isFinite())return t._pushInfinity(n.isNegative()?-1/0:1/0);if(n.isInteger())return t._pushBigint(n);if(!(t._pushTag(to.DECIMAL_FRAC)&&t._pushInt(2,In.ARRAY)))return!1;const r=n.decimalPlaces(),i=n.multipliedBy(new Qf(10).pow(r));return t._pushIntNum(-r)?i.abs().isLessThan(gx)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,n){return t._pushInt(n.size,In.MAP)?this._pushRawMap(n.size,Array.from(n)):!1}_pushObject(t){if(!t)return this._pushUInt8(H0);for(var n=this.semanticTypes.length,r=0;r<n;r++)if(t instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var o=Object.keys(t),s=o.length;return this._pushInt(s,In.MAP)?this._pushRawMap(s,o.map(a=>[a,t[a]])):!1}_pushRawMap(t,n){n=n.map(function(i){return i[0]=iu.encode(i[0]),i}).sort(Bl.keySorter);for(var r=0;r<t;r++)if(!this.push(n[r][0])||!this.pushAny(n[r][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var n=xx(t);switch(n){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Jn.isBuffer(t)?t:Jn.from(t));case"Null":return this._pushUInt8(H0);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case G0.NULL:return this._pushObject(null);case G0.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,n=this.resultLength,r=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=n[s];var a=Jn.allocUnsafe(o),c=0,d=0;for(s=0;s<i;s++){switch(d=n[s],r[s]){case 0:t[s].copy(a,c);break;case 1:a.writeUInt8(t[s],c,!0);break;case 2:a.writeUInt16BE(t[s],c,!0);break;case 3:a.writeUInt32BE(t[s],c,!0);break;case 4:a.writeDoubleBE(t[s],c,!0);break;case 5:a.write(t[s],c,d,"utf8");break;default:throw new Error("unkown method")}c+=d}var v=a;return this._reset(),v}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const n=new iu;if(!n.pushAny(t))throw new Error("Failed to encode input");return n.finalize()}}var Ex=iu;(function(e){e.Diagnose=ux,e.Decoder=Qg,e.Encoder=Ex,e.Simple=Wg,e.Tagged=Dg,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(Hg);const Jg=Sw(Hg);function $n(e){return Is(C2.create().update(new Uint8Array(e)).digest())}function hc(e){if(e instanceof Jg.Tagged)return hc(e.value);if(typeof e=="string")return e1(e);if(typeof e=="number")return $n(lt(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return $n(e);if(Array.isArray(e)){const t=e.map(hc);return $n(qn(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return $n(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return hc(e.toHash());if(typeof e=="object")return ou(e);if(typeof e=="bigint")return $n(lt(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const e1=e=>{const t=new TextEncoder().encode(e);return $n(t)};function Qs(e){return ou(e)}function ou(e){const r=Object.entries(e).filter(([,s])=>s!==void 0).map(([s,a])=>{const c=e1(s),d=hc(a);return[c,d]}).sort(([s],[a])=>sg(s,a)),i=qn(...r.map(s=>qn(...s)));return $n(i)}var bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Sx=new TextEncoder().encode(`
ic-request`);class fh{getPrincipal(){return this._principal||(this._principal=Oe.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:n}=t,r=bx(t,["body"]),i=Qs(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(qn(Sx,i))}})}}class Js{getPrincipal(){return Oe.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var sn={},Jo={},De={};Object.defineProperty(De,"__esModule",{value:!0});const Tx=9007199254740992;function kr(e,...t){const n=new Uint8Array(e.byteLength+t.reduce((i,o)=>i+o.byteLength,0));n.set(new Uint8Array(e),0);let r=e.byteLength;for(const i of t)n.set(new Uint8Array(i),r),r+=i.byteLength;return n.buffer}function Gn(e,t,n){n=n.replace(/[^0-9a-fA-F]/g,"");const r=2**(t-24);n=n.slice(-r*2).padStart(r*2,"0");const i=[(e<<5)+t].concat(n.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(i).buffer}function Vu(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const n=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Gn(e,n,t.toString(16))}}function t1(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|r&63):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|r&63):(n++,r=(r&1023)<<10|e.charCodeAt(n)&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return kr(new Uint8Array(Vu(3,e.length)),new Uint8Array(t))}function Nx(e,t){if(e==14277111)return kr(new Uint8Array([217,217,247]),t);if(e<24)return kr(new Uint8Array([192+e]),t);{const n=e<=255?24:e<=65535?25:e<=4294967295?26:27,r=2**(n-24),i=e.toString(16).slice(-r*2).padStart(r*2,"0"),o=[192+n].concat(i.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(o).buffer}}De.tagged=Nx;function _a(e){return new Uint8Array(e).buffer}De.raw=_a;function dh(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}De.uSmall=dh;function n1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Gn(0,24,e)}De.u8=n1;function r1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Gn(0,25,e)}De.u16=r1;function i1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Gn(0,26,e)}De.u32=i1;function hh(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Gn(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),Tx),e=e.toString(16),Gn(0,27,e)}De.u64=hh;function o1(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return dh(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}De.iSmall=o1;function s1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Gn(1,24,e)}De.i8=s1;function a1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Gn(1,25,e)}De.i16=a1;function c1(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Gn(1,26,e)}De.i32=c1;function u1(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let n=!1,r=e.split("").reduceRight((i,o)=>{if(n)return o+i;let s=parseInt(o,16)-1;return s>=0?(n=!0,s.toString(16)+i):"f"+i},"");return n?Gn(1,27,r):hh(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Gn(1,27,e)}De.i64=u1;function Bx(e){return e>=0?e<24?dh(e):e<=255?n1(e):e<=65535?r1(e):e<=4294967295?i1(e):hh(e):e>=-24?o1(e):e>=-255?s1(e):e>=-65535?a1(e):e>=-4294967295?c1(e):u1(e)}De.number=Bx;function Ax(e){return kr(Vu(2,e.byteLength),e)}De.bytes=Ax;function kx(e){return t1(e)}De.string=kx;function Rx(e){return kr(Vu(4,e.length),...e)}De.array=Rx;function Ox(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let n=Array.from(e.entries());return t&&(n=n.sort(([r],[i])=>r.localeCompare(i))),kr(Vu(5,e.size),...n.map(([r,i])=>kr(t1(r),i)))}De.map=Ox;function Ix(e){const t=new Float32Array([e]);return kr(new Uint8Array([250]),new Uint8Array(t.buffer))}De.singleFloat=Ix;function Fx(e){const t=new Float64Array([e]);return kr(new Uint8Array([251]),new Uint8Array(t.buffer))}De.doubleFloat=Fx;function Cx(e){return e?l1():f1()}De.bool=Cx;function l1(){return _a(new Uint8Array([245]))}De.true_=l1;function f1(){return _a(new Uint8Array([244]))}De.false_=f1;function Ux(){return _a(new Uint8Array([246]))}De.null_=Ux;function Px(){return _a(new Uint8Array([247]))}De.undefined_=Px;var Mx=Po&&Po.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Jo,"__esModule",{value:!0});const Fn=Mx(De),Vx=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class d1{constructor(t,n=!1){this._serializer=t,this._stable=n,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return Fn.undefined_();case"boolean":return Fn.bool(t);case"number":return Math.floor(t)===t?Fn.number(t):Fn.doubleFloat(t);case"string":return Fn.string(t);case"object":if(t===null)return Fn.null_();if(Array.isArray(t))return Fn.array(t.map(n=>this._serializer.serializeValue(n)));if(Vx.find(n=>t instanceof n))return Fn.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const n=new Map;for(const[r,i]of t.entries())n.set(r,this._serializer.serializeValue(i));return Fn.map(n,this._stable)}else{const n=new Map;for(const[r,i]of Object.entries(t))n.set(r,this._serializer.serializeValue(i));return Fn.map(n,this._stable)}default:throw new Error("Invalid value.")}}}Jo.JsonDefaultCborEncoder=d1;class h1{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}Jo.ToCborEncoder=h1;class p1{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const n=new this;return n.addEncoder(new d1(n,t)),n.addEncoder(new h1),n}removeEncoder(t){for(const n of this._encoders.values())n.name==t&&this._encoders.delete(n)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let n=null;for(const r of this._encoders)(!n||r.priority>n.priority)&&r.match(t)&&(n=r);if(n===null)throw new Error("Could not find an encoder for value.");return n}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}Jo.CborSerializer=p1;class $x extends p1{serialize(t){return Fn.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}Jo.SelfDescribeCborSerializer=$x;(function(e){function t(i){for(var o in i)e.hasOwnProperty(o)||(e[o]=i[o])}var n=Po&&Po.__importStar||function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var s in i)Object.hasOwnProperty.call(i,s)&&(o[s]=i[s]);return o.default=i,o};Object.defineProperty(e,"__esModule",{value:!0}),t(Jo);const r=n(De);e.value=r})(sn);class zx{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return sn.value.bytes(t.toUint8Array())}}class jx{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return sn.value.bytes(new Uint8Array(t))}}class qx{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?sn.value.tagged(2,sn.value.bytes(Sr(t.toString(16)))):sn.value.tagged(3,sn.value.bytes(Sr((BigInt("-1")*t).toString(16))))}}const $u=sn.SelfDescribeCborSerializer.withDefaultEncoders(!0);$u.addEncoder(new zx);$u.addEncoder(new jx);$u.addEncoder(new qx);var Jf;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Jf||(Jf={}));function Al(e){return $u.serialize(e)}function K0(e){const t=e.byteLength;let n=BigInt(0);for(let r=0;r<t;r++)n=n*BigInt(256)+BigInt(e[r]);return n}class Lx extends Jg.Decoder{createByteString(t){return qn(...t)}createByteStringFromHeap(t,n){return t===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,n))}}function _r(e){const t=new Uint8Array(e),n=new Lx({size:t.byteLength,tags:{2:r=>K0(r),3:r=>-K0(r),[Jf.Semantic]:r=>r}});try{return n.decodeFirst(t)}catch(r){throw new Error(`Failed to decode CBOR: ${r}, input: ${nt(t)}`)}}const Ka=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var ed;(function(e){e.Call="call"})(ed||(ed={}));function td(){const e=new ArrayBuffer(16),t=new DataView(e),n=Ka(),r=Ka(),i=Ka(),o=Ka();return t.setUint32(0,n),t.setUint32(4,r),t.setUint32(8,i),t.setUint32(12,o),e}const W0=BigInt(1e6),Gx=60*1e3;class Wa{constructor(t){if(t<90*1e3){const a=BigInt(Date.now()+t)*W0/BigInt(1e9);this._value=a*BigInt(1e9);return}const o=BigInt(Math.floor(Date.now()+t-Gx))*W0/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=o}toCBOR(){return sn.value.u64(this._value.toString(16),16)}toHash(){return lt(this._value)}}function D0(e=td){return async t=>{const n=t.request.headers;t.request.headers=n,t.endpoint==="call"&&(t.body.nonce=e())}}function gs(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}class kl extends ut{constructor(t,n){super(t),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class Hx extends ut{constructor(t,n,r,i,o,s){super(t),this.response=n,this.requestId=r,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=s,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class Kx extends ut{constructor(t,n,r,i,o,s){super(t),this.response=n,this.requestId=r,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=s,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class Wx extends ut{constructor(t,n,r,i,o,s){super(t),this.response=n,this.requestId=r,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=s,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ph=BigInt(0),su=BigInt(1);function ea(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Co(e,t,n=""){const r=pa(e),i=e==null?void 0:e.length,o=t!==void 0;if(!r||o&&i!==t){const s=n&&`"${n}" `,a=o?` of length ${t}`:"",c=r?`length=${i}`:`type=${typeof e}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return e}function y1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ph:BigInt("0x"+e)}function sr(e){return y1(Ho(e))}function ta(e){return An(e),y1(Ho(Uint8Array.from(e).reverse()))}function Rt(e,t){return Jm(e.toString(16).padStart(t*2,"0"))}function m1(e,t){return Rt(e,t).reverse()}function rn(e,t,n){let r;if(typeof t=="string")try{r=Jm(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(pa(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Y0(e){return Uint8Array.from(e)}const Rl=e=>typeof e=="bigint"&&ph<=e;function g1(e,t,n){return Rl(e)&&Rl(t)&&Rl(n)&&t<=e&&e<n}function Z0(e,t,n,r){if(!g1(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function na(e){let t;for(t=0;e>ph;e>>=su,t+=1);return t}function Dx(e,t){return e>>BigInt(t)&su}const Wi=e=>(su<<BigInt(e))-su;function Yx(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function va(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}const w1=()=>{throw new Error("not implemented")};function ra(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cn=BigInt(0),It=BigInt(1),Bi=BigInt(2),_1=BigInt(3),v1=BigInt(4),x1=BigInt(5),Zx=BigInt(7),E1=BigInt(8),Xx=BigInt(9),b1=BigInt(16);function dt(e,t){const n=e%t;return n>=cn?n:t+n}function Wn(e,t,n){let r=e;for(;t-- >cn;)r*=r,r%=n;return r}function X0(e,t){if(e===cn)throw new Error("invert: expected non-zero number");if(t<=cn)throw new Error("invert: expected positive modulus, got "+t);let n=dt(e,t),r=t,i=cn,o=It;for(;n!==cn;){const a=r/n,c=r%n,d=i-o*a;r=n,n=c,i=o,o=d}if(r!==It)throw new Error("invert: does not exist");return dt(i,t)}function yh(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function S1(e,t){const n=(e.ORDER+It)/v1,r=e.pow(t,n);return yh(e,r,t),r}function Qx(e,t){const n=(e.ORDER-x1)/E1,r=e.mul(t,Bi),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,Bi),i),a=e.mul(o,e.sub(s,e.ONE));return yh(e,a,t),a}function Jx(e){const t=pi(e),n=T1(e),r=n(t,t.neg(t.ONE)),i=n(t,r),o=n(t,t.neg(r)),s=(e+Zx)/b1;return(a,c)=>{let d=a.pow(c,s),v=a.mul(d,r);const w=a.mul(d,i),p=a.mul(d,o),x=a.eql(a.sqr(v),c),T=a.eql(a.sqr(w),c);d=a.cmov(d,v,x),v=a.cmov(p,w,T);const F=a.eql(a.sqr(v),c),W=a.cmov(d,v,F);return yh(a,W,c),W}}function T1(e){if(e<_1)throw new Error("sqrt is not defined for small field");let t=e-It,n=0;for(;t%Bi===cn;)t/=Bi,n++;let r=Bi;const i=pi(e);for(;au(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return S1;let o=i.pow(r,t);const s=(t+It)/Bi;return function(c,d){if(c.is0(d))return d;if(au(c,d)!==1)throw new Error("Cannot find square root");let v=n,w=c.mul(c.ONE,o),p=c.pow(d,t),x=c.pow(d,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let T=1,F=c.sqr(p);for(;!c.eql(F,c.ONE);)if(T++,F=c.sqr(F),T===v)throw new Error("Cannot find square root");const W=It<<BigInt(v-T-1),S=c.pow(w,W);v=T,w=c.sqr(S),p=c.mul(p,w),x=c.mul(x,S)}return x}}function eE(e){return e%v1===_1?S1:e%E1===x1?Qx:e%b1===Xx?Jx(e):T1(e)}const tE=(e,t)=>(dt(e,t)&It)===It,nE=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function N1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=nE.reduce((r,i)=>(r[i]="function",r),t);return va(e,n),e}function zu(e,t,n){if(n<cn)throw new Error("invalid exponent, negatives unsupported");if(n===cn)return e.ONE;if(n===It)return t;let r=e.ONE,i=t;for(;n>cn;)n&It&&(r=e.mul(r,i)),i=e.sqr(i),n>>=It;return r}function Di(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),o),r}function au(e,t){const n=(e.ORDER-It)/Bi,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function rE(e,t){t!==void 0&&d2(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function pi(e,t,n=!1,r={}){if(e<=cn)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o,s=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=t;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:d}=rE(e,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let v;const w=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:d,MASK:Wi(c),ZERO:cn,ONE:It,allowedLengths:a,create:p=>dt(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return cn<=p&&p<e},is0:p=>p===cn,isValidNot0:p=>!w.is0(p)&&w.isValid(p),isOdd:p=>(p&It)===It,neg:p=>dt(-p,e),eql:(p,x)=>p===x,sqr:p=>dt(p*p,e),add:(p,x)=>dt(p+x,e),sub:(p,x)=>dt(p-x,e),mul:(p,x)=>dt(p*x,e),pow:(p,x)=>zu(w,p,x),div:(p,x)=>dt(p*X0(x,e),e),sqrN:p=>p*p,addN:(p,x)=>p+x,subN:(p,x)=>p-x,mulN:(p,x)=>p*x,inv:p=>X0(p,e),sqrt:o||(p=>(v||(v=eE(e)),v(w,p))),toBytes:p=>n?m1(p,d):Rt(p,d),fromBytes:(p,x=!0)=>{if(a){if(!a.includes(p.length)||p.length>d)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const F=new Uint8Array(d);F.set(p,n?0:F.length-p.length),p=F}if(p.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+p.length);let T=n?ta(p):sr(p);if(s&&(T=dt(T,e)),!x&&!w.isValid(T))throw new Error("invalid field element: outside of range 0..ORDER");return T},invertBatch:p=>Di(w,p),cmov:(p,x,T)=>T?x:p});return Object.freeze(w)}function B1(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function A1(e){const t=B1(e);return t+Math.ceil(t/2)}function iE(e,t,n=!1){const r=e.length,i=B1(t),o=A1(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?ta(e):sr(e),a=dt(s,t-It)+It;return n?m1(a,i):Rt(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wo=BigInt(0),Ai=BigInt(1);function cu(e,t){const n=t.negate();return e?n:t}function vr(e,t){const n=Di(e.Fp,t.map(r=>r.Z));return t.map((r,i)=>e.fromAffine(r.toAffine(n[i])))}function k1(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ol(e,t){k1(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=Wi(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function Q0(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),c=e>>s;a>r&&(a-=o,c+=Ai);const d=t*r,v=d+Math.abs(a)-1,w=a===0,p=a<0,x=t%2!==0;return{nextN:c,offset:v,isZero:w,isNeg:p,isNegF:x,offsetF:d}}function oE(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function sE(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Il=new WeakMap,R1=new WeakMap;function Fl(e){return R1.get(e)||1}function J0(e){if(e!==Wo)throw new Error("invalid wNAF")}class O1{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let i=t;for(;n>Wo;)n&Ai&&(r=r.add(i)),i=i.double(),n>>=Ai;return r}precomputeWindow(t,n){const{windows:r,windowSize:i}=Ol(n,this.bits),o=[];let s=t,a=s;for(let c=0;c<r;c++){a=s,o.push(a);for(let d=1;d<i;d++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=Ol(t,this.bits);for(let a=0;a<s.windows;a++){const{nextN:c,offset:d,isZero:v,isNeg:w,isNegF:p,offsetF:x}=Q0(r,a,s);r=c,v?o=o.add(cu(p,n[x])):i=i.add(cu(w,n[d]))}return J0(r),{p:i,f:o}}wNAFUnsafe(t,n,r,i=this.ZERO){const o=Ol(t,this.bits);for(let s=0;s<o.windows&&r!==Wo;s++){const{nextN:a,offset:c,isZero:d,isNeg:v}=Q0(r,s,o);if(r=a,!d){const w=n[c];i=i.add(v?w.negate():w)}}return J0(r),i}getPrecomputes(t,n,r){let i=Il.get(n);return i||(i=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(i=r(i)),Il.set(n,i))),i}cached(t,n,r){const i=Fl(t);return this.wNAF(i,this.getPrecomputes(i,t,r),n)}unsafe(t,n,r,i){const o=Fl(t);return o===1?this._unsafeLadder(t,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),n,i)}createCache(t,n){k1(n,this.bits),R1.set(t,n),Il.delete(t)}hasCache(t){return Fl(t)!==1}}function aE(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>Wo||r>Wo;)n&Ai&&(o=o.add(i)),r&Ai&&(s=s.add(i)),i=i.double(),n>>=Ai,r>>=Ai;return{p1:o,p2:s}}function I1(e,t,n,r){oE(n,e),sE(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=na(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const d=Wi(c),v=new Array(Number(d)+1).fill(s),w=Math.floor((t.BITS-1)/c)*c;let p=s;for(let x=w;x>=0;x-=c){v.fill(s);for(let F=0;F<o;F++){const W=r[F],S=Number(W>>BigInt(x)&d);v[S]=v[S].add(n[F])}let T=s;for(let F=v.length-1,W=s;F>0;F--)W=W.add(v[F]),T=T.add(W);if(p=p.add(T),x!==0)for(let F=0;F<c;F++)p=p.double()}return p}function ep(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return N1(t),t}else return pi(e,{isLE:n})}function F1(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const d=t[c];if(!(typeof d=="bigint"&&d>Wo))throw new Error(`CURVE.${c} must be positive bigint`)}const i=ep(t.p,n.Fp,r),o=ep(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:i,Fn:o}}const cE=sr;function qr(e,t){if(ia(e),ia(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function uE(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function ia(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function C1(e){if(!pa(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?ya(e):e}function lE(e,t,n,r){An(e),ia(n),t=C1(t),t.length>255&&(t=r(pt(ya("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=pt(t,qr(t.length,1)),c=qr(0,o),d=qr(n,2),v=new Array(s),w=r(pt(c,e,d,qr(0,1),a));v[0]=r(pt(w,qr(1,1),a));for(let x=1;x<=s;x++){const T=[uE(w,v[x-1]),qr(x+1,1),a];v[x]=r(pt(...T))}return pt(...v).slice(0,n)}function fE(e,t,n,r,i){if(An(e),ia(n),t=C1(t),t.length>255){const o=Math.ceil(2*r/8);t=i.create({dkLen:o}).update(ya("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(qr(n,2)).update(t).update(qr(t.length,1)).digest()}function Cl(e,t,n){va(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:r,k:i,m:o,hash:s,expand:a,DST:c}=n;if(!Yx(n.hash))throw new Error("expected valid hash");An(e),ia(t);const d=r.toString(2).length,v=Math.ceil((d+i)/8),w=t*o*v;let p;if(a==="xmd")p=lE(e,c,w,s);else if(a==="xof")p=fE(e,c,w,i,s);else if(a==="_internal_pass")p=e;else throw new Error('expand must be "xmd" or "xof"');const x=new Array(t);for(let T=0;T<t;T++){const F=new Array(o);for(let W=0;W<o;W++){const S=v*(W+T*o),E=p.subarray(S,S+v);F[W]=dt(cE(E),r)}x[T]=F}return x}function U1(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,s,a,c]=n.map(w=>w.reduce((p,x)=>e.add(e.mul(p,r),x))),[d,v]=Di(e,[s,c],!0);return r=e.mul(o,d),i=e.mul(i,e.mul(a,v)),{x:r,y:i}}}const dE=ya("HashToScalar-");function tp(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(o){return e.fromAffine(t(o))}function i(o){const s=o.clearCofactor();return s.equals(e.ZERO)?e.ZERO:(s.assertValidity(),s)}return{defaults:n,hashToCurve(o,s){const a=Object.assign({},n,s),c=Cl(o,2,a),d=r(c[0]),v=r(c[1]);return i(d.add(v))},encodeToCurve(o,s){const a=n.encodeDST?{DST:n.encodeDST}:{},c=Object.assign({},n,a,s),d=Cl(o,1,c),v=r(d[0]);return i(v)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const s of o)if(typeof s!="bigint")throw new Error("expected array of bigints");return i(r(o))},hashToScalar(o,s){const a=e.Fn.ORDER,c=Object.assign({},n,{p:a,m:1,DST:dE},s);return Cl(o,1,c)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const np=(e,t)=>(e+(e>=0?t:-t)/ur)/t;function hE(e,t,n){const[[r,i],[o,s]]=t,a=np(s*e,n),c=np(-i*e,n);let d=e-a*r-c*o,v=-a*i-c*s;const w=d<ki,p=v<ki;w&&(d=-d),p&&(v=-v);const x=Wi(Math.ceil(na(n)/2))+Yt;if(d<ki||d>=x||v<ki||v>=x)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:w,k1:d,k2neg:p,k2:v}}const ki=BigInt(0),Yt=BigInt(1),ur=BigInt(2),To=BigInt(3),nd=BigInt(4);function uu(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let i=rn("private key",t);try{r=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function pE(e,t={}){const n=F1("weierstrass",e,t),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;va(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=gE(r,i);function v(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function w(se,X,ne){const{x:ce,y:de}=X.toAffine(),we=r.toBytes(ce);if(ea(ne,"isCompressed"),ne){v();const J=!r.isOdd(de);return pt(yE(J),we)}else return pt(Uint8Array.of(4),we,r.toBytes(de))}function p(se){Co(se,void 0,"Point");const{publicKey:X,publicKeyUncompressed:ne}=d,ce=se.length,de=se[0],we=se.subarray(1);if(ce===X&&(de===2||de===3)){const J=r.fromBytes(we);if(!r.isValid(J))throw new Error("bad point: is not on curve, wrong x");const re=F(J);let ie;try{ie=r.sqrt(re)}catch(Ne){const A=Ne instanceof Error?": "+Ne.message:"";throw new Error("bad point: is not on curve, sqrt error"+A)}v();const oe=r.isOdd(ie);return(de&1)===1!==oe&&(ie=r.neg(ie)),{x:J,y:ie}}else if(ce===ne&&de===4){const J=r.BYTES,re=r.fromBytes(we.subarray(0,J)),ie=r.fromBytes(we.subarray(J,J*2));if(!W(re,ie))throw new Error("bad point: is not on curve");return{x:re,y:ie}}else throw new Error(`bad point: got length ${ce}, expected compressed=${X} or uncompressed=${ne}`)}const x=t.toBytes||w,T=t.fromBytes||p;function F(se){const X=r.sqr(se),ne=r.mul(X,se);return r.add(r.add(ne,r.mul(se,o.a)),o.b)}function W(se,X){const ne=r.sqr(X),ce=F(se);return r.eql(ne,ce)}if(!W(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const S=r.mul(r.pow(o.a,To),nd),E=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(S,E)))throw new Error("bad curve params: a or b");function b(se,X,ne=!1){if(!r.isValid(X)||ne&&r.is0(X))throw new Error(`bad point coordinate ${se}`);return X}function M(se){if(!(se instanceof L))throw new Error("ProjectivePoint expected")}function $(se){if(!c||!c.basises)throw new Error("no endo");return hE(se,c.basises,i.ORDER)}const V=ra((se,X)=>{const{X:ne,Y:ce,Z:de}=se;if(r.eql(de,r.ONE))return{x:ne,y:ce};const we=se.is0();X==null&&(X=we?r.ONE:r.inv(de));const J=r.mul(ne,X),re=r.mul(ce,X),ie=r.mul(de,X);if(we)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ie,r.ONE))throw new Error("invZ was invalid");return{x:J,y:re}}),P=ra(se=>{if(se.is0()){if(t.allowInfinityPoint&&!r.is0(se.Y))return;throw new Error("bad point: ZERO")}const{x:X,y:ne}=se.toAffine();if(!r.isValid(X)||!r.isValid(ne))throw new Error("bad point: x or y not field elements");if(!W(X,ne))throw new Error("bad point: equation left != right");if(!se.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function D(se,X,ne,ce,de){return ne=new L(r.mul(ne.X,se),ne.Y,ne.Z),X=cu(ce,X),ne=cu(de,ne),X.add(ne)}class L{constructor(X,ne,ce){this.X=b("x",X),this.Y=b("y",ne,!0),this.Z=b("z",ce),Object.freeze(this)}static CURVE(){return o}static fromAffine(X){const{x:ne,y:ce}=X||{};if(!X||!r.isValid(ne)||!r.isValid(ce))throw new Error("invalid affine point");if(X instanceof L)throw new Error("projective point not allowed");return r.is0(ne)&&r.is0(ce)?L.ZERO:new L(ne,ce,r.ONE)}static fromBytes(X){const ne=L.fromAffine(T(Co(X,void 0,"point")));return ne.assertValidity(),ne}static fromHex(X){return L.fromBytes(rn("pointHex",X))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(X=8,ne=!0){return ae.createCache(this,X),ne||this.multiply(To),this}assertValidity(){P(this)}hasEvenY(){const{y:X}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(X)}equals(X){M(X);const{X:ne,Y:ce,Z:de}=this,{X:we,Y:J,Z:re}=X,ie=r.eql(r.mul(ne,re),r.mul(we,de)),oe=r.eql(r.mul(ce,re),r.mul(J,de));return ie&&oe}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:X,b:ne}=o,ce=r.mul(ne,To),{X:de,Y:we,Z:J}=this;let re=r.ZERO,ie=r.ZERO,oe=r.ZERO,te=r.mul(de,de),Ne=r.mul(we,we),A=r.mul(J,J),Se=r.mul(de,we);return Se=r.add(Se,Se),oe=r.mul(de,J),oe=r.add(oe,oe),re=r.mul(X,oe),ie=r.mul(ce,A),ie=r.add(re,ie),re=r.sub(Ne,ie),ie=r.add(Ne,ie),ie=r.mul(re,ie),re=r.mul(Se,re),oe=r.mul(ce,oe),A=r.mul(X,A),Se=r.sub(te,A),Se=r.mul(X,Se),Se=r.add(Se,oe),oe=r.add(te,te),te=r.add(oe,te),te=r.add(te,A),te=r.mul(te,Se),ie=r.add(ie,te),A=r.mul(we,J),A=r.add(A,A),te=r.mul(A,Se),re=r.sub(re,te),oe=r.mul(A,Ne),oe=r.add(oe,oe),oe=r.add(oe,oe),new L(re,ie,oe)}add(X){M(X);const{X:ne,Y:ce,Z:de}=this,{X:we,Y:J,Z:re}=X;let ie=r.ZERO,oe=r.ZERO,te=r.ZERO;const Ne=o.a,A=r.mul(o.b,To);let Se=r.mul(ne,we),Ce=r.mul(ce,J),Fe=r.mul(de,re),ye=r.add(ne,ce),ge=r.add(we,J);ye=r.mul(ye,ge),ge=r.add(Se,Ce),ye=r.sub(ye,ge),ge=r.add(ne,de);let B=r.add(we,re);return ge=r.mul(ge,B),B=r.add(Se,Fe),ge=r.sub(ge,B),B=r.add(ce,de),ie=r.add(J,re),B=r.mul(B,ie),ie=r.add(Ce,Fe),B=r.sub(B,ie),te=r.mul(Ne,ge),ie=r.mul(A,Fe),te=r.add(ie,te),ie=r.sub(Ce,te),te=r.add(Ce,te),oe=r.mul(ie,te),Ce=r.add(Se,Se),Ce=r.add(Ce,Se),Fe=r.mul(Ne,Fe),ge=r.mul(A,ge),Ce=r.add(Ce,Fe),Fe=r.sub(Se,Fe),Fe=r.mul(Ne,Fe),ge=r.add(ge,Fe),Se=r.mul(Ce,ge),oe=r.add(oe,Se),Se=r.mul(B,ge),ie=r.mul(ye,ie),ie=r.sub(ie,Se),Se=r.mul(ye,Ce),te=r.mul(B,te),te=r.add(te,Se),new L(ie,oe,te)}subtract(X){return this.add(X.negate())}is0(){return this.equals(L.ZERO)}multiply(X){const{endo:ne}=t;if(!i.isValidNot0(X))throw new Error("invalid scalar: out of range");let ce,de;const we=J=>ae.cached(this,J,re=>vr(L,re));if(ne){const{k1neg:J,k1:re,k2neg:ie,k2:oe}=$(X),{p:te,f:Ne}=we(re),{p:A,f:Se}=we(oe);de=Ne.add(Se),ce=D(ne.beta,te,A,J,ie)}else{const{p:J,f:re}=we(X);ce=J,de=re}return vr(L,[ce,de])[0]}multiplyUnsafe(X){const{endo:ne}=t,ce=this;if(!i.isValid(X))throw new Error("invalid scalar: out of range");if(X===ki||ce.is0())return L.ZERO;if(X===Yt)return ce;if(ae.hasCache(this))return this.multiply(X);if(ne){const{k1neg:de,k1:we,k2neg:J,k2:re}=$(X),{p1:ie,p2:oe}=aE(L,ce,we,re);return D(ne.beta,ie,oe,de,J)}else return ae.unsafe(ce,X)}multiplyAndAddUnsafe(X,ne,ce){const de=this.multiplyUnsafe(ne).add(X.multiplyUnsafe(ce));return de.is0()?void 0:de}toAffine(X){return V(this,X)}isTorsionFree(){const{isTorsionFree:X}=t;return s===Yt?!0:X?X(L,this):ae.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:X}=t;return s===Yt?this:X?X(L,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(X=!0){return ea(X,"isCompressed"),this.assertValidity(),x(L,this,X)}toHex(X=!0){return Ho(this.toBytes(X))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(X=!0){return this.toBytes(X)}_setWindowSize(X){this.precompute(X)}static normalizeZ(X){return vr(L,X)}static msm(X,ne){return I1(L,i,X,ne)}static fromPrivateKey(X){return L.BASE.multiply(uu(i,X))}}L.BASE=new L(o.Gx,o.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=i;const z=i.BITS,ae=new O1(L,t.endo?Math.ceil(z/2):z);return L.BASE.precompute(8),L}function yE(e){return Uint8Array.of(e?2:3)}function mE(e,t){const n=e.ORDER;let r=ki;for(let T=n-Yt;T%ur===ki;T/=ur)r+=Yt;const i=r,o=ur<<i-Yt-Yt,s=o*ur,a=(n-Yt)/s,c=(a-Yt)/ur,d=s-Yt,v=o,w=e.pow(t,a),p=e.pow(t,(a+Yt)/ur);let x=(T,F)=>{let W=w,S=e.pow(F,d),E=e.sqr(S);E=e.mul(E,F);let b=e.mul(T,E);b=e.pow(b,c),b=e.mul(b,S),S=e.mul(b,F),E=e.mul(b,T);let M=e.mul(E,S);b=e.pow(M,v);let $=e.eql(b,e.ONE);S=e.mul(E,p),b=e.mul(M,W),E=e.cmov(S,E,$),M=e.cmov(b,M,$);for(let V=i;V>Yt;V--){let P=V-ur;P=ur<<P-Yt;let D=e.pow(M,P);const L=e.eql(D,e.ONE);S=e.mul(E,W),W=e.mul(W,W),D=e.mul(M,W),E=e.cmov(S,E,L),M=e.cmov(D,M,L)}return{isValid:$,value:E}};if(e.ORDER%nd===To){const T=(e.ORDER-To)/nd,F=e.sqrt(e.neg(t));x=(W,S)=>{let E=e.sqr(S);const b=e.mul(W,S);E=e.mul(E,b);let M=e.pow(E,T);M=e.mul(M,b);const $=e.mul(M,F),V=e.mul(e.sqr(M),S),P=e.eql(V,W);let D=e.cmov($,M,P);return{isValid:P,value:D}}}return x}function P1(e,t){N1(e);const{A:n,B:r,Z:i}=t;if(!e.isValid(n)||!e.isValid(r)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=mE(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return s=>{let a,c,d,v,w,p,x,T;a=e.sqr(s),a=e.mul(a,i),c=e.sqr(a),c=e.add(c,a),d=e.add(c,e.ONE),d=e.mul(d,r),v=e.cmov(i,e.neg(c),!e.eql(c,e.ZERO)),v=e.mul(v,n),c=e.sqr(d),p=e.sqr(v),w=e.mul(p,n),c=e.add(c,w),c=e.mul(c,d),p=e.mul(p,v),w=e.mul(p,r),c=e.add(c,w),x=e.mul(a,d);const{isValid:F,value:W}=o(c,p);T=e.mul(a,s),T=e.mul(T,W),x=e.cmov(x,d,F),T=e.cmov(T,W,F);const S=e.isOdd(s)===e.isOdd(T);T=e.cmov(e.neg(T),T,S);const E=Di(e,[v],!0)[0];return x=e.mul(x,E),{x,y:T}}}function gE(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function rp(e){const{CURVE:t,curveOpts:n}=wE(e),r=pE(t,n);return vE(e,r)}function wE(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=pi(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function _E(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function vE(e,t){const{Fp:n,Fn:r}=t;function i(s){return g1(s,Yt,r.ORDER)}const o=_E(n,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:s=>uu(r,s),weierstrassEquation:o,isWithinCurveOrder:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xE=BigInt(0),Da=BigInt(1),ip=BigInt(2),No=BigInt(3);function EE(e){const t=[];for(;e>Da;e>>=Da)(e&Da)===xE?t.unshift(0):(e&No)===No?(t.unshift(-1),e+=Da):t.unshift(1);return t}function Ul(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function bE(e,t,n,r){const{Fp2:i,Fp12:o}=e,{twistType:s,ateLoopSize:a,xNegative:c,postPrecompute:d}=r;let v;if(s==="multiplicative")v=(b,M,$,V,P,D)=>o.mul014(V,b,i.mul(M,P),i.mul($,D));else if(s==="divisive")v=(b,M,$,V,P,D)=>o.mul034(V,i.mul($,D),i.mul(M,P),b);else throw new Error("bls: unknown twist type");const w=i.div(i.ONE,i.mul(i.ONE,ip));function p(b,M,$,V){const P=i.sqr($),D=i.sqr(V),L=i.mulByB(i.mul(D,No)),z=i.mul(L,No),ae=i.sub(i.sub(i.sqr(i.add($,V)),D),P),se=i.sub(L,P),X=i.mul(i.sqr(M),No),ne=i.neg(ae);return b.push([se,X,ne]),M=i.mul(i.mul(i.mul(i.sub(P,z),M),$),w),$=i.sub(i.sqr(i.mul(i.add(P,z),w)),i.mul(i.sqr(L),No)),V=i.mul(P,ae),{Rx:M,Ry:$,Rz:V}}function x(b,M,$,V,P,D){const L=i.sub($,i.mul(D,V)),z=i.sub(M,i.mul(P,V)),ae=i.sub(i.mul(L,P),i.mul(z,D)),se=i.neg(L),X=z;b.push([ae,se,X]);const ne=i.sqr(z),ce=i.mul(ne,z),de=i.mul(ne,M),we=i.add(i.sub(ce,i.mul(de,ip)),i.mul(i.sqr(L),V));return M=i.mul(z,we),$=i.sub(i.mul(i.sub(de,we),L),i.mul(ce,$)),V=i.mul(V,ce),{Rx:M,Ry:$,Rz:V}}const T=EE(a),F=ra(b=>{const M=b,{x:$,y:V}=M.toAffine(),P=$,D=V,L=i.neg(V);let z=P,ae=D,se=i.ONE;const X=[];for(const ne of T){const ce=[];({Rx:z,Ry:ae,Rz:se}=p(ce,z,ae,se)),ne&&({Rx:z,Ry:ae,Rz:se}=x(ce,z,ae,se,P,ne===-1?L:D)),X.push(ce)}if(d){const ne=X[X.length-1];d(z,ae,se,P,D,x.bind(null,ne))}return X});function W(b,M=!1){let $=o.ONE;if(b.length){const V=b[0][0].length;for(let P=0;P<V;P++){$=o.sqr($);for(const[D,L,z]of b)for(const[ae,se,X]of D[P])$=v(ae,se,X,$,L,z)}}return c&&($=o.conjugate($)),M?o.finalExponentiate($):$}function S(b,M=!0){const $=[];vr(t,b.map(({g1:V})=>V)),vr(n,b.map(({g2:V})=>V));for(const{g1:V,g2:P}of b){if(V.is0()||P.is0())throw new Error("pairing is not available for ZERO point");V.assertValidity(),P.assertValidity();const D=V.toAffine();$.push([F(P),D.x,D.y])}return W($,M)}function E(b,M,$=!0){return S([{g1:b,g2:M}],$)}return{Fp12:o,millerLoopBatch:W,pairing:E,pairingBatch:S,calcPairingPrecomputes:F}}function op(e,t,n,r,i){const{Fp12:o,pairingBatch:s}=e;function a(w){return w instanceof t.Point?w:t.Point.fromHex(w)}function c(w){return w instanceof n.Point?w:n.Point.fromHex(w)}function d(w){if(!(w instanceof n.Point))throw new Error(`expected valid message hashed to ${i?"G1":"G2"} curve`);return w}const v=i?(w,p)=>({g1:p,g2:w}):(w,p)=>({g1:w,g2:p});return{getPublicKey(w){const p=uu(t.Point.Fn,w);return t.Point.BASE.multiply(p)},sign(w,p,x){if(x!=null)throw new Error("sign() expects 2 arguments");const T=uu(t.Point.Fn,p);return d(w).assertValidity(),w.multiply(T)},verify(w,p,x,T){if(T!=null)throw new Error("verify() expects 3 arguments");w=c(w),x=a(x);const F=x.negate(),W=t.Point.BASE,S=d(p),E=w,b=s([v(F,S),v(W,E)]);return o.eql(b,o.ONE)},verifyBatch(w,p,x){if(Ul(p),x.length!==p.length)throw new Error("amount of public keys and messages should be equal");const T=c(w),F=p,W=x.map(a),S=new Map;for(let M=0;M<W.length;M++){const $=W[M],V=F[M];let P=S.get(V);P===void 0&&(P=[],S.set(V,P)),P.push($)}const E=[],b=t.Point.BASE;try{for(const[M,$]of S){const V=$.reduce((P,D)=>P.add(D));E.push(v(V,M))}return E.push(v(b.negate(),T)),o.eql(s(E),o.ONE)}catch{return!1}},aggregatePublicKeys(w){Ul(w),w=w.map(x=>a(x));const p=w.reduce((x,T)=>x.add(T),t.Point.ZERO);return p.assertValidity(),p},aggregateSignatures(w){Ul(w),w=w.map(x=>c(x));const p=w.reduce((x,T)=>x.add(T),n.Point.ZERO);return p.assertValidity(),p},hash(w,p){An(w);const x=p?{DST:p}:void 0;return n.hashToCurve(w,x)},Signature:r}}function SE(e){const{Fp:t,Fr:n,Fp2:r,Fp6:i,Fp12:o}=e.fields,s=rp(e.G1),a=Object.assign(s,tp(s.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),c=rp(e.G2),d=Object.assign(c,tp(c.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),v=bE(e.fields,a.Point,d.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:w,pairing:p,pairingBatch:x,calcPairingPrecomputes:T}=v,F=op(v,a,d,e.G2.Signature,!1),W=op(v,d,a,e.G1.ShortSignature,!0),S=e.randomBytes||tg,E=()=>{const J=A1(n.ORDER);return iE(S(J),n.ORDER)},b={randomSecretKey:E,randomPrivateKey:E,calcPairingPrecomputes:T},{ShortSignature:M}=e.G1,{Signature:$}=e.G2;function V(J,re){return J instanceof a.Point?J:W.hash(rn("point",J),re==null?void 0:re.DST)}function P(J,re){return J instanceof d.Point?J:F.hash(rn("point",J),re==null?void 0:re.DST)}function D(J){return F.getPublicKey(J).toBytes(!0)}function L(J){return W.getPublicKey(J).toBytes(!0)}function z(J,re,ie){const oe=P(J,ie),te=F.sign(oe,re);return J instanceof d.Point?te:$.toBytes(te)}function ae(J,re,ie){const oe=V(J,ie),te=W.sign(oe,re);return J instanceof a.Point?te:M.toBytes(te)}function se(J,re,ie,oe){const te=P(re,oe);return F.verify(J,te,ie)}function X(J,re,ie,oe){const te=V(re,oe);return W.verify(J,te,ie)}function ne(J){const re=F.aggregatePublicKeys(J);return J[0]instanceof a.Point?re:re.toBytes(!0)}function ce(J){const re=F.aggregateSignatures(J);return J[0]instanceof d.Point?re:$.toBytes(re)}function de(J){const re=W.aggregateSignatures(J);return J[0]instanceof a.Point?re:M.toBytes(re)}function we(J,re,ie,oe){const te=re.map(Ne=>P(Ne,oe));return F.verifyBatch(J,te,ie)}return a.Point.BASE.precompute(4),{longSignatures:F,shortSignatures:W,millerLoopBatch:w,pairing:p,pairingBatch:x,verifyBatch:we,fields:{Fr:n,Fp:t,Fp2:r,Fp6:i,Fp12:o},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:b,getPublicKey:D,getPublicKeyForShortSignatures:L,sign:z,signShortSignature:ae,verify:se,verifyShortSignature:X,aggregatePublicKeys:ne,aggregateSignatures:ce,aggregateShortSignatures:de,G1:a,G2:d,Signature:$,ShortSignature:M}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sp=BigInt(0),xr=BigInt(1),Xt=BigInt(2),ap=BigInt(3);function mh(e,t,n,r,i=1,o){const s=BigInt(o===void 0?r:o),a=n**BigInt(r),c=[];for(let d=0;d<i;d++){const v=BigInt(d+1),w=[];for(let p=0,x=xr;p<r;p++){const T=(v*x-v)/s%a;w.push(e.pow(t,T)),x*=n}c.push(w)}return c}function TE(e,t,n){const r=t.pow(n,(e.ORDER-xr)/ap),i=t.pow(n,(e.ORDER-xr)/Xt);function o(p,x){const T=t.mul(t.frobeniusMap(p,1),r),F=t.mul(t.frobeniusMap(x,1),i);return[T,F]}const s=t.pow(n,(e.ORDER**Xt-xr)/ap),a=t.pow(n,(e.ORDER**Xt-xr)/Xt);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(p,x){return[t.mul(p,s),t.neg(x)]}const d=p=>(x,T)=>{const F=T.toAffine(),W=p(F.x,F.y);return x.fromAffine({x:W[0],y:W[1]})},v=d(o),w=d(c);return{psi:o,psi2:c,G2psi:v,G2psi2:w,PSI_X:r,PSI_Y:i,PSI2_X:s,PSI2_Y:a}}const cp=(e,t)=>{if(t.length!==2)throw new Error("invalid tuple");const n=t.map(r=>e.create(r));return{c0:n[0],c1:n[1]}};class NE{constructor(t,n={}){this.MASK=xr;const r=t.ORDER,i=r*r;this.Fp=t,this.ORDER=i,this.BITS=na(i),this.BYTES=Math.ceil(na(i)/8),this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO},this.Fp_NONRESIDUE=t.create(n.NONRESIDUE||BigInt(-1)),this.Fp_div2=t.div(t.ONE,Xt),this.NONRESIDUE=cp(t,n.FP2_NONRESIDUE),this.FROBENIUS_COEFFICIENTS=mh(t,this.Fp_NONRESIDUE,t.ORDER,2)[0],this.mulByB=n.Fp2mulByB,Object.seal(this)}fromBigTuple(t){return cp(this.Fp,t)}create(t){return t}isValid({c0:t,c1:n}){function r(i,o){return typeof i=="bigint"&&sp<=i&&i<o}return r(t,this.ORDER)&&r(n,this.ORDER)}is0({c0:t,c1:n}){return this.Fp.is0(t)&&this.Fp.is0(n)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}eql({c0:t,c1:n},{c0:r,c1:i}){return this.Fp.eql(t,r)&&this.Fp.eql(n,i)}neg({c0:t,c1:n}){return{c0:this.Fp.neg(t),c1:this.Fp.neg(n)}}pow(t,n){return zu(this,t,n)}invertBatch(t){return Di(this,t)}add(t,n){const{c0:r,c1:i}=t,{c0:o,c1:s}=n;return{c0:this.Fp.add(r,o),c1:this.Fp.add(i,s)}}sub({c0:t,c1:n},{c0:r,c1:i}){return{c0:this.Fp.sub(t,r),c1:this.Fp.sub(n,i)}}mul({c0:t,c1:n},r){const{Fp:i}=this;if(typeof r=="bigint")return{c0:i.mul(t,r),c1:i.mul(n,r)};const{c0:o,c1:s}=r;let a=i.mul(t,o),c=i.mul(n,s);const d=i.sub(a,c),v=i.sub(i.mul(i.add(t,n),i.add(o,s)),i.add(a,c));return{c0:d,c1:v}}sqr({c0:t,c1:n}){const{Fp:r}=this,i=r.add(t,n),o=r.sub(t,n),s=r.add(t,t);return{c0:r.mul(i,o),c1:r.mul(s,n)}}addN(t,n){return this.add(t,n)}subN(t,n){return this.sub(t,n)}mulN(t,n){return this.mul(t,n)}sqrN(t){return this.sqr(t)}div(t,n){const{Fp:r}=this;return this.mul(t,typeof n=="bigint"?r.inv(r.create(n)):this.inv(n))}inv({c0:t,c1:n}){const{Fp:r}=this,i=r.inv(r.create(t*t+n*n));return{c0:r.mul(i,r.create(t)),c1:r.mul(i,r.create(-n))}}sqrt(t){const{Fp:n}=this,r=this,{c0:i,c1:o}=t;if(n.is0(o))return au(n,i)===1?r.create({c0:n.sqrt(i),c1:n.ZERO}):r.create({c0:n.ZERO,c1:n.sqrt(n.div(i,this.Fp_NONRESIDUE))});const s=n.sqrt(n.sub(n.sqr(i),n.mul(n.sqr(o),this.Fp_NONRESIDUE)));let a=n.mul(n.add(s,i),this.Fp_div2);au(n,a)===-1&&(a=n.sub(a,s));const d=n.sqrt(a),v=r.create({c0:d,c1:n.div(n.mul(o,this.Fp_div2),d)});if(!r.eql(r.sqr(v),t))throw new Error("Cannot find square root");const w=v,p=r.neg(w),{re:x,im:T}=r.reim(w),{re:F,im:W}=r.reim(p);return T>W||T===W&&x>F?w:p}isOdd(t){const{re:n,im:r}=this.reim(t),i=n%Xt,o=n===sp,s=r%Xt;return BigInt(i||o&&s)==xr}fromBytes(t){const{Fp:n}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:n.fromBytes(t.subarray(0,n.BYTES)),c1:n.fromBytes(t.subarray(n.BYTES))}}toBytes({c0:t,c1:n}){return pt(this.Fp.toBytes(t),this.Fp.toBytes(n))}cmov({c0:t,c1:n},{c0:r,c1:i},o){return{c0:this.Fp.cmov(t,r,o),c1:this.Fp.cmov(n,i,o)}}reim({c0:t,c1:n}){return{re:t,im:n}}Fp4Square(t,n){const r=this,i=r.sqr(t),o=r.sqr(n);return{first:r.add(r.mulByNonresidue(o),i),second:r.sub(r.sub(r.sqr(r.add(t,n)),i),o)}}mulByNonresidue({c0:t,c1:n}){return this.mul({c0:t,c1:n},this.NONRESIDUE)}frobeniusMap({c0:t,c1:n},r){return{c0:t,c1:this.Fp.mul(n,this.FROBENIUS_COEFFICIENTS[r%2])}}}class BE{constructor(t){this.MASK=xr,this.Fp2=t,this.ORDER=t.ORDER,this.BITS=3*t.BITS,this.BYTES=3*t.BYTES,this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO,c2:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO,c2:t.ZERO};const{Fp:n}=t,r=mh(t,t.NONRESIDUE,n.ORDER,6,2,3);this.FROBENIUS_COEFFICIENTS_1=r[0],this.FROBENIUS_COEFFICIENTS_2=r[1],Object.seal(this)}add({c0:t,c1:n,c2:r},{c0:i,c1:o,c2:s}){const{Fp2:a}=this;return{c0:a.add(t,i),c1:a.add(n,o),c2:a.add(r,s)}}sub({c0:t,c1:n,c2:r},{c0:i,c1:o,c2:s}){const{Fp2:a}=this;return{c0:a.sub(t,i),c1:a.sub(n,o),c2:a.sub(r,s)}}mul({c0:t,c1:n,c2:r},i){const{Fp2:o}=this;if(typeof i=="bigint")return{c0:o.mul(t,i),c1:o.mul(n,i),c2:o.mul(r,i)};const{c0:s,c1:a,c2:c}=i,d=o.mul(t,s),v=o.mul(n,a),w=o.mul(r,c);return{c0:o.add(d,o.mulByNonresidue(o.sub(o.mul(o.add(n,r),o.add(a,c)),o.add(v,w)))),c1:o.add(o.sub(o.mul(o.add(t,n),o.add(s,a)),o.add(d,v)),o.mulByNonresidue(w)),c2:o.sub(o.add(v,o.mul(o.add(t,r),o.add(s,c))),o.add(d,w))}}sqr({c0:t,c1:n,c2:r}){const{Fp2:i}=this;let o=i.sqr(t),s=i.mul(i.mul(t,n),Xt),a=i.mul(i.mul(n,r),Xt),c=i.sqr(r);return{c0:i.add(i.mulByNonresidue(a),o),c1:i.add(i.mulByNonresidue(c),s),c2:i.sub(i.sub(i.add(i.add(s,i.sqr(i.add(i.sub(t,n),r))),a),o),c)}}addN(t,n){return this.add(t,n)}subN(t,n){return this.sub(t,n)}mulN(t,n){return this.mul(t,n)}sqrN(t){return this.sqr(t)}create(t){return t}isValid({c0:t,c1:n,c2:r}){const{Fp2:i}=this;return i.isValid(t)&&i.isValid(n)&&i.isValid(r)}is0({c0:t,c1:n,c2:r}){const{Fp2:i}=this;return i.is0(t)&&i.is0(n)&&i.is0(r)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}neg({c0:t,c1:n,c2:r}){const{Fp2:i}=this;return{c0:i.neg(t),c1:i.neg(n),c2:i.neg(r)}}eql({c0:t,c1:n,c2:r},{c0:i,c1:o,c2:s}){const{Fp2:a}=this;return a.eql(t,i)&&a.eql(n,o)&&a.eql(r,s)}sqrt(t){return w1()}div(t,n){const{Fp2:r}=this,{Fp:i}=r;return this.mul(t,typeof n=="bigint"?i.inv(i.create(n)):this.inv(n))}pow(t,n){return zu(this,t,n)}invertBatch(t){return Di(this,t)}inv({c0:t,c1:n,c2:r}){const{Fp2:i}=this;let o=i.sub(i.sqr(t),i.mulByNonresidue(i.mul(r,n))),s=i.sub(i.mulByNonresidue(i.sqr(r)),i.mul(t,n)),a=i.sub(i.sqr(n),i.mul(t,r)),c=i.inv(i.add(i.mulByNonresidue(i.add(i.mul(r,s),i.mul(n,a))),i.mul(t,o)));return{c0:i.mul(c,o),c1:i.mul(c,s),c2:i.mul(c,a)}}fromBytes(t){const{Fp2:n}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);const r=n.BYTES;return{c0:n.fromBytes(t.subarray(0,r)),c1:n.fromBytes(t.subarray(r,r*2)),c2:n.fromBytes(t.subarray(2*r))}}toBytes({c0:t,c1:n,c2:r}){const{Fp2:i}=this;return pt(i.toBytes(t),i.toBytes(n),i.toBytes(r))}cmov({c0:t,c1:n,c2:r},{c0:i,c1:o,c2:s},a){const{Fp2:c}=this;return{c0:c.cmov(t,i,a),c1:c.cmov(n,o,a),c2:c.cmov(r,s,a)}}fromBigSix(t){const{Fp2:n}=this;if(!Array.isArray(t)||t.length!==6)throw new Error("invalid Fp6 usage");return{c0:n.fromBigTuple(t.slice(0,2)),c1:n.fromBigTuple(t.slice(2,4)),c2:n.fromBigTuple(t.slice(4,6))}}frobeniusMap({c0:t,c1:n,c2:r},i){const{Fp2:o}=this;return{c0:o.frobeniusMap(t,i),c1:o.mul(o.frobeniusMap(n,i),this.FROBENIUS_COEFFICIENTS_1[i%6]),c2:o.mul(o.frobeniusMap(r,i),this.FROBENIUS_COEFFICIENTS_2[i%6])}}mulByFp2({c0:t,c1:n,c2:r},i){const{Fp2:o}=this;return{c0:o.mul(t,i),c1:o.mul(n,i),c2:o.mul(r,i)}}mulByNonresidue({c0:t,c1:n,c2:r}){const{Fp2:i}=this;return{c0:i.mulByNonresidue(r),c1:t,c2:n}}mul1({c0:t,c1:n,c2:r},i){const{Fp2:o}=this;return{c0:o.mulByNonresidue(o.mul(r,i)),c1:o.mul(t,i),c2:o.mul(n,i)}}mul01({c0:t,c1:n,c2:r},i,o){const{Fp2:s}=this;let a=s.mul(t,i),c=s.mul(n,o);return{c0:s.add(s.mulByNonresidue(s.sub(s.mul(s.add(n,r),o),c)),a),c1:s.sub(s.sub(s.mul(s.add(i,o),s.add(t,n)),a),c),c2:s.add(s.sub(s.mul(s.add(t,r),i),a),c)}}}class AE{constructor(t,n){this.MASK=xr;const{Fp2:r}=t,{Fp:i}=r;this.Fp6=t,this.ORDER=r.ORDER,this.BITS=2*t.BITS,this.BYTES=2*t.BYTES,this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO},this.FROBENIUS_COEFFICIENTS=mh(r,r.NONRESIDUE,i.ORDER,12,1,6)[0],this.X_LEN=n.X_LEN,this.finalExponentiate=n.Fp12finalExponentiate}create(t){return t}isValid({c0:t,c1:n}){const{Fp6:r}=this;return r.isValid(t)&&r.isValid(n)}is0({c0:t,c1:n}){const{Fp6:r}=this;return r.is0(t)&&r.is0(n)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}neg({c0:t,c1:n}){const{Fp6:r}=this;return{c0:r.neg(t),c1:r.neg(n)}}eql({c0:t,c1:n},{c0:r,c1:i}){const{Fp6:o}=this;return o.eql(t,r)&&o.eql(n,i)}sqrt(t){w1()}inv({c0:t,c1:n}){const{Fp6:r}=this;let i=r.inv(r.sub(r.sqr(t),r.mulByNonresidue(r.sqr(n))));return{c0:r.mul(t,i),c1:r.neg(r.mul(n,i))}}div(t,n){const{Fp6:r}=this,{Fp2:i}=r,{Fp:o}=i;return this.mul(t,typeof n=="bigint"?o.inv(o.create(n)):this.inv(n))}pow(t,n){return zu(this,t,n)}invertBatch(t){return Di(this,t)}add({c0:t,c1:n},{c0:r,c1:i}){const{Fp6:o}=this;return{c0:o.add(t,r),c1:o.add(n,i)}}sub({c0:t,c1:n},{c0:r,c1:i}){const{Fp6:o}=this;return{c0:o.sub(t,r),c1:o.sub(n,i)}}mul({c0:t,c1:n},r){const{Fp6:i}=this;if(typeof r=="bigint")return{c0:i.mul(t,r),c1:i.mul(n,r)};let{c0:o,c1:s}=r,a=i.mul(t,o),c=i.mul(n,s);return{c0:i.add(a,i.mulByNonresidue(c)),c1:i.sub(i.mul(i.add(t,n),i.add(o,s)),i.add(a,c))}}sqr({c0:t,c1:n}){const{Fp6:r}=this;let i=r.mul(t,n);return{c0:r.sub(r.sub(r.mul(r.add(r.mulByNonresidue(n),t),r.add(t,n)),i),r.mulByNonresidue(i)),c1:r.add(i,i)}}addN(t,n){return this.add(t,n)}subN(t,n){return this.sub(t,n)}mulN(t,n){return this.mul(t,n)}sqrN(t){return this.sqr(t)}fromBytes(t){const{Fp6:n}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:n.fromBytes(t.subarray(0,n.BYTES)),c1:n.fromBytes(t.subarray(n.BYTES))}}toBytes({c0:t,c1:n}){const{Fp6:r}=this;return pt(r.toBytes(t),r.toBytes(n))}cmov({c0:t,c1:n},{c0:r,c1:i},o){const{Fp6:s}=this;return{c0:s.cmov(t,r,o),c1:s.cmov(n,i,o)}}fromBigTwelve(t){const{Fp6:n}=this;return{c0:n.fromBigSix(t.slice(0,6)),c1:n.fromBigSix(t.slice(6,12))}}frobeniusMap(t,n){const{Fp6:r}=this,{Fp2:i}=r,{c0:o,c1:s,c2:a}=r.frobeniusMap(t.c1,n),c=this.FROBENIUS_COEFFICIENTS[n%12];return{c0:r.frobeniusMap(t.c0,n),c1:r.create({c0:i.mul(o,c),c1:i.mul(s,c),c2:i.mul(a,c)})}}mulByFp2({c0:t,c1:n},r){const{Fp6:i}=this;return{c0:i.mulByFp2(t,r),c1:i.mulByFp2(n,r)}}conjugate({c0:t,c1:n}){return{c0:t,c1:this.Fp6.neg(n)}}mul014({c0:t,c1:n},r,i,o){const{Fp6:s}=this,{Fp2:a}=s;let c=s.mul01(t,r,i),d=s.mul1(n,o);return{c0:s.add(s.mulByNonresidue(d),c),c1:s.sub(s.sub(s.mul01(s.add(n,t),r,a.add(i,o)),c),d)}}mul034({c0:t,c1:n},r,i,o){const{Fp6:s}=this,{Fp2:a}=s,c=s.create({c0:a.mul(t.c0,r),c1:a.mul(t.c1,r),c2:a.mul(t.c2,r)}),d=s.mul01(n,i,o),v=s.mul01(s.add(t,n),a.add(r,i),o);return{c0:s.add(s.mulByNonresidue(d),c),c1:s.sub(v,s.add(c,d))}}_cyclotomicSquare({c0:t,c1:n}){const{Fp6:r}=this,{Fp2:i}=r,{c0:o,c1:s,c2:a}=t,{c0:c,c1:d,c2:v}=n,{first:w,second:p}=i.Fp4Square(o,d),{first:x,second:T}=i.Fp4Square(c,a),{first:F,second:W}=i.Fp4Square(s,v),S=i.mulByNonresidue(W);return{c0:r.create({c0:i.add(i.mul(i.sub(w,o),Xt),w),c1:i.add(i.mul(i.sub(x,s),Xt),x),c2:i.add(i.mul(i.sub(F,a),Xt),F)}),c1:r.create({c0:i.add(i.mul(i.add(S,c),Xt),S),c1:i.add(i.mul(i.add(p,d),Xt),p),c2:i.add(i.mul(i.add(T,v),Xt),T)})}}_cyclotomicExp(t,n){let r=this.ONE;for(let i=this.X_LEN-1;i>=0;i--)r=this._cyclotomicSquare(r),Dx(n,i)&&(r=this.mul(r,t));return r}}function kE(e){const t=pi(e.ORDER),n=new NE(t,e),r=new BE(n),i=new AE(r,e);return{Fp:t,Fp2:n,Fp6:r,Fp12:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qt=BigInt(0),lu=BigInt(1),kn=BigInt(2),ju=BigInt(3),oa=BigInt(4),Lr=BigInt("0xd201000000010000"),RE=na(Lr),Gi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:qt,b:oa,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},OE=pi(Gi.n,{modFromBytes:!0,isLE:!0}),{Fp:Ee,Fp2:Ue,Fp6:IE,Fp12:ze}=kE({ORDER:Gi.p,X_LEN:RE,FP2_NONRESIDUE:[lu,lu],Fp2mulByB:({c0:e,c1:t})=>{const n=Ee.mul(e,oa),r=Ee.mul(t,oa);return{c0:Ee.sub(n,r),c1:Ee.add(n,r)}},Fp12finalExponentiate:e=>{const t=Lr,n=ze.div(ze.frobeniusMap(e,6),e),r=ze.mul(ze.frobeniusMap(n,2),n),i=ze.conjugate(ze._cyclotomicExp(r,t)),o=ze.mul(ze.conjugate(ze._cyclotomicSquare(r)),i),s=ze.conjugate(ze._cyclotomicExp(o,t)),a=ze.conjugate(ze._cyclotomicExp(s,t)),c=ze.mul(ze.conjugate(ze._cyclotomicExp(a,t)),ze._cyclotomicSquare(i)),d=ze.conjugate(ze._cyclotomicExp(c,t)),v=ze.frobeniusMap(ze.mul(i,a),2),w=ze.frobeniusMap(ze.mul(s,r),3),p=ze.frobeniusMap(ze.mul(c,ze.conjugate(r)),1),x=ze.mul(ze.mul(d,ze.conjugate(o)),r);return ze.mul(ze.mul(ze.mul(v,w),p),x)}}),{G2psi:up,G2psi2:FE}=TE(Ee,Ue,Ue.div(Ue.ONE,Ue.NONRESIDUE)),Pl=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ee.ORDER,m:2,k:128,expand:"xmd",hash:og}),gh={p:Ue.ORDER,n:Gi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ue.ZERO,b:Ue.fromBigTuple([oa,oa]),Gx:Ue.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ue.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},qu=xa(Ee.toBytes(qt),{infinity:!0,compressed:!0});function Lu(e){e=e.slice();const t=e[0]&224,n=!!(t>>7&1),r=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:n,infinity:r,sort:i,value:e}}function xa(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function CE(e,t,n){const{BYTES:r,ORDER:i}=Ee,o=t.is0(),{x:s,y:a}=t.toAffine();if(n){if(o)return qu.slice();const c=!!(a*kn/i);return xa(Rt(s,r),{compressed:!0,sort:c})}else return o?pt(Uint8Array.of(64),new Uint8Array(2*r-1)):pt(Rt(s,r),Rt(a,r))}function Ml(e){e.assertValidity();const{BYTES:t,ORDER:n}=Ee,{x:r,y:i}=e.toAffine();if(e.is0())return qu.slice();const o=!!(i*kn/n);return xa(Rt(r,t),{compressed:!0,sort:o})}function UE(e){const{compressed:t,infinity:n,sort:r,value:i}=Lu(e),{BYTES:o,ORDER:s}=Ee;if(i.length===48&&t){const a=sr(i),c=Ee.create(a&Wi(Ee.BITS));if(n){if(c!==qt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:qt,y:qt}}const d=Ee.add(Ee.pow(c,ju),Ee.create(Gi.b));let v=Ee.sqrt(d);if(!v)throw new Error("invalid G1 point: compressed point");return v*kn/s!==BigInt(r)&&(v=Ee.neg(v)),{x:Ee.create(c),y:Ee.create(v)}}else if(i.length===96&&!t){const a=sr(i.subarray(0,o)),c=sr(i.subarray(o));if(n){if(a!==qt||c!==qt)throw new Error("G1: non-empty point at infinity");return Gu.G1.Point.ZERO.toAffine()}return{x:Ee.create(a),y:Ee.create(c)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function lp(e){const{infinity:t,sort:n,value:r}=Lu(rn("signatureHex",e,48)),i=Ee.ORDER,o=Gu.G1.Point,s=sr(r);if(t)return o.ZERO;const a=Ee.create(s&Wi(Ee.BITS)),c=Ee.add(Ee.pow(a,ju),Ee.create(Gi.b));let d=Ee.sqrt(c);if(!d)throw new Error("invalid G1 point: compressed");const v=BigInt(n);d*kn/i!==v&&(d=Ee.neg(d));const w=o.fromAffine({x:a,y:d});return w.assertValidity(),w}function PE(e,t,n){const{BYTES:r,ORDER:i}=Ee,o=t.is0(),{x:s,y:a}=t.toAffine();if(n){if(o)return pt(qu,Rt(qt,r));const c=!!(a.c1===qt?a.c0*kn/i:a.c1*kn/i);return pt(xa(Rt(s.c1,r),{compressed:!0,sort:c}),Rt(s.c0,r))}else{if(o)return pt(Uint8Array.of(64),new Uint8Array(4*r-1));const{re:c,im:d}=Ue.reim(s),{re:v,im:w}=Ue.reim(a);return pt(Rt(d,r),Rt(c,r),Rt(w,r),Rt(v,r))}}function Vl(e){e.assertValidity();const{BYTES:t}=Ee;if(e.is0())return pt(qu,Rt(qt,t));const{x:n,y:r}=e.toAffine(),{re:i,im:o}=Ue.reim(n),{re:s,im:a}=Ue.reim(r),d=!!((a>qt?a*kn:s*kn)/Ee.ORDER&lu),v=i;return pt(xa(Rt(o,t),{sort:d,compressed:!0}),Rt(v,t))}function ME(e){const{BYTES:t,ORDER:n}=Ee,{compressed:r,infinity:i,sort:o,value:s}=Lu(e);if(!r&&!i&&o||!r&&i&&o||o&&i&&r)throw new Error("invalid encoding flag: "+(e[0]&224));const a=(c,d,v)=>sr(c.slice(d,v));if(s.length===96&&r){if(i){if(s.reduce((T,F)=>T!==0?F+1:F,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ue.ZERO,y:Ue.ZERO}}const c=a(s,0,t),d=a(s,t,2*t),v=Ue.create({c0:Ee.create(d),c1:Ee.create(c)}),w=Ue.add(Ue.pow(v,ju),gh.b);let p=Ue.sqrt(w);const x=p.c1===qt?p.c0*kn/n:p.c1*kn/n?lu:qt;return p=o&&x>0?p:Ue.neg(p),{x:v,y:p}}else if(s.length===192&&!r){if(i){if(s.reduce((p,x)=>p!==0?x+1:x,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ue.ZERO,y:Ue.ZERO}}const c=a(s,0*t,1*t),d=a(s,1*t,2*t),v=a(s,2*t,3*t),w=a(s,3*t,4*t);return{x:Ue.fromBigTuple([d,c]),y:Ue.fromBigTuple([w,v])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function fp(e){const{ORDER:t}=Ee,{infinity:n,sort:r,value:i}=Lu(rn("signatureHex",e)),o=Gu.G2.Point,s=i.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const a=sr(i.slice(0,s)),c=sr(i.slice(s));if(n)return o.ZERO;const d=Ee.create(a&Wi(Ee.BITS)),v=Ee.create(c),w=Ue.create({c0:v,c1:d}),p=Ue.add(Ue.pow(w,ju),gh.b);let x=Ue.sqrt(p);if(!x)throw new Error("Failed to find a square root");const{re:T,im:F}=Ue.reim(x),W=BigInt(r),S=F>qt&&F*kn/t!==W,E=F===qt&&T*kn/t!==W;(S||E)&&(x=Ue.neg(x));const b=o.fromAffine({x:w,y:x});return b.assertValidity(),b}const Gu=SE({fields:{Fp:Ee,Fp2:Ue,Fp6:IE,Fp12:ze,Fr:OE},G1:{...Gi,Fp:Ee,htfDefaults:{...Pl,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new e(Ee.mul(t.X,n),t.Y,t.Z);return t.multiplyUnsafe(Lr).negate().multiplyUnsafe(Lr).equals(r)},clearCofactor:(e,t)=>t.multiplyUnsafe(Lr).add(t),mapToCurve:qE,fromBytes:UE,toBytes:CE,ShortSignature:{fromBytes(e){return An(e),lp(e)},fromHex(e){return lp(e)},toBytes(e){return Ml(e)},toRawBytes(e){return Ml(e)},toHex(e){return Ho(Ml(e))}}},G2:{...gh,Fp:Ue,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Pl},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:LE,isTorsionFree:(e,t)=>t.multiplyUnsafe(Lr).negate().equals(up(e,t)),clearCofactor:(e,t)=>{const n=Lr;let r=t.multiplyUnsafe(n).negate(),i=up(e,t),o=t.double();return o=FE(e,o),o=o.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),o=o.add(i),o=o.subtract(r),o.subtract(t)},fromBytes:ME,toBytes:PE,Signature:{fromBytes(e){return An(e),fp(e)},fromHex(e){return fp(e)},toBytes(e){return Vl(e)},toRawBytes(e){return Vl(e)},toHex(e){return Ho(Vl(e))}}},params:{ateLoopSize:Lr,r:Gi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Pl}),VE=U1(Ue,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ue.fromBigTuple(t.map(BigInt))))),$E=U1(Ee,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),zE=P1(Ee,{A:Ee.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ee.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ee.create(BigInt(11))}),jE=P1(Ue,{A:Ue.create({c0:Ee.create(qt),c1:Ee.create(BigInt(240))}),B:Ue.create({c0:Ee.create(BigInt(1012)),c1:Ee.create(BigInt(1012))}),Z:Ue.create({c0:Ee.create(BigInt(-2)),c1:Ee.create(BigInt(-1))})});function qE(e){const{x:t,y:n}=zE(Ee.create(e[0]));return $E(t,n)}function LE(e){const{x:t,y:n}=jE(Ue.fromBigTuple(e));return VE(t,n)}function GE(e,t,n){const r=typeof e=="string"?e:nt(e),i=typeof t=="string"?t:nt(t),o=typeof n=="string"?n:nt(n);return Gu.verifyShortSignature(i,o,r)}const M1=e=>St(new Qo(e)),wh=e=>{const t=M1(e);return new Date(Number(t)/1e6)};var HE=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},KE=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},pc;class er extends ut{constructor(t){super(`Invalid certificate: ${t}`)}}var hn;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(hn||(hn={}));function WE(e,t){const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<n.length;i++)if(n[i]>r[i])return!0;return!1}class Fi{constructor(t,n,r,i,o=5,s=!1){this._rootKey=n,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=o,pc.set(this,!1),HE(this,pc,s,"f"),this.cert=_r(new Uint8Array(t))}static async create(t){const n=Fi.createUnverified(t);return await n.verify(),n}static createUnverified(t){let n=t.blsVerify;return n||(n=GE),new Fi(t.certificate,t.rootKey,t.canisterId,n,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Do(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await yc(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=YE(n),o=qn(ws("ic-state-root"),t);let s=!1;const a=bn(this.lookup(["time"]));if(!a)throw new er("Certificate does not contain a time");if(!KE(this,pc,"f")){const d=this._maxAgeInMinutes*60*1e3,v=Date.now(),w=v-d,p=v+3e5,x=wh(a);if(x.getTime()<w)throw new er(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+x.toISOString()+" Current time: "+new Date(v).toISOString());if(x.getTime()>p)throw new er("Certificate is signed more than 5 minutes in the future. Certificate time: "+x.toISOString()+" Current time: "+new Date(v).toISOString())}try{s=await this._blsVerify(new Uint8Array(i),new Uint8Array(r),new Uint8Array(o))}catch{s=!1}if(!s)throw new er("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const n=await Fi.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new er("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==vb&&!V1({canisterId:this._canisterId,subnetId:Oe.fromUint8Array(new Uint8Array(t.subnet_id)),tree:n.cert.tree}))throw new er(`Canister ${this._canisterId} not in range of delegations for subnet 0x${nt(t.subnet_id)}`);const r=bn(n.lookup(["subnet",t.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${nt(t.subnet_id)}`);return r}}pc=new WeakMap;const ls=Sr("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),DE=96;function YE(e){const t=ls.byteLength+DE;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const n=e.slice(0,ls.byteLength);if(!ma(n,ls))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${ls}, but get ${n}`);return e.slice(ls.byteLength)}function bn(e){if(e.status===_t.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function yc(e){switch(e[0]){case hn.Empty:return $n(ws("ic-hashtree-empty"));case hn.Pruned:return e[1];case hn.Leaf:return $n(qn(ws("ic-hashtree-leaf"),e[1]));case hn.Labeled:return $n(qn(ws("ic-hashtree-labeled"),e[1],await yc(e[2])));case hn.Fork:return $n(qn(ws("ic-hashtree-fork"),await yc(e[1]),await yc(e[2])));default:throw new Error("unreachable")}}function ws(e){const t=new Uint8Array([e.length]),n=new TextEncoder().encode(e);return qn(t,n)}var _t;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(_t||(_t={}));var yr;(function(e){e.Less="less",e.Greater="greater"})(yr||(yr={}));function Do(e,t){if(e.length===0)switch(t[0]){case hn.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:_t.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:_t.Found,value:t[1].buffer}:{status:_t.Found,value:t[1]}}default:return{status:_t.Found,value:t}}const n=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],r=mc(n,t);switch(r.status){case _t.Found:return Do(e.slice(1),r.value);case yr.Greater:case yr.Less:return{status:_t.Absent};default:return r}}function rd(e){switch(e[0]){case hn.Empty:return[];case hn.Fork:return rd(e[1]).concat(rd(e[2]));default:return[e]}}function mc(e,t){switch(t[0]){case hn.Labeled:return WE(e,t[1])?{status:yr.Greater}:ma(e,t[1])?{status:_t.Found,value:t[2]}:{status:yr.Less};case hn.Fork:const n=mc(e,t[1]);switch(n.status){case yr.Greater:{const r=mc(e,t[2]);return r.status===yr.Less?{status:_t.Absent}:r}case _t.Unknown:{let r=mc(e,t[2]);return r.status===yr.Less?{status:_t.Unknown}:r}default:return n}case hn.Pruned:return{status:_t.Unknown};default:return{status:_t.Absent}}}function V1(e){const{canisterId:t,subnetId:n,tree:r}=e,i=Do(["subnet",n.toUint8Array(),"canister_ranges"],r);if(i.status!==_t.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return _r(i.value).map(c=>[Oe.fromUint8Array(c[0]),Oe.fromUint8Array(c[1])]).some(c=>c[0].ltEq(t)&&c[1].gtEq(t))}class ZE{constructor(t,n,r){this.key=t,this.path=n,this.decodeStrategy=r}}const $1=async e=>{const{agent:t,paths:n}=e,r=Oe.from(e.canisterId),i=[...new Set(n)],o=i.map(c=>id(c,r)),s=new Map,a=i.map((c,d)=>(async()=>{var v;try{const w=await t.readState(r,{paths:[o[d]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const p=await Fi.create({certificate:w.certificate,rootKey:t.rootKey,canisterId:r,disableTimeVerification:!0}),x=(W,S)=>{if(S==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const E=z1(w.certificate,r,t.rootKey);return{path:S,data:E}}else return{path:S,data:bn(W.lookup(id(S,r)))}},{path:T,data:F}=x(p,i[d]);if(!F)console.warn(`Expected to find result for path ${T}, but instead found nothing.`),typeof T=="string"?s.set(T,null):s.set(T.key,null);else switch(T){case"time":{s.set(T,wh(F));break}case"controllers":{s.set(T,QE(F));break}case"module_hash":{s.set(T,dp(F));break}case"subnet":{s.set(T,F);break}case"candid":{s.set(T,new TextDecoder().decode(F));break}default:if(typeof T!="string"&&"key"in T&&"path"in T)switch(T.decodeStrategy){case"raw":s.set(T.key,F);break;case"leb128":{s.set(T.key,M1(F));break}case"cbor":{s.set(T.key,j1(F));break}case"hex":{s.set(T.key,dp(F));break}case"utf-8":s.set(T.key,XE(F))}}}catch(w){if(!((v=w==null?void 0:w.message)===null||v===void 0)&&v.includes("Invalid certificate"))throw new ut(w.message);typeof c!="string"&&"key"in c&&"path"in c?s.set(c.key,null):s.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(w),console.groupEnd()}})());return await Promise.all(a),s},z1=(e,t,n)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const r=_r(new Uint8Array(e)),i=r.tree;let o=r.delegation,s;if(o&&o.subnet_id?s=Oe.fromUint8Array(new Uint8Array(o.subnet_id)):!o&&typeof n<"u"?(s=Oe.selfAuthenticating(new Uint8Array(n)),o={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}):(s=Oe.selfAuthenticating(Oe.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),o={subnet_id:s.toUint8Array(),certificate:new ArrayBuffer(0)}),!V1({canisterId:t,subnetId:s,tree:i}))throw new Error("Canister not in range");const c=Do(["subnet",o.subnet_id,"node"],i);if(c.status!==_t.Found)throw new Error("Node not found");if(c.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const d=rd(c.value),v=new Map;return d.forEach(w=>{const p=Oe.from(new Uint8Array(w[1])).toText(),x=Do(["public_key"],w[2]);if(x.status!==_t.Found)throw new Error("Public key not found");const T=x.value;if(T.byteLength!==44)throw new Error("Invalid public key length");v.set(p,T)}),{subnetId:Oe.fromUint8Array(new Uint8Array(o.subnet_id)).toText(),nodeKeys:v}},id=(e,t)=>{const n=new TextEncoder,r=o=>new DataView(n.encode(o).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[r("time")];case"controllers":return[r("canister"),i,r("controllers")];case"module_hash":return[r("canister"),i,r("module_hash")];case"subnet":return[r("subnet")];case"candid":return[r("canister"),i,r("metadata"),r("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const o=e.path,s=typeof o=="string"?r(o):o;return[r("canister"),i,r("metadata"),s]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},dp=e=>nt(e),j1=e=>_r(e),XE=e=>new TextDecoder().decode(e),QE=e=>j1(e).map(n=>Oe.fromUint8Array(new Uint8Array(n))),JE=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:ZE,encodePath:id,fetchNodeKeys:z1,request:$1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vr=BigInt(0),bt=BigInt(1),$l=BigInt(2),eb=BigInt(8);function tb(e,t,n,r){const i=e.sqr(n),o=e.sqr(r),s=e.add(e.mul(t.a,i),o),a=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(s,a)}function nb(e,t={}){const n=F1("edwards",e,t,t.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;va(t,{},{uvRatio:"function"});const a=$l<<BigInt(i.BYTES*8)-bt,c=W=>r.create(W),d=t.uvRatio||((W,S)=>{try{return{isValid:!0,value:r.sqrt(r.div(W,S))}}catch{return{isValid:!1,value:Vr}}});if(!tb(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function v(W,S,E=!1){const b=E?bt:Vr;return Z0("coordinate "+W,S,b,a),S}function w(W){if(!(W instanceof T))throw new Error("ExtendedPoint expected")}const p=ra((W,S)=>{const{X:E,Y:b,Z:M}=W,$=W.is0();S==null&&(S=$?eb:r.inv(M));const V=c(E*S),P=c(b*S),D=r.mul(M,S);if($)return{x:Vr,y:bt};if(D!==bt)throw new Error("invZ was invalid");return{x:V,y:P}}),x=ra(W=>{const{a:S,d:E}=o;if(W.is0())throw new Error("bad point: ZERO");const{X:b,Y:M,Z:$,T:V}=W,P=c(b*b),D=c(M*M),L=c($*$),z=c(L*L),ae=c(P*S),se=c(L*c(ae+D)),X=c(z+c(E*c(P*D)));if(se!==X)throw new Error("bad point: equation left != right (1)");const ne=c(b*M),ce=c($*V);if(ne!==ce)throw new Error("bad point: equation left != right (2)");return!0});class T{constructor(S,E,b,M){this.X=v("x",S),this.Y=v("y",E),this.Z=v("z",b,!0),this.T=v("t",M),Object.freeze(this)}static CURVE(){return o}static fromAffine(S){if(S instanceof T)throw new Error("extended point not allowed");const{x:E,y:b}=S||{};return v("x",E),v("y",b),new T(E,b,bt,c(E*b))}static fromBytes(S,E=!1){const b=r.BYTES,{a:M,d:$}=o;S=Y0(Co(S,b,"point")),ea(E,"zip215");const V=Y0(S),P=S[b-1];V[b-1]=P&-129;const D=ta(V),L=E?a:r.ORDER;Z0("point.y",D,Vr,L);const z=c(D*D),ae=c(z-bt),se=c($*z-M);let{isValid:X,value:ne}=d(ae,se);if(!X)throw new Error("bad point: invalid y coordinate");const ce=(ne&bt)===bt,de=(P&128)!==0;if(!E&&ne===Vr&&de)throw new Error("bad point: x=0 and x_0=1");return de!==ce&&(ne=c(-ne)),T.fromAffine({x:ne,y:D})}static fromHex(S,E=!1){return T.fromBytes(rn("point",S),E)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,E=!0){return F.createCache(this,S),E||this.multiply($l),this}assertValidity(){x(this)}equals(S){w(S);const{X:E,Y:b,Z:M}=this,{X:$,Y:V,Z:P}=S,D=c(E*P),L=c($*M),z=c(b*P),ae=c(V*M);return D===L&&z===ae}is0(){return this.equals(T.ZERO)}negate(){return new T(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:S}=o,{X:E,Y:b,Z:M}=this,$=c(E*E),V=c(b*b),P=c($l*c(M*M)),D=c(S*$),L=E+b,z=c(c(L*L)-$-V),ae=D+V,se=ae-P,X=D-V,ne=c(z*se),ce=c(ae*X),de=c(z*X),we=c(se*ae);return new T(ne,ce,we,de)}add(S){w(S);const{a:E,d:b}=o,{X:M,Y:$,Z:V,T:P}=this,{X:D,Y:L,Z:z,T:ae}=S,se=c(M*D),X=c($*L),ne=c(P*b*ae),ce=c(V*z),de=c((M+$)*(D+L)-se-X),we=ce-ne,J=ce+ne,re=c(X-E*se),ie=c(de*we),oe=c(J*re),te=c(de*re),Ne=c(we*J);return new T(ie,oe,Ne,te)}subtract(S){return this.add(S.negate())}multiply(S){if(!i.isValidNot0(S))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:E,f:b}=F.cached(this,S,M=>vr(T,M));return vr(T,[E,b])[0]}multiplyUnsafe(S,E=T.ZERO){if(!i.isValid(S))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return S===Vr?T.ZERO:this.is0()||S===bt?this:F.unsafe(this,S,b=>vr(T,b),E)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return F.unsafe(this,o.n).is0()}toAffine(S){return p(this,S)}clearCofactor(){return s===bt?this:this.multiplyUnsafe(s)}toBytes(){const{x:S,y:E}=this.toAffine(),b=r.toBytes(E);return b[b.length-1]|=S&bt?128:0,b}toHex(){return Ho(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(S){return vr(T,S)}static msm(S,E){return I1(T,i,S,E)}_setWindowSize(S){this.precompute(S)}toRawBytes(){return this.toBytes()}}T.BASE=new T(o.Gx,o.Gy,bt,c(o.Gx*o.Gy)),T.ZERO=new T(Vr,bt,bt,Vr),T.Fp=r,T.Fn=i;const F=new O1(T,i.BITS);return T.BASE.precompute(8),T}function rb(e,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');va(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=e,a=n.randomBytes||tg,c=n.adjustScalarBytes||(L=>L),d=n.domain||((L,z,ae)=>{if(ea(ae,"phflag"),z.length||ae)throw new Error("Contexts/pre-hash are not supported");return L});function v(L){return s.create(ta(L))}function w(L){const z=b.secretKey;L=rn("private key",L,z);const ae=rn("hashed private key",t(L),2*z),se=c(ae.slice(0,z)),X=ae.slice(z,2*z),ne=v(se);return{head:se,prefix:X,scalar:ne}}function p(L){const{head:z,prefix:ae,scalar:se}=w(L),X=i.multiply(se),ne=X.toBytes();return{head:z,prefix:ae,scalar:se,point:X,pointBytes:ne}}function x(L){return p(L).pointBytes}function T(L=Uint8Array.of(),...z){const ae=pt(...z);return v(t(d(ae,rn("context",L),!!r)))}function F(L,z,ae={}){L=rn("message",L),r&&(L=r(L));const{prefix:se,scalar:X,pointBytes:ne}=p(z),ce=T(ae.context,se,L),de=i.multiply(ce).toBytes(),we=T(ae.context,de,ne,L),J=s.create(ce+we*X);if(!s.isValid(J))throw new Error("sign failed: invalid s");const re=pt(de,s.toBytes(J));return Co(re,b.signature,"result")}const W={zip215:!0};function S(L,z,ae,se=W){const{context:X,zip215:ne}=se,ce=b.signature;L=rn("signature",L,ce),z=rn("message",z),ae=rn("publicKey",ae,b.publicKey),ne!==void 0&&ea(ne,"zip215"),r&&(z=r(z));const de=ce/2,we=L.subarray(0,de),J=ta(L.subarray(de,ce));let re,ie,oe;try{re=e.fromBytes(ae,ne),ie=e.fromBytes(we,ne),oe=i.multiplyUnsafe(J)}catch{return!1}if(!ne&&re.isSmallOrder())return!1;const te=T(X,ie.toBytes(),re.toBytes(),z);return ie.add(re.multiplyUnsafe(te)).subtract(oe).clearCofactor().is0()}const E=o.BYTES,b={secretKey:E,publicKey:E,signature:2*E,seed:E};function M(L=a(b.seed)){return Co(L,b.seed,"seed")}function $(L){const z=D.randomSecretKey(L);return{secretKey:z,publicKey:x(z)}}function V(L){return pa(L)&&L.length===s.BYTES}function P(L,z){try{return!!e.fromBytes(L,z)}catch{return!1}}const D={getExtendedPublicKey:p,randomSecretKey:M,isValidSecretKey:V,isValidPublicKey:P,toMontgomery(L){const{y:z}=e.fromBytes(L),ae=b.publicKey,se=ae===32;if(!se&&ae!==57)throw new Error("only defined for 25519 and 448");const X=se?o.div(bt+z,bt-z):o.div(z-bt,z+bt);return o.toBytes(X)},toMontgomeryPriv(L){const z=b.secretKey;Co(L,z);const ae=t(L.subarray(0,z));return c(ae).subarray(0,z)},randomPrivateKey:M,precompute(L=8,z=e.BASE){return z.precompute(L,!1)}};return Object.freeze({keygen:$,getPublicKey:x,sign:F,verify:S,utils:D,Point:e,lengths:b})}function ib(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=pi(t.n,e.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,hash:e.hash,eddsaOpts:o}}function ob(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function sb(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:i}=ib(e),o=nb(t,n),s=rb(o,r,i);return ob(e,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ab=BigInt(1),hp=BigInt(2);BigInt(3);const cb=BigInt(5),ub=BigInt(8),_h=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),q1={p:_h,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:ub,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function lb(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=_h,a=e*e%o*e%o,c=Wn(a,hp,o)*a%o,d=Wn(c,ab,o)*e%o,v=Wn(d,cb,o)*d%o,w=Wn(v,t,o)*v%o,p=Wn(w,n,o)*w%o,x=Wn(p,r,o)*p%o,T=Wn(x,i,o)*x%o,F=Wn(T,i,o)*x%o,W=Wn(F,t,o)*v%o;return{pow_p_5_8:Wn(W,hp,o)*e%o,b2:a}}function fb(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const pp=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function db(e,t){const n=_h,r=dt(t*t*t,n),i=dt(r*r*t,n),o=lb(e*i).pow_p_5_8;let s=dt(e*r*o,n);const a=dt(t*s*s,n),c=s,d=dt(s*pp,n),v=a===e,w=a===dt(-e,n),p=a===dt(-e*pp,n);return v&&(s=c),(w||p)&&(s=d),tE(s,n)&&(s=dt(-s,n)),{isValid:v||w,value:s}}const hb=pi(q1.p,{isLE:!0}),pb={...q1,Fp:hb,hash:F2,adjustScalarBytes:fb,uvRatio:db},oo=sb(pb);var yp=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Dt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$t,_s,L1,G1;class yb{constructor(t={}){$t.set(this,void 0),_s.set(this,void 0),this[L1]=this.entries.bind(this),this[G1]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=t,i=Date.now();yp(this,$t,new Map([...n].map(([o,s])=>[o,{value:s,timestamp:i}])),"f"),yp(this,_s,r,"f")}prune(){const t=Date.now();for(const[n,r]of Dt(this,$t,"f").entries())t-r.timestamp>Dt(this,_s,"f")&&Dt(this,$t,"f").delete(n);return this}set(t,n){this.prune();const r={value:n,timestamp:Date.now()};return Dt(this,$t,"f").set(t,r),this}get(t){const n=Dt(this,$t,"f").get(t);if(n!==void 0){if(Date.now()-n.timestamp>Dt(this,_s,"f")){Dt(this,$t,"f").delete(t);return}return n.value}}clear(){Dt(this,$t,"f").clear()}entries(){const t=Dt(this,$t,"f").entries();return function*(){for(const[r,i]of t)yield[r,i.value]}()}values(){const t=Dt(this,$t,"f").values();return function*(){for(const r of t)yield r.value}()}keys(){return Dt(this,$t,"f").keys()}forEach(t,n){for(const[r,i]of Dt(this,$t,"f").entries())t.call(n,i.value,r,this)}has(t){return Dt(this,$t,"f").has(t)}delete(t){return Dt(this,$t,"f").delete(t)}get size(){return Dt(this,$t,"f").size}}$t=new WeakMap,_s=new WeakMap,L1=Symbol.iterator,G1=Symbol.toStringTag;const mp=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},gp=(e,t,n)=>{if(n<=127)return e[t]=n,1;if(n<=255)return e[t]=129,e[t+1]=n,2;if(n<=65535)return e[t]=130,e[t+1]=n>>8,e[t+2]=n,3;if(n<=16777215)return e[t]=131,e[t+1]=n>>16,e[t+2]=n>>8,e[t+3]=n,4;throw new Error("Length too long (> 4 bytes)")},od=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},mb=(e,t)=>{const n=od(e,t);if(n===1)return e[t];if(n===2)return e[t+1];if(n===3)return(e[t+1]<<8)+e[t+2];if(n===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const fu=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function H1(e,t){const n=2+mp(e.byteLength+1),r=t.byteLength+n+e.byteLength;let i=0;const o=new Uint8Array(1+mp(r)+r);return o[i++]=48,i+=gp(o,i,r),o.set(t,i),i+=t.byteLength,o[i++]=3,i+=gp(o,i,e.byteLength+1),o[i++]=0,o.set(new Uint8Array(e),i),o}const K1=(e,t)=>{let n=0;const r=(a,c)=>{if(i[n++]!==a)throw new Error("Expected: "+c)},i=new Uint8Array(e);if(r(48,"sequence"),n+=od(i,n),!ma(i.slice(n,n+t.byteLength),t))throw new Error("Not the expected OID.");n+=t.byteLength,r(3,"bit string");const o=mb(i,n)-1;n+=od(i,n),r(0,"0 padding");const s=i.slice(n);if(o!==s.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${s.length}`);return s};var wp=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},_p=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},gc,wc;let W1=class vs{constructor(t){if(gc.set(this,void 0),wc.set(this,void 0),t.byteLength!==vs.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");wp(this,gc,t,"f"),wp(this,wc,vs.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new vs(t)}static fromDer(t){return new vs(this.derDecode(t))}static derEncode(t){return H1(t,fu).buffer}static derDecode(t){const n=K1(t,fu);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return _p(this,gc,"f")}get derKey(){return _p(this,wc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};gc=new WeakMap,wc=new WeakMap;W1.RAW_KEY_LENGTH=32;class gb{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(n=>n!==t)}notify(t,...n){this.observers.forEach(r=>r(t,...n))}}class wb extends gb{constructor(){super()}print(t,...n){this.notify({message:t,level:"info"},...n)}warn(t,...n){this.notify({message:t,level:"warn"},...n)}error(t,n,...r){this.notify({message:t,level:"error",error:n},...r)}}var Dn=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Mt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Zn,_c,vc,xc,Ec,bc,Sc,Tc,so;const D1=.5,Y1=1.5,Z1=500,X1=6e4,Q1=9e5,J1=10;class Hu{constructor(t=Hu.default){Zn.set(this,void 0),_c.set(this,void 0),vc.set(this,void 0),xc.set(this,void 0),Ec.set(this,void 0),bc.set(this,void 0),Sc.set(this,void 0),Tc.set(this,void 0),so.set(this,0);const{initialInterval:n=Z1,randomizationFactor:r=D1,multiplier:i=Y1,maxInterval:o=X1,maxElapsedTime:s=Q1,maxIterations:a=J1,date:c=Date}=t;Dn(this,Zn,n,"f"),Dn(this,_c,r,"f"),Dn(this,vc,i,"f"),Dn(this,xc,o,"f"),Dn(this,Tc,c,"f"),Dn(this,Ec,c.now(),"f"),Dn(this,bc,s,"f"),Dn(this,Sc,a,"f")}get ellapsedTimeInMsec(){return Mt(this,Tc,"f").now()-Mt(this,Ec,"f")}get currentInterval(){return Mt(this,Zn,"f")}get count(){return Mt(this,so,"f")}get randomValueFromInterval(){const t=Mt(this,_c,"f")*Mt(this,Zn,"f"),n=Mt(this,Zn,"f")-t,r=Mt(this,Zn,"f")+t;return Math.random()*(r-n)+n}incrementCurrentInterval(){var t;return Dn(this,Zn,Math.min(Mt(this,Zn,"f")*Mt(this,vc,"f"),Mt(this,xc,"f")),"f"),Dn(this,so,(t=Mt(this,so,"f"),t++,t),"f"),Mt(this,Zn,"f")}next(){return this.ellapsedTimeInMsec>=Mt(this,bc,"f")||Mt(this,so,"f")>=Mt(this,Sc,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Zn=new WeakMap,_c=new WeakMap,vc=new WeakMap,xc=new WeakMap,Ec=new WeakMap,bc=new WeakMap,Sc=new WeakMap,Tc=new WeakMap,so=new WeakMap;Hu.default={initialInterval:Z1,randomizationFactor:D1,multiplier:Y1,maxInterval:X1,maxElapsedTime:Q1,maxIterations:J1,date:Date};var At=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},he=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},zt,wi,Uo,Xn,dr,Bo,xs,ao,Cn,Pn,_i,vi,Es,co,uo,xi,bi,ew,Nc,Bc,Ei,hr;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(hr||(hr={}));const Ya=60*1e3,_b="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",vb="aaaaa-aa",xb="ic0.app",Eb=".ic0.app",bb="icp0.io",Sb=".icp0.io",Tb="icp-api.io",Nb=".icp-api.io";class zl extends ut{constructor(t){super(t),this.message=t}}class Za extends ut{constructor(t){super(t),this.message=t}}function Bb(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new zl("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new zl("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new zl("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function Ab(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,o=i==null?void 0:i.hostname;let s;o&&typeof o=="string"&&(r.some(a=>o.endsWith(a))?s=o:s=n.find(a=>o.endsWith(a))),i&&s?t=new URL(`${i.protocol}//${s}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class Ri{constructor(t={}){var n,r;zt.add(this),wi.set(this,null),Uo.set(this,!1),Xn.set(this,void 0),dr.set(this,void 0),Bo.set(this,void 0),xs.set(this,void 0),ao.set(this,0),Cn.set(this,void 0),Pn.set(this,void 0),_i.set(this,void 0),vi.set(this,void 0),this._isAgent=!0,this.config={},Es.set(this,0),this.log=new wb,co.set(this,[]),uo.set(this,[]),xi.set(this,new yb({expirationTime:5*60*1e3})),bi.set(this,!0),Bc.set(this,(s,a)=>{if(he(this,bi,"f")===!1)return s;if(!a)throw new er("Invalid signature from replica signed query: no matching node key found.");const{status:c,signatures:d=[],requestId:v}=s,w=wr(new TextEncoder().encode("\vic-response"));for(const p of d){const{timestamp:x,identity:T}=p,F=Oe.fromUint8Array(T).toText();let W;if(c==="replied"){const{reply:$}=s;W=ou({status:c,reply:$,timestamp:BigInt(x),request_id:v})}else if(c==="rejected"){const{reject_code:$,reject_message:V,error_code:P}=s;W=ou({status:c,reject_code:$,reject_message:V,error_code:P,timestamp:BigInt(x),request_id:v})}else throw new Error(`Unknown status: ${c}`);const S=qn(w,wr(new Uint8Array(W))),E=a==null?void 0:a.nodeKeys.get(F);if(!E)throw new er("Invalid signature from replica signed query: no matching node key found.");const b=W1.fromDer(E).rawKey;if(oo.verify(p.signature,new Uint8Array(S),new Uint8Array(b)))return s;throw new er(`Invalid signature from replica ${F} signed query.`)}return s}),this.config=t,At(this,dr,t.fetch||Bb()||fetch.bind(global),"f"),At(this,Bo,t.fetchOptions,"f"),At(this,xs,t.callOptions,"f"),At(this,Uo,(n=t.shouldFetchRootKey)!==null&&n!==void 0?n:!1,"f"),t.rootKey?this.rootKey=t.rootKey:he(this,Uo,"f")?this.rootKey=null:this.rootKey=Sr(_b);const i=Ab(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&At(this,bi,t.verifyQuerySignatures,"f"),At(this,Pn,(r=t.retryTimes)!==null&&r!==void 0?r:3,"f");const o=()=>new Hu({maxIterations:he(this,Pn,"f")});if(At(this,_i,t.backoffStrategy||o,"f"),this.host.hostname.endsWith(Eb)?this.host.hostname=xb:this.host.hostname.endsWith(Sb)?this.host.hostname=bb:this.host.hostname.endsWith(Nb)&&(this.host.hostname=Tb),t.credentials){const{name:s,password:a}=t.credentials;At(this,Cn,`${s}${a?":"+a:""}`,"f")}if(At(this,Xn,Promise.resolve(t.identity||new Js),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new ut(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new ut(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);At(this,vi,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",D0(td)),t.useQueryNonces&&this.addTransform("query",D0(td)),t.logToConsole&&this.log.subscribe(s=>{s.level==="error"?console.error(s.message):s.level==="warn"?console.warn(s.message):console.log(s.message)})}get waterMark(){return he(this,Es,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const n=Ri.createSync(t),r=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&r.push(n.fetchRootKey()),await Promise.all(r),n}static async from(t){var n;try{return"config"in t?await Ri.create(t.config):await Ri.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(n=t._identity)!==null&&n!==void 0?n:void 0})}catch{throw new ut("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,n,r=n.priority||0){if(t==="update"){const i=he(this,uo,"f").findIndex(o=>(o.priority||0)<r);he(this,uo,"f").splice(i>=0?i:he(this,uo,"f").length,0,Object.assign(n,{priority:r}))}else if(t==="query"){const i=he(this,co,"f").findIndex(o=>(o.priority||0)<r);he(this,co,"f").splice(i>=0?i:he(this,co,"f").length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!he(this,Xn,"f"))throw new Za("This identity has expired due this application's security policy. Please refresh your authentication.");return(await he(this,Xn,"f")).getPrincipal()}async call(t,n,r){var i,o;await he(this,zt,"m",Ei).call(this);const s=(i=n.callSync)!==null&&i!==void 0?i:!0,a=await(r!==void 0?await r:await he(this,Xn,"f"));if(!a)throw new Za("This identity has expired due this application's security policy. Please refresh your authentication.");const c=Oe.from(t),d=n.effectiveCanisterId?Oe.from(n.effectiveCanisterId):c,v=a.getPrincipal()||Oe.anonymous();let w=new Wa(he(this,vi,"f")*Ya);Math.abs(he(this,ao,"f"))>1e3*30&&(w=new Wa(he(this,vi,"f")*Ya+he(this,ao,"f")));const p={request_type:ed.Call,canister_id:c,method_name:n.methodName,arg:n.arg,sender:v,ingress_expiry:w};let x=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},he(this,Cn,"f")?{Authorization:"Basic "+btoa(he(this,Cn,"f"))}:{})},endpoint:"call",body:p}),T;n!=null&&n.nonce?T=F(n.nonce):x.body.nonce?T=F(x.body.nonce):T=void 0,p.nonce=T;function F(b){return new Uint8Array(b)}x=await a.transformRequest(x);const W=Al(x.body),S=he(this,_i,"f").call(this),E=Qs(p);try{const b=()=>(this.log.print(`fetching "/api/v3/canister/${d.toText()}/call" with request:`,x),he(this,dr,"f").call(this,""+new URL(`/api/v3/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},he(this,xs,"f")),x.request),{body:W}))),M=()=>(this.log.print(`fetching "/api/v2/canister/${d.toText()}/call" with request:`,x),he(this,dr,"f").call(this,""+new URL(`/api/v2/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},he(this,xs,"f")),x.request),{body:W}))),V=await he(this,zt,"m",Nc).call(this,{request:s?b:M,backoff:S,tries:0}),P=await V.arrayBuffer(),D=V.status===200&&P.byteLength>0?_r(P):null;if(D&&"certificate"in D){const L=await this.parseTimeFromResponse({certificate:D.certificate});At(this,Es,L,"f")}return{requestId:E,response:{ok:V.ok,status:V.status,statusText:V.statusText,body:D,headers:gs(V.headers)},requestDetails:p}}catch(b){if(b.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},n),{callSync:!1}),r);const M=`Error while making call: ${(o=b.message)!==null&&o!==void 0?o:String(b)}`,$=new Hx(M,b,nt(E),nt(x.body.sender_pubkey),nt(x.body.sender_sig),String(x.body.content.ingress_expiry._value));throw this.log.error(M,$),$}}async query(t,n,r){var i,o,s,a;await he(this,zt,"m",Ei).call(this);const c=he(this,_i,"f").call(this),d=n.effectiveCanisterId?Oe.from(n.effectiveCanisterId):Oe.from(t);this.log.print(`ecid ${d.toString()}`),this.log.print(`canisterId ${t.toString()}`);let v,w;const p=await(r!==void 0?r:he(this,Xn,"f"));if(!p)throw new Za("This identity has expired due this application's security policy. Please refresh your authentication.");const x=Oe.from(t),T=(p==null?void 0:p.getPrincipal())||Oe.anonymous(),F={request_type:"query",canister_id:x,method_name:n.methodName,arg:n.arg,sender:T,ingress_expiry:new Wa(he(this,vi,"f")*Ya)},W=Qs(F);v=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},he(this,Cn,"f")?{Authorization:"Basic "+btoa(he(this,Cn,"f"))}:{})},endpoint:"read",body:F}),v=await(p==null?void 0:p.transformRequest(v));const S=Al(v.body),E={canister:x.toText(),ecid:d,transformedRequest:v,body:S,requestId:W,backoff:c,tries:0},b=async()=>({requestDetails:F,query:await he(this,zt,"m",ew).call(this,E)}),M=async()=>{if(!he(this,bi,"f"))return;const $=he(this,xi,"f").get(d.toString());return $||(await this.fetchSubnetKeys(d.toString()),he(this,xi,"f").get(d.toString()))};try{const[$,V]=await Promise.all([b(),M()]);w=$;const{requestDetails:P,query:D}=w,L=Object.assign(Object.assign({},D),{requestDetails:P});if(this.log.print("Query response:",L),!he(this,bi,"f"))return L;try{return he(this,Bc,"f").call(this,L,V)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),he(this,xi,"f").delete(t.toString()),await this.fetchSubnetKeys(d.toString());const ae=he(this,xi,"f").get(t.toString());if(!ae)throw new er("Invalid signature from replica signed query: no matching node key found.");return he(this,Bc,"f").call(this,L,ae)}}catch($){const V=`Error while making call: ${(i=$.message)!==null&&i!==void 0?i:String($)}`,P=new Kx(V,$,String(W),nt((o=v==null?void 0:v.body)===null||o===void 0?void 0:o.sender_pubkey),nt((s=v==null?void 0:v.body)===null||s===void 0?void 0:s.sender_sig),String((a=v==null?void 0:v.body)===null||a===void 0?void 0:a.content.ingress_expiry._value));throw this.log.error(V,P),P}}async createReadStateRequest(t,n){await he(this,zt,"m",Ei).call(this);const r=await(n!==void 0?await n:await he(this,Xn,"f"));if(!r)throw new Za("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(r==null?void 0:r.getPrincipal())||Oe.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},he(this,Cn,"f")?{Authorization:"Basic "+btoa(he(this,Cn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new Wa(he(this,vi,"f")*Ya)}});return r==null?void 0:r.transformRequest(o)}async readState(t,n,r,i){var o,s,a,c;function d(F){for(const W of F.paths){const[S,E]=W,b=wr(new TextEncoder().encode("request_status"));if(ma(S,b))return E}}const v=d(n);await he(this,zt,"m",Ei).call(this);const w=typeof t=="string"?Oe.fromText(t):t,p=i??await this.createReadStateRequest(n,r),x=Al(p.body);this.log.print(`fetching "/api/v2/canister/${w}/read_state" with request:`,p);const T=he(this,_i,"f").call(this);try{const F=await he(this,zt,"m",Nc).call(this,{request:()=>he(this,dr,"f").call(this,""+new URL(`/api/v2/canister/${w.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},he(this,Bo,"f")),p.request),{body:x})),backoff:T,tries:0});if(!F.ok)throw new Error(`Server returned an error:
  Code: ${F.status} (${F.statusText})
  Body: ${await F.text()}
`);const W=_r(await F.arrayBuffer());this.log.print("Read state response:",W);const S=await this.parseTimeFromResponse(W);return S>0&&(this.log.print("Read state response time:",S),At(this,Es,S,"f")),W}catch(F){const W=`Caught exception while attempting to read state: ${(o=F.message)!==null&&o!==void 0?o:String(F)}`,S=new Wx(W,F,String(v),nt((s=p==null?void 0:p.body)===null||s===void 0?void 0:s.sender_pubkey),nt((a=p==null?void 0:p.body)===null||a===void 0?void 0:a.sender_sig),String((c=p==null?void 0:p.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(W,S),S}}async parseTimeFromResponse(t){let n;if(t.certificate){const r=_r(t.certificate);if(r&&"tree"in r)n=r.tree;else throw new Error("Could not decode time from response");const i=Do(["time"],n);if(i.status!==_t.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const o=wh(wr(i.value));return this.log.print("Time from response:",o),this.log.print("Time from response in milliseconds:",Number(o)),Number(o)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await he(this,zt,"m",Ei).call(this);const n=await a2(()=>Promise.resolve().then(()=>JE),void 0),r=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=Ri.createSync({identity:new Js,host:this.host.toString(),fetch:he(this,dr,"f"),retryTimes:0}),s=(await n.request({canisterId:t??Oe.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");s&&(At(this,ao,Number(s)-Number(r),"f"),this.log.notify({message:`Syncing time: offset of ${he(this,ao,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=he(this,Cn,"f")?{Authorization:"Basic "+btoa(he(this,Cn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=he(this,_i,"f").call(this),r=await he(this,zt,"m",Nc).call(this,{backoff:n,request:()=>he(this,dr,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},he(this,Bo,"f"))),tries:0});return _r(await r.arrayBuffer())}async fetchRootKey(){let t;return he(this,wi,"f")?t=await he(this,wi,"f"):(At(this,wi,new Promise((n,r)=>{this.status().then(i=>{const o=i.root_key;this.rootKey=o,n(o)}).catch(r)}),"f"),t=await he(this,wi,"f")),At(this,wi,null,"f"),t}invalidateIdentity(){At(this,Xn,null,"f")}replaceIdentity(t){At(this,Xn,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await he(this,zt,"m",Ei).call(this);const n=Oe.from(t),i=(await $1({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return he(this,xi,"f").set(n.toText(),i),i}_transform(t){let n=Promise.resolve(t);if(t.endpoint==="call")for(const r of he(this,uo,"f"))n=n.then(i=>r(i).then(o=>o||i));else for(const r of he(this,co,"f"))n=n.then(i=>r(i).then(o=>o||i));return n}}wi=new WeakMap,Uo=new WeakMap,Xn=new WeakMap,dr=new WeakMap,Bo=new WeakMap,xs=new WeakMap,ao=new WeakMap,Cn=new WeakMap,Pn=new WeakMap,_i=new WeakMap,vi=new WeakMap,Es=new WeakMap,co=new WeakMap,uo=new WeakMap,xi=new WeakMap,bi=new WeakMap,Bc=new WeakMap,zt=new WeakSet,ew=async function e(t){var n,r;const{ecid:i,transformedRequest:o,body:s,requestId:a,backoff:c,tries:d}=t,v=d===0?0:c.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:d,backoff:c,delay:v}),v===null)throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${he(this,Pn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);v>0&&await new Promise(T=>setTimeout(T,v));let w;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,o);const T=await he(this,dr,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},he(this,Bo,"f")),o.request),{body:s}));if(T.status===200){const F=_r(await T.arrayBuffer());w=Object.assign(Object.assign({},F),{httpDetails:{ok:T.ok,status:T.status,statusText:T.statusText,headers:gs(T.headers)},requestId:a})}else throw new kl(`Gateway returned an error:
  Code: ${T.status} (${T.statusText})
  Body: ${await T.text()}
`,{ok:T.ok,status:T.status,statusText:T.statusText,headers:gs(T.headers)})}catch(T){if(d<he(this,Pn,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${T}
  Retrying query.`),await he(this,zt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw T}const p=(r=(n=w.signatures)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.timestamp;if(!he(this,bi,"f"))return w;if(!p)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const x=Number(BigInt(p)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:x}),Number(this.waterMark)>x){const T=new ut("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",T,{timestamp:p,waterMark:this.waterMark}),d<he(this,Pn,"f"))return await he(this,zt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${he(this,Pn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return w},Nc=async function e(t){const{request:n,backoff:r,tries:i}=t,o=i===0?0:r.next();if(o===null)throw new ut(`Timestamp failed to pass the watermark after retrying the configured ${he(this,Pn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);o>0&&await new Promise(d=>setTimeout(d,o));let s;try{s=await n()}catch(d){if(he(this,Pn,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${d}
  Retrying request.`),await he(this,zt,"m",e).call(this,{request:n,backoff:r,tries:i+1});throw d}if(s.ok)return s;const a=await s.clone().text(),c=`Server returned an error:
  Code: ${s.status} (${s.statusText})
  Body: ${a}
`;if(s.status===404&&s.url.includes("api/v3"))throw new kl("v3 api not supported. Fall back to v2",{ok:s.ok,status:s.status,statusText:s.statusText,headers:gs(s.headers)});if(i<he(this,Pn,"f"))return await he(this,zt,"m",e).call(this,{request:n,backoff:r,tries:i+1});throw new kl(c,{ok:s.ok,status:s.status,statusText:s.statusText,headers:gs(s.headers)})},Ei=async function(){if(!this.rootKey)if(this.rootKey===null&&he(this,Uo,"f"))await this.fetchRootKey();else throw new ut(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${he(this,Uo,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var vp;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(vp||(vp={}));function xp(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const kb=5*60*1e3;function tw(){return Cb(Ob(Rb(),1e3),Fb(1e3,1.2),Ib(kb))}function Rb(){let e=!0;return async()=>e?(e=!1,!0):!1}function Ob(e,t){return async(n,r,i)=>{if(await e(n,r,i))return new Promise(o=>setTimeout(o,t))}}function Ib(e){const t=Date.now()+e;return async(n,r,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${nt(r)}
  Request status: ${i}
`)}}function Fb(e,t){let n=e;return()=>new Promise(r=>setTimeout(()=>{n*=t,r()},n))}function Cb(...e){return async(t,n,r)=>{for(const i of e)await i(t,n,r)}}async function nw(e,t,n,r=tw(),i,o){var s;const a=[new TextEncoder().encode("request_status"),n],c=i??await((s=e.createReadStateRequest)===null||s===void 0?void 0:s.call(e,{paths:[a]})),d=await e.readState(t,{paths:[a]},void 0,c);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const v=await Fi.create({certificate:d.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),w=bn(v.lookup([...a,new TextEncoder().encode("status")]));let p;switch(typeof w>"u"?p=hr.Unknown:p=new TextDecoder().decode(w),p){case hr.Replied:return{reply:bn(v.lookup([...a,"reply"])),certificate:v};case hr.Received:case hr.Unknown:case hr.Processing:return await r(t,n,p),nw(e,t,n,r,c,o);case hr.Rejected:{const x=new Uint8Array(bn(v.lookup([...a,"reject_code"])))[0],T=new TextDecoder().decode(bn(v.lookup([...a,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${nt(n)}
  Reject code: ${x}
  Reject text: ${T}
`)}case hr.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${nt(n)}
`)}throw new Error("unreachable")}const Ub=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),n=e.Text,r=e.Record({network:t,address:n,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,o=i,s=e.Nat32,a=e.Record({start_height:s,end_height:e.Opt(s),network:t}),c=e.Vec(e.Nat8),d=e.Record({tip_height:s,block_headers:e.Vec(c)}),v=e.Record({network:t}),w=e.Nat64,p=e.Vec(w),x=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:n}),T=e.Vec(e.Nat8),F=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),W=e.Record({height:e.Nat32,value:i,outpoint:F}),S=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:s,tip_block_hash:T,utxos:e.Vec(W)}),E=e.Record({transaction:e.Vec(e.Nat8),network:t}),b=e.Principal,M=e.Record({canister_id:b,num_requested_changes:e.Opt(e.Nat64)}),$=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),V=e.Vec(e.Nat8),P=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:V}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),D=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:$,details:P}),L=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(D),total_num_changes:e.Nat64}),z=e.Record({canister_id:b}),ae=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),se=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ae,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),X=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:se,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),ne=e.Record({canister_id:b}),ce=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ae),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),de=e.Record({settings:e.Opt(ce),sender_canister_version:e.Opt(e.Nat64)}),we=e.Record({canister_id:b}),J=e.Record({canister_id:b}),re=e.Record({canister_id:b,snapshot_id:V}),ie=e.Record({canister_id:b}),oe=e.Variant({secp256k1:e.Null}),te=e.Record({key_id:e.Record({name:e.Text,curve:oe}),canister_id:e.Opt(b),derivation_path:e.Vec(e.Vec(e.Nat8))}),Ne=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),A=e.Record({canister_id:b}),Se=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),Ce=e.Record({canister_log_records:e.Vec(Se)}),Fe=e.Record({value:e.Text,name:e.Text}),ye=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(Fe)}),ge=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:ye})],[ye],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(Fe)}),B=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),R=e.Record({hash:e.Vec(e.Nat8)}),U=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:B,chunk_hashes_list:e.Vec(R),target_canister:b,store_canister:e.Opt(b),sender_canister_version:e.Opt(e.Nat64)}),K=e.Vec(e.Nat8),q=e.Record({arg:e.Vec(e.Nat8),wasm_module:K,mode:B,canister_id:b,sender_canister_version:e.Opt(e.Nat64)}),Y=e.Record({canister_id:b}),y=e.Record({id:V,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),u=e.Vec(y),l=e.Record({canister_id:b,sender_canister_version:e.Opt(e.Nat64),snapshot_id:V}),_=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),N=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),C=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(N)})),ee=e.Record({settings:e.Opt(ce),specified_id:e.Opt(b),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),ue=e.Record({canister_id:b}),me=e.Record({canister_id:b,amount:e.Nat}),_e=e.Vec(e.Nat8),Be=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),g=e.Record({key_id:e.Record({algorithm:Be,name:e.Text}),canister_id:e.Opt(b),derivation_path:e.Vec(e.Vec(e.Nat8))}),f=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),h=e.Record({key_id:e.Record({name:e.Text,curve:oe}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),O=e.Record({signature:e.Vec(e.Nat8)}),m=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),k=e.Record({aux:e.Opt(m),key_id:e.Record({algorithm:Be,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),I=e.Record({signature:e.Vec(e.Nat8)}),H=e.Record({canister_id:b}),Q=e.Record({canister_id:b}),G=e.Record({canister_id:b}),Z=e.Vec(R),le=e.Record({subnet_id:e.Principal}),pe=e.Record({replica_version:e.Text}),Te=e.Record({replace_snapshot:e.Opt(V),canister_id:b}),be=y,Ie=e.Record({canister_id:b,sender_canister_version:e.Opt(e.Nat64)}),xe=e.Record({canister_id:e.Principal,settings:ce,sender_canister_version:e.Opt(e.Nat64)}),ke=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Ae=R;return e.Service({bitcoin_get_balance:e.Func([r],[o],[]),bitcoin_get_block_headers:e.Func([a],[d],[]),bitcoin_get_current_fee_percentiles:e.Func([v],[p],[]),bitcoin_get_utxos:e.Func([x],[S],[]),bitcoin_send_transaction:e.Func([E],[],[]),canister_info:e.Func([M],[L],[]),canister_status:e.Func([z],[X],[]),clear_chunk_store:e.Func([ne],[],[]),create_canister:e.Func([de],[we],[]),delete_canister:e.Func([J],[],[]),delete_canister_snapshot:e.Func([re],[],[]),deposit_cycles:e.Func([ie],[],[]),ecdsa_public_key:e.Func([te],[Ne],[]),fetch_canister_logs:e.Func([A],[Ce],["query"]),http_request:e.Func([ge],[ye],[]),install_chunked_code:e.Func([U],[],[]),install_code:e.Func([q],[],[]),list_canister_snapshots:e.Func([Y],[u],[]),load_canister_snapshot:e.Func([l],[],[]),node_metrics_history:e.Func([_],[C],[]),provisional_create_canister_with_cycles:e.Func([ee],[ue],[]),provisional_top_up_canister:e.Func([me],[],[]),raw_rand:e.Func([],[_e],[]),schnorr_public_key:e.Func([g],[f],[]),sign_with_ecdsa:e.Func([h],[O],[]),sign_with_schnorr:e.Func([k],[I],[]),start_canister:e.Func([H],[],[]),stop_canister:e.Func([Q],[],[]),stored_chunks:e.Func([G],[Z],[]),subnet_info:e.Func([le],[pe],[]),take_canister_snapshot:e.Func([Te],[be],[]),uninstall_code:e.Func([Ie],[],[]),update_settings:e.Func([xe],[],[]),upload_chunk:e.Func([ke],[Ae],[])})};class rw extends ut{constructor(t,n,r,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${n} (${r})`,...Object.getOwnPropertyNames(i).map(o=>`  "${o}": ${JSON.stringify(i[o])}`)].join(`
`)),this.canisterId=t,this.methodName=n,this.type=r,this.props=i}}class Pb extends rw{constructor(t,n,r){var i;super(t,n,"query",{Status:r.status,Code:(i=Gf[r.reject_code])!==null&&i!==void 0?i:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class Ep extends rw{constructor(t,n,r,i,o,s,a){super(t,n,"update",Object.assign({"Request ID":nt(r)},i.body?Object.assign(Object.assign({},a?{"Error code":a}:{}),{"Reject code":String(o),"Reject message":s}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=r,this.response=i,this.reject_code=o,this.reject_message=s,this.error_code=a}}const vn=Symbol.for("ic-agent-metadata");class nn{constructor(t){this[vn]=Object.freeze(t)}static agentOf(t){return t[vn].config.agent}static interfaceOf(t){return t[vn].service}static canisterIdOf(t){return Oe.from(t[vn].config.canisterId)}static async install(t,n){const r=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],o=[...new Uint8Array(t.module)],s=typeof n.canisterId=="string"?Oe.fromText(n.canisterId):n.canisterId;await bp(n).install_code({mode:r,arg:i,wasm_module:o,canister_id:s,sender_canister_version:[]})}static async createCanister(t,n){function r(o){return[{controllers:o.controllers?[o.controllers]:[],compute_allocation:o.compute_allocation?[o.compute_allocation]:[],freezing_threshold:o.freezing_threshold?[o.freezing_threshold]:[],memory_allocation:o.memory_allocation?[o.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await bp(t||{}).provisional_create_canister_with_cycles({amount:[],settings:r(n||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,n,r){const i=await this.createCanister(r);return await this.install(Object.assign({},n),Object.assign(Object.assign({},r),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},r),{canisterId:i}))}static createActorClass(t,n){const r=t({IDL:D2});class i extends nn{constructor(s){if(!s.canisterId)throw new ut(`Canister ID is required, but received ${typeof s.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const a=typeof s.canisterId=="string"?Oe.fromText(s.canisterId):s.canisterId;super({config:Object.assign(Object.assign(Object.assign({},iw),s),{canisterId:a}),service:r});for(const[c,d]of r._fields)n!=null&&n.httpDetails&&d.annotations.push(sd),n!=null&&n.certificate&&d.annotations.push(ow),this[c]=Mb(this,c,d,s.blsVerify)}}return i}static createActor(t,n){if(!n.canisterId)throw new ut(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(n)}static createActorWithHttpDetails(t,n){return new(this.createActorClass(t,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(t,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,r))(n)}}function no(e,t){const n=wg(e,Zm.Buffer.from(t));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const iw={pollingStrategyFactory:tw},sd="http-details",ow="certificate";function Mb(e,t,n,r){let i;n.annotations.includes("query")||n.annotations.includes("composite_query")?i=async(s,...a)=>{var c,d;s=Object.assign(Object.assign({},s),(d=(c=e[vn].config).queryTransform)===null||d===void 0?void 0:d.call(c,t,a,Object.assign(Object.assign({},e[vn].config),s)));const v=s.agent||e[vn].config.agent||xp(),w=Oe.from(s.canisterId||e[vn].config.canisterId),p=Kf(n.argTypes,a),x=await v.query(w,{methodName:t,arg:p,effectiveCanisterId:s.effectiveCanisterId}),T=Object.assign(Object.assign({},x.httpDetails),{requestDetails:x.requestDetails});switch(x.status){case"rejected":throw new Pb(w,t,x);case"replied":return n.annotations.includes(sd)?{httpDetails:T,result:no(n.retTypes,x.reply.arg)}:no(n.retTypes,x.reply.arg)}}:i=async(s,...a)=>{var c,d;s=Object.assign(Object.assign({},s),(d=(c=e[vn].config).callTransform)===null||d===void 0?void 0:d.call(c,t,a,Object.assign(Object.assign({},e[vn].config),s)));const v=s.agent||e[vn].config.agent||xp(),{canisterId:w,effectiveCanisterId:p,pollingStrategyFactory:x}=Object.assign(Object.assign(Object.assign({},iw),e[vn].config),s),T=Oe.from(w),F=p!==void 0?Oe.from(p):T,W=Kf(n.argTypes,a),{requestId:S,response:E,requestDetails:b}=await v.call(T,{methodName:t,arg:W,effectiveCanisterId:F});let M,$;if(E.body&&E.body.certificate){if(v.rootKey==null)throw new Error("Agent is missing root key");const L=E.body.certificate;$=await Fi.create({certificate:$i(L),rootKey:v.rootKey,canisterId:Oe.from(w),blsVerify:r});const z=[new TextEncoder().encode("request_status"),S];switch(new TextDecoder().decode(bn($.lookup([...z,"status"])))){case"replied":M=bn($.lookup([...z,"reply"]));break;case"rejected":{const se=new Uint8Array(bn($.lookup([...z,"reject_code"])))[0],X=new TextDecoder().decode(bn($.lookup([...z,"reject_message"]))),ne=bn($.lookup([...z,"error_code"])),ce=ne?new TextDecoder().decode(ne):void 0;throw new Ep(T,t,S,E,se,X,ce)}}}else if(E.body&&"reject_message"in E.body){const{reject_code:L,reject_message:z,error_code:ae}=E.body;throw new Ep(T,t,S,E,L,z,ae)}if(E.status===202){const L=x(),z=await nw(v,F,S,L,r);$=z.certificate,M=z.reply}const V=n.annotations.includes(sd),P=n.annotations.includes(ow),D=Object.assign(Object.assign({},E),{requestDetails:b});if(M!==void 0)return V&&P?{httpDetails:D,certificate:$,result:no(n.retTypes,M)}:P?{certificate:$,result:no(n.retTypes,M)}:V?{httpDetails:D,result:no(n.retTypes,M)}:no(n.retTypes,M);if(n.retTypes.length===0)return V?{httpDetails:E,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const o=(...s)=>i({},...s);return o.withOptions=s=>(...a)=>i(s,...a),o}function bp(e){function t(n,r){if(e.effectiveCanisterId)return{effectiveCanisterId:Oe.from(e.effectiveCanisterId)};const i=r[0];let o=Oe.fromHex("");return i&&typeof i=="object"&&i.target_canister&&n==="install_chunked_code"&&(o=Oe.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(o=Oe.from(i.canister_id)),{effectiveCanisterId:o}}return nn.createActor(Ub,Object.assign(Object.assign(Object.assign({},e),{canisterId:Oe.fromHex("")}),{callTransform:t,queryTransform:t}))}var du=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Gr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ac,kc,lo,fo;function Sp(e){return e!==null&&typeof e=="object"}class Er{constructor(t){if(Ac.set(this,void 0),kc.set(this,void 0),t.byteLength!==Er.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");du(this,Ac,wr(t),"f"),du(this,kc,Er.derEncode(t),"f")}static from(t){if(typeof t=="string"){const n=Sr(t);return this.fromRaw(n)}else if(Sp(t)){const n=t;if(Sp(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const r=n;return this.fromRaw(wr(r.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new Er(t)}static fromDer(t){return new Er(this.derDecode(t))}static derEncode(t){const n=H1(t,fu).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(t){const n=K1(t,fu);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return wr(n)}get rawKey(){return Gr(this,Ac,"f")}get derKey(){return Gr(this,kc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Ac=new WeakMap,kc=new WeakMap;Er.RAW_KEY_LENGTH=32;class Xr extends fh{constructor(t,n){super(),lo.set(this,void 0),fo.set(this,void 0),du(this,lo,Er.from(t),"f"),du(this,fo,new Uint8Array(n),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=oo.utils.randomPrivateKey()),ma(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let i=0;i<32;i++)n[i]=new Uint8Array(t)[i];const r=oo.getPublicKey(n);return Xr.fromKeyPair(r,n)}static fromParsedJson(t){const[n,r]=t;return new Xr(Er.fromDer(Sr(n)),Sr(r))}static fromJSON(t){const n=JSON.parse(t);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,n){return new Xr(Er.fromRaw(t),n)}static fromSecretKey(t){const n=oo.getPublicKey(new Uint8Array(t));return Xr.fromKeyPair(n,t)}toJSON(){return[nt(Gr(this,lo,"f").toDer()),nt(Gr(this,fo,"f"))]}getKeyPair(){return{secretKey:Gr(this,fo,"f"),publicKey:Gr(this,lo,"f")}}getPublicKey(){return Gr(this,lo,"f")}async sign(t){const n=new Uint8Array(t),r=Is(oo.sign(n,Gr(this,fo,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(t,n,r){const[i,o,s]=[t,n,r].map(a=>(typeof a=="string"&&(a=Sr(a)),a instanceof Uint8Array&&(a=wr(a.buffer)),new Uint8Array(a)));return oo.verify(i,o,s)}}lo=new WeakMap,fo=new WeakMap;class vh extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,vh.prototype)}}function Tp(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new vh("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class hu extends fh{constructor(t,n,r){super(),this._keyPair=t,this._derKey=n,this._subtleCrypto=r}static async generate(t){const{extractable:n=!1,keyUsages:r=["sign","verify"],subtleCrypto:i}=t??{},o=Tp(i),s=await o.generateKey({name:"ECDSA",namedCurve:"P-256"},n,r),a=await o.exportKey("spki",s.publicKey);return new this(s,a,o)}static async fromKeyPair(t,n){const r=Tp(n),i=await r.exportKey("spki",t.publicKey);return new hu(t,i,r)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return t},n}async sign(t){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,t)}}var Vb=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ro=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},lr;class $b{constructor(t){lr.set(this,void 0),Vb(this,lr,t,"f")}get rawKey(){return ro(this,lr,"f").rawKey}get derKey(){return ro(this,lr,"f").derKey}toDer(){return ro(this,lr,"f").toDer()}getPublicKey(){return ro(this,lr,"f")}getPrincipal(){if(!ro(this,lr,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return Oe.fromUint8Array(new Uint8Array(ro(this,lr,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}lr=new WeakMap;var zb=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},jb=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},qb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Rc;const Lb=new TextEncoder().encode("ic-request-auth-delegation"),Gb=new TextEncoder().encode(`
ic-request`);function jl(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Sr(e)}class xh{constructor(t,n,r){this.pubkey=t,this.expiration=n,this.targets=r}toCBOR(){return sn.value.map(Object.assign({pubkey:sn.value.bytes(this.pubkey),expiration:sn.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:sn.value.array(this.targets.map(t=>sn.value.bytes($i(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:nt(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function Hb(e,t,n,r){const i=new xh(t.toDer(),BigInt(+n)*BigInt(1e6),r),o=new Uint8Array([...Lb,...new Uint8Array(Qs(Object.assign({},i)))]),s=await e.sign($i(o));return{delegation:i,signature:s}}class pu{constructor(t,n){this.delegations=t,this.publicKey=n}static async create(t,n,r=new Date(Date.now()+15*60*1e3),i={}){var o,s;const a=await Hb(t,n,r,i.targets);return new pu([...((o=i.previous)===null||o===void 0?void 0:o.delegations)||[],a],((s=i.previous)===null||s===void 0?void 0:s.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:n,delegations:r}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(r))throw new Error("Invalid delegations.");const i=r.map(o=>{const{delegation:s,signature:a}=o,{pubkey:c,expiration:d,targets:v}=s;if(v!==void 0&&!Array.isArray(v))throw new Error("Invalid targets.");return{delegation:new xh(jl(c),BigInt("0x"+d),v&&v.map(w=>{if(typeof w!="string")throw new Error("Invalid target.");return Oe.fromHex(w)})),signature:jl(a)}});return new this(i,jl(n))}static fromDelegations(t,n){return new this(t,n)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:n,signature:r}=t,{targets:i}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:nt(n.pubkey)},i&&{targets:i.map(o=>o.toHex())}),signature:nt(r)}}),publicKey:nt(this.publicKey)}}}class Np extends fh{constructor(t,n){super(),this._inner=t,this._delegation=n}static fromDelegation(t,n){return new this(t,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:n}=t,r=qb(t,["body"]),i=await Qs(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_sig:await this.sign($i(new Uint8Array([...Gb,...new Uint8Array(i)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class yu extends $b{constructor(t,n){super(t),Rc.set(this,void 0),zb(this,Rc,n,"f")}get delegation(){return jb(this,Rc,"f")}static fromDelegation(t,n){return new yu(t,n)}}Rc=new WeakMap;function Kb(e,t){for(const{delegation:r}of e.delegations)if(+new Date(Number(r.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const r of n){const i=r.toText();for(const{delegation:o}of e.delegations){if(o.targets===void 0)continue;let s=!0;for(const a of o.targets)if(a.toText()===i){s=!1;break}if(s)return!1}}return!0}var Bp;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Bp||(Bp={}));const Ap=["mousedown","mousemove","keydown","touchstart","wheel"];class kp{constructor(t={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:r,idleTimeout:i=10*60*1e3}=t||{};this.callbacks=r?[r]:[],this.idleTimeout=i;const o=this._resetTimer.bind(this);window.addEventListener("load",o,!0),Ap.forEach(function(a){document.addEventListener(a,o,!0)});const s=(a,c)=>{let d;return(...v)=>{const w=this,p=function(){d=void 0,a.apply(w,v)};clearTimeout(d),d=window.setTimeout(p,c)}};if(t!=null&&t.captureScroll){const a=s(o,(n=t==null?void 0:t.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",a,!0)}o()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Ap.forEach(function(n){document.removeEventListener(n,t,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const Wb=(e,t)=>t.some(n=>e instanceof n);let Rp,Op;function Db(){return Rp||(Rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return Op||(Op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,ad=new WeakMap,aw=new WeakMap,ql=new WeakMap,Eh=new WeakMap;function Zb(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ai(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&sw.set(n,e)}).catch(()=>{}),Eh.set(t,e),t}function Xb(e){if(ad.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});ad.set(e,t)}let cd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ad.get(e);if(t==="objectStoreNames")return e.objectStoreNames||aw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Qb(e){cd=e(cd)}function Jb(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ll(this),t,...n);return aw.set(r,t.sort?t.sort():[t]),ai(r)}:Yb().includes(e)?function(...t){return e.apply(Ll(this),t),ai(sw.get(this))}:function(...t){return ai(e.apply(Ll(this),t))}}function e8(e){return typeof e=="function"?Jb(e):(e instanceof IDBTransaction&&Xb(e),Wb(e,Db())?new Proxy(e,cd):e)}function ai(e){if(e instanceof IDBRequest)return Zb(e);if(ql.has(e))return ql.get(e);const t=e8(e);return t!==e&&(ql.set(e,t),Eh.set(t,e)),t}const Ll=e=>Eh.get(e);function t8(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ai(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ai(s.result),c.oldVersion,c.newVersion,ai(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const n8=["get","getKey","getAll","getAllKeys","count"],r8=["put","add","delete","clear"],Gl=new Map;function Ip(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Gl.get(t))return Gl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=r8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n8.includes(n)))return;const o=async function(s,...a){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&c.done]))[0]};return Gl.set(t,o),o}Qb(e=>({...e,get:(t,n,r)=>Ip(t,n)||e.get(t,n,r),has:(t,n)=>!!Ip(t,n)||e.has(t,n)}));const cw="auth-client-db",uw="ic-keyval",i8=async(e=cw,t=uw,n)=>(lw&&(localStorage!=null&&localStorage.getItem(Dr))&&(localStorage.removeItem(Dr),localStorage.removeItem(Hr)),await t8(e,n,{upgrade:r=>{r.objectStoreNames.contains(t)&&r.clear(t),r.createObjectStore(t)}}));async function o8(e,t,n){return await e.get(t,n)}async function s8(e,t,n,r){return await e.put(t,r,n)}async function a8(e,t,n){return await e.delete(t,n)}class bh{constructor(t,n){this._db=t,this._storeName=n}static async create(t){const{dbName:n=cw,storeName:r=uw,version:i=f8}=t??{},o=await i8(n,r,i);return new bh(o,r)}async set(t,n){return await s8(this._db,this._storeName,t,n)}async get(t){var n;return(n=await o8(this._db,this._storeName,t))!==null&&n!==void 0?n:null}async remove(t){return await a8(this._db,this._storeName,t)}}var c8=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},u8=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Oc;const Hr="identity",Dr="delegation",l8="iv",f8=1,lw=typeof window<"u";class d8{constructor(t="ic-",n){this.prefix=t,this._localStorage=n}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,n){return this._getLocalStorage().setItem(this.prefix+t,n),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class h8{constructor(t){Oc.set(this,void 0),c8(this,Oc,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}bh.create(u8(this,Oc,"f")).then(n=>{this.initializedDb=n,t(n)})})}async get(t){return await(await this._db).get(t)}async set(t,n){await(await this._db).set(t,n)}async remove(t){await(await this._db).remove(t)}}Oc=new WeakMap;const p8="https://identity.internetcomputer.org",y8="#authorize",Hl="ECDSA",Kl="Ed25519",m8=500,g8="UserInterrupt";class fs{constructor(t,n,r,i,o,s,a,c){this._identity=t,this._key=n,this._chain=r,this._storage=i,this.idleManager=o,this._createOptions=s,this._idpWindow=a,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(t={}){var n,r,i;const o=(n=t.storage)!==null&&n!==void 0?n:new h8,s=(r=t.keyType)!==null&&r!==void 0?r:Hl;let a=null;if(t.identity)a=t.identity;else{let w=await o.get(Hr);if(!w&&lw)try{const p=new d8,x=await p.get(Dr),T=await p.get(Hr);x&&T&&s===Hl&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await o.set(Dr,x),await o.set(Hr,T),w=x,await p.remove(Dr),await p.remove(Hr))}catch(p){console.error("error while attempting to recover localstorage: "+p)}if(w)try{typeof w=="object"?s===Kl&&typeof w=="string"?a=await Xr.fromJSON(w):a=await hu.fromKeyPair(w):typeof w=="string"&&(a=Xr.fromJSON(w))}catch{}}let c=new Js,d=null;if(a)try{const w=await o.get(Dr);if(typeof w=="object"&&w!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?c=t.identity:w&&(d=pu.fromJSON(w),Kb(d)?"toDer"in a?c=yu.fromDelegation(a,d):c=Np.fromDelegation(a,d):(await Wl(o),a=null))}catch(w){console.error(w),await Wl(o),a=null}let v;return!((i=t.idleOptions)===null||i===void 0)&&i.disableIdle?v=void 0:(d||t.identity)&&(v=kp.create(t.idleOptions)),a||(s===Kl?(a=await Xr.generate(),await o.set(Hr,JSON.stringify(a.toJSON()))):(t.storage&&s===Hl&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Kl}' as the key type, as it can serialize to a string`),a=await hu.generate(),await o.set(Hr,a.getKeyPair()))),new this(c,a,d,o,v,t)}_registerDefaultIdleCallback(){var t,n;const r=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,n){var r,i;const o=t.delegations.map(d=>({delegation:new xh(d.delegation.pubkey,d.delegation.expiration,d.delegation.targets),signature:d.signature.buffer})),s=pu.fromDelegations(o,t.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=s,"toDer"in a?this._identity=yu.fromDelegation(a,this._chain):this._identity=Np.fromDelegation(a,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();const c=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=kp.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Dr,JSON.stringify(this._chain.toJSON())),n==null||n(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var n,r,i,o;const s=BigInt(8)*BigInt(36e11),a=new URL(((n=t==null?void 0:t.identityProvider)===null||n===void 0?void 0:n.toString())||p8);a.hash=y8,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(i=t==null?void 0:t.maxTimeToLive)!==null&&i!==void 0?i:s},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(o=window.open(a.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&o!==void 0?o:void 0;const c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(g8,t==null?void 0:t.onError):setTimeout(c,m8))};c()}_getEventHandler(t,n){return async r=>{var i,o,s;if(r.origin!==t.origin)return;const a=r.data;switch(a.kind){case"authorize-ready":{const c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(o=n==null?void 0:n.derivationOrigin)===null||o===void 0?void 0:o.toString()},n==null?void 0:n.customValues);(s=this._idpWindow)===null||s===void 0||s.postMessage(c,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,n==null?void 0:n.onSuccess)}catch(c){this._handleFailure(c.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,n==null?void 0:n.onError);break}}}_handleFailure(t,n){var r;(r=this._idpWindow)===null||r===void 0||r.close(),n==null||n(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await Wl(this._storage),this._identity=new Js,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function Wl(e){await e.remove(Hr),await e.remove(Dr),await e.remove(l8)}const Xa=({IDL:e})=>{const t=e.Nat32,n=e.Record({index:t,color:e.Nat32}),r=e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))});return e.Service({get_canvas_chunk:e.Func([e.Nat32,e.Nat32,e.Nat32,e.Nat32],[e.Vec(e.Nat32)],["query"]),link_for_pixel:e.Func([e.Nat32],[e.Opt(e.Text)],["query"]),price_per_pixel_e8s:e.Func([],[e.Nat],["query"]),recipient_account:e.Func([],[r],["query"]),ledger_canister:e.Func([],[e.Principal],["query"]),claim_pixels:e.Func([e.Vec(e.Nat32),e.Opt(e.Text)],[e.Record({claimed:e.Nat32,cost_paid_e8s:e.Nat})],[]),paint:e.Func([e.Vec(n)],[],[]),set_link:e.Func([e.Opt(e.Text)],[],[])})},ds=({IDL:e})=>{const t=e.Opt(e.Vec(e.Nat8)),n=e.Record({owner:e.Principal,subaccount:t}),r=e.Rec(),i=e.Record({key:e.Text,value:r});r.fill(e.Variant({Nat:e.Nat,Int:e.Int,Text:e.Text,Blob:e.Vec(e.Nat8),Array:e.Vec(r),Map:e.Vec(i)}));const o=e.Record({name:e.Text,url:e.Text}),s=e.Record({from_subaccount:t,to:n,amount:e.Nat,fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(e.Nat64)}),a=e.Variant({BadFee:e.Record({expected_fee:e.Nat}),BadBurn:e.Record({min_burn_amount:e.Nat}),InsufficientFunds:e.Record({balance:e.Nat}),TooOld:e.Null,CreatedInFuture:e.Record({ledger_time:e.Nat64}),Duplicate:e.Record({duplicate_of:e.Nat}),TemporarilyUnavailable:e.Null,GenericError:e.Record({error_code:e.Nat,message:e.Text})}),c=e.Variant({Ok:e.Nat,Err:a}),d=e.Record({e8s:e.Nat64});return e.Service({icrc1_name:e.Func([],[e.Text],["query"]),icrc1_symbol:e.Func([],[e.Text],["query"]),icrc1_decimals:e.Func([],[e.Nat8],["query"]),icrc1_total_supply:e.Func([],[e.Nat],["query"]),icrc1_fee:e.Func([],[e.Nat],["query"]),icrc1_metadata:e.Func([],[e.Vec(e.Tuple(e.Text,r))],["query"]),icrc1_supported_standards:e.Func([],[e.Vec(o)],["query"]),icrc1_balance_of:e.Func([e.Record({account:n})],[e.Nat],["query"]),icrc1_transfer:e.Func([s],[c],[]),account_balance_dfx:e.Func([e.Record({account:e.Vec(e.Nat8)})],[d],["query"])})};var w8=(e=>(e[e.FractionalMoreThan8Decimals=0]="FractionalMoreThan8Decimals",e[e.InvalidFormat=1]="InvalidFormat",e[e.FractionalTooManyDecimals=2]="FractionalTooManyDecimals",e))(w8||{});BigInt(1e8);var _8=class{constructor(e,t,n){tn(this,"caller",({certified:e=!0})=>e?this.certifiedService:this.service);this.id=e,this.service=t,this.certifiedService=n}get canisterId(){return this.id}},fw=e=>e==null,v8=e=>!fw(e),x8=()=>Ri.createSync({host:"https://icp-api.io",identity:new Js}),E8=({options:{canisterId:e,serviceOverride:t,certifiedServiceOverride:n,agent:r,callTransform:i,queryTransform:o},idlFactory:s,certifiedIdlFactory:a})=>{let c=r??x8(),d=t??nn.createActor(s,{agent:c,canisterId:e,callTransform:i,queryTransform:o}),v=n??nn.createActor(a,{agent:c,canisterId:e,callTransform:i,queryTransform:o});return{service:d,certifiedService:v,agent:c,canisterId:e}},Fp="abcdefghijklmnopqrstuvwxyz234567",sa=Object.create(null);for(let e=0;e<Fp.length;e++)sa[Fp[e]]=e;sa[0]=sa.o;sa[1]=sa.i;var Nt=e=>v8(e)?[e]:[],b8=({IDL:e})=>{let t=e.Rec(),n=e.Rec(),r=e.Rec(),i=e.Record({num_blocks_to_archive:e.Opt(e.Nat64),max_transactions_per_response:e.Opt(e.Nat64),trigger_threshold:e.Opt(e.Nat64),more_controller_ids:e.Opt(e.Vec(e.Principal)),max_message_size_bytes:e.Opt(e.Nat64),cycles_for_archive_creation:e.Opt(e.Nat64),node_max_memory_size_bytes:e.Opt(e.Nat64),controller_id:e.Opt(e.Principal)}),o=e.Variant({Int:e.Int,Nat:e.Nat,Blob:e.Vec(e.Nat8),Text:e.Text}),s=e.Vec(e.Nat8),a=e.Record({owner:e.Principal,subaccount:e.Opt(s)}),c=e.Variant({SetTo:a,Unset:e.Null}),d=e.Record({icrc2:e.Bool}),v=e.Record({change_archive_options:e.Opt(i),token_symbol:e.Opt(e.Text),transfer_fee:e.Opt(e.Nat),metadata:e.Opt(e.Vec(e.Tuple(e.Text,o))),change_fee_collector:e.Opt(c),max_memo_length:e.Opt(e.Nat16),index_principal:e.Opt(e.Principal),token_name:e.Opt(e.Text),feature_flags:e.Opt(d)}),w=e.Record({decimals:e.Opt(e.Nat8),token_symbol:e.Text,transfer_fee:e.Nat,metadata:e.Vec(e.Tuple(e.Text,o)),minting_account:a,initial_balances:e.Vec(e.Tuple(a,e.Nat)),fee_collector_account:e.Opt(a),archive_options:e.Record({num_blocks_to_archive:e.Nat64,max_transactions_per_response:e.Opt(e.Nat64),trigger_threshold:e.Nat64,more_controller_ids:e.Opt(e.Vec(e.Principal)),max_message_size_bytes:e.Opt(e.Nat64),cycles_for_archive_creation:e.Opt(e.Nat64),node_max_memory_size_bytes:e.Opt(e.Nat64),controller_id:e.Principal}),max_memo_length:e.Opt(e.Nat16),index_principal:e.Opt(e.Principal),token_name:e.Text,feature_flags:e.Opt(d)});e.Variant({Upgrade:e.Opt(v),Init:w});let p=e.Nat,x=e.Record({block_range_end:p,canister_id:e.Principal,block_range_start:p}),T=e.Record({start:p,length:e.Nat}),F=e.Vec(e.Tuple(e.Text,r));r.fill(e.Variant({Int:e.Int,Map:F,Nat:e.Nat,Nat64:e.Nat64,Blob:e.Vec(e.Nat8),Text:e.Text,Array:e.Vec(r)}));let W=r,S=e.Record({blocks:e.Vec(W)}),E=e.Func([T],[S],[]),b=e.Record({certificate:e.Opt(e.Vec(e.Nat8)),first_index:p,blocks:e.Vec(W),chain_length:e.Nat64,archived_blocks:e.Vec(e.Record({callback:E,start:p,length:e.Nat}))}),M=e.Record({certificate:e.Opt(e.Vec(e.Nat8)),hash_tree:e.Vec(e.Nat8)}),$=e.Nat,V=e.Record({start:$,length:e.Nat}),P=e.Nat64,D=e.Record({from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,spender:e.Opt(a)}),L=e.Record({to:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat}),z=e.Record({fee:e.Opt(e.Nat),from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,expected_allowance:e.Opt(e.Nat),expires_at:e.Opt(P),spender:a}),ae=e.Record({to:a,fee:e.Opt(e.Nat),from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,spender:e.Opt(a)}),se=e.Record({burn:e.Opt(D),kind:e.Text,mint:e.Opt(L),approve:e.Opt(z),timestamp:P,transfer:e.Opt(ae)}),X=e.Record({transactions:e.Vec(se)}),ne=e.Func([V],[X],[]),ce=e.Record({first_index:$,log_length:e.Nat,transactions:e.Vec(se),archived_transactions:e.Vec(e.Record({callback:ne,start:$,length:e.Nat}))}),de=e.Record({take:e.Opt(e.Nat),prev_spender:e.Opt(a),from_account:e.Opt(a)}),we=e.Record({from_account:a,to_spender:a,allowance:e.Nat,expires_at:e.Opt(e.Nat64)}),J=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),AccessDenied:e.Record({reason:e.Text})}),re=e.Variant({Ok:e.Vec(we),Err:J}),ie=e.Variant({GenericError:e.Record({description:e.Text,error_code:e.Nat}),IndexPrincipalNotSet:e.Null}),oe=e.Variant({Ok:e.Principal,Err:ie}),te=e.Nat,Ne=e.Record({url:e.Text,name:e.Text}),A=e.Record({to:a,fee:e.Opt(te),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(s),created_at_time:e.Opt(P),amount:te}),Se=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:te}),Duplicate:e.Record({duplicate_of:p}),BadFee:e.Record({expected_fee:te}),CreatedInFuture:e.Record({ledger_time:P}),TooOld:e.Null,InsufficientFunds:e.Record({balance:te})}),Ce=e.Variant({Ok:p,Err:Se}),Fe=e.Record({utc_offset_minutes:e.Opt(e.Int16),language:e.Text}),ye=e.Record({metadata:Fe,device_spec:e.Opt(e.Variant({GenericDisplay:e.Null,LineDisplay:e.Record({characters_per_line:e.Nat16,lines_per_page:e.Nat16})}))}),ge=e.Record({arg:e.Vec(e.Nat8),method:e.Text,user_preferences:ye}),B=e.Variant({LineDisplayMessage:e.Record({pages:e.Vec(e.Record({lines:e.Vec(e.Text)}))}),GenericDisplayMessage:e.Text}),R=e.Record({metadata:Fe,consent_message:B}),U=e.Record({description:e.Text}),K=e.Variant({GenericError:e.Record({description:e.Text,error_code:e.Nat}),InsufficientPayment:U,UnsupportedCanisterCall:U,ConsentMessageUnavailable:U}),q=e.Variant({Ok:R,Err:K}),Y=e.Record({account:a,spender:a}),y=e.Record({allowance:e.Nat,expires_at:e.Opt(P)}),u=e.Record({fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,expected_allowance:e.Opt(e.Nat),expires_at:e.Opt(P),spender:a}),l=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,Duplicate:e.Record({duplicate_of:p}),BadFee:e.Record({expected_fee:e.Nat}),AllowanceChanged:e.Record({current_allowance:e.Nat}),CreatedInFuture:e.Record({ledger_time:P}),TooOld:e.Null,Expired:e.Record({ledger_time:P}),InsufficientFunds:e.Record({balance:e.Nat})}),_=e.Variant({Ok:p,Err:l}),N=e.Record({to:a,fee:e.Opt(te),spender_subaccount:e.Opt(s),from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:te}),C=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,InsufficientAllowance:e.Record({allowance:te}),BadBurn:e.Record({min_burn_amount:te}),Duplicate:e.Record({duplicate_of:p}),BadFee:e.Record({expected_fee:te}),CreatedInFuture:e.Record({ledger_time:P}),TooOld:e.Null,InsufficientFunds:e.Record({balance:te})}),ee=e.Variant({Ok:p,Err:C}),ue=e.Record({from:e.Opt(e.Principal)}),me=e.Vec(e.Record({end:e.Nat,canister_id:e.Principal,start:e.Nat}));n.fill(e.Variant({Int:e.Int,Map:e.Vec(e.Tuple(e.Text,n)),Nat:e.Nat,Blob:e.Vec(e.Nat8),Text:e.Text,Array:e.Vec(n)})),t.fill(e.Record({log_length:e.Nat,blocks:e.Vec(e.Record({id:e.Nat,block:n})),archived_blocks:e.Vec(e.Record({args:e.Vec(T),callback:e.Func([e.Vec(T)],[t],[])}))}));let _e=e.Record({certificate:e.Vec(e.Nat8),hash_tree:e.Vec(e.Nat8)});return e.Service({archives:e.Func([],[e.Vec(x)],[]),get_blocks:e.Func([T],[b],[]),get_data_certificate:e.Func([],[M],[]),get_transactions:e.Func([V],[ce],[]),icrc103_get_allowances:e.Func([de],[re],[]),icrc106_get_index_principal:e.Func([],[oe],[]),icrc10_supported_standards:e.Func([],[e.Vec(e.Record({url:e.Text,name:e.Text}))],[]),icrc1_balance_of:e.Func([a],[te],[]),icrc1_decimals:e.Func([],[e.Nat8],[]),icrc1_fee:e.Func([],[te],[]),icrc1_metadata:e.Func([],[e.Vec(e.Tuple(e.Text,o))],[]),icrc1_minting_account:e.Func([],[e.Opt(a)],[]),icrc1_name:e.Func([],[e.Text],[]),icrc1_supported_standards:e.Func([],[e.Vec(Ne)],[]),icrc1_symbol:e.Func([],[e.Text],[]),icrc1_total_supply:e.Func([],[te],[]),icrc1_transfer:e.Func([A],[Ce],[]),icrc21_canister_call_consent_message:e.Func([ge],[q],[]),icrc2_allowance:e.Func([Y],[y],[]),icrc2_approve:e.Func([u],[_],[]),icrc2_transfer_from:e.Func([N],[ee],[]),icrc3_get_archives:e.Func([ue],[me],[]),icrc3_get_blocks:e.Func([e.Vec(T)],[t],[]),icrc3_get_tip_certificate:e.Func([],[e.Opt(_e)],[]),icrc3_supported_block_types:e.Func([],[e.Vec(e.Record({url:e.Text,block_type:e.Text}))],[]),is_ledger_ready:e.Func([],[e.Bool],[])})},S8=({IDL:e})=>{let t=e.Rec(),n=e.Rec(),r=e.Rec(),i=e.Record({num_blocks_to_archive:e.Opt(e.Nat64),max_transactions_per_response:e.Opt(e.Nat64),trigger_threshold:e.Opt(e.Nat64),more_controller_ids:e.Opt(e.Vec(e.Principal)),max_message_size_bytes:e.Opt(e.Nat64),cycles_for_archive_creation:e.Opt(e.Nat64),node_max_memory_size_bytes:e.Opt(e.Nat64),controller_id:e.Opt(e.Principal)}),o=e.Variant({Int:e.Int,Nat:e.Nat,Blob:e.Vec(e.Nat8),Text:e.Text}),s=e.Vec(e.Nat8),a=e.Record({owner:e.Principal,subaccount:e.Opt(s)}),c=e.Variant({SetTo:a,Unset:e.Null}),d=e.Record({icrc2:e.Bool}),v=e.Record({change_archive_options:e.Opt(i),token_symbol:e.Opt(e.Text),transfer_fee:e.Opt(e.Nat),metadata:e.Opt(e.Vec(e.Tuple(e.Text,o))),change_fee_collector:e.Opt(c),max_memo_length:e.Opt(e.Nat16),index_principal:e.Opt(e.Principal),token_name:e.Opt(e.Text),feature_flags:e.Opt(d)}),w=e.Record({decimals:e.Opt(e.Nat8),token_symbol:e.Text,transfer_fee:e.Nat,metadata:e.Vec(e.Tuple(e.Text,o)),minting_account:a,initial_balances:e.Vec(e.Tuple(a,e.Nat)),fee_collector_account:e.Opt(a),archive_options:e.Record({num_blocks_to_archive:e.Nat64,max_transactions_per_response:e.Opt(e.Nat64),trigger_threshold:e.Nat64,more_controller_ids:e.Opt(e.Vec(e.Principal)),max_message_size_bytes:e.Opt(e.Nat64),cycles_for_archive_creation:e.Opt(e.Nat64),node_max_memory_size_bytes:e.Opt(e.Nat64),controller_id:e.Principal}),max_memo_length:e.Opt(e.Nat16),index_principal:e.Opt(e.Principal),token_name:e.Text,feature_flags:e.Opt(d)});e.Variant({Upgrade:e.Opt(v),Init:w});let p=e.Nat,x=e.Record({block_range_end:p,canister_id:e.Principal,block_range_start:p}),T=e.Record({start:p,length:e.Nat}),F=e.Vec(e.Tuple(e.Text,r));r.fill(e.Variant({Int:e.Int,Map:F,Nat:e.Nat,Nat64:e.Nat64,Blob:e.Vec(e.Nat8),Text:e.Text,Array:e.Vec(r)}));let W=r,S=e.Record({blocks:e.Vec(W)}),E=e.Func([T],[S],["query"]),b=e.Record({certificate:e.Opt(e.Vec(e.Nat8)),first_index:p,blocks:e.Vec(W),chain_length:e.Nat64,archived_blocks:e.Vec(e.Record({callback:E,start:p,length:e.Nat}))}),M=e.Record({certificate:e.Opt(e.Vec(e.Nat8)),hash_tree:e.Vec(e.Nat8)}),$=e.Nat,V=e.Record({start:$,length:e.Nat}),P=e.Nat64,D=e.Record({from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,spender:e.Opt(a)}),L=e.Record({to:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat}),z=e.Record({fee:e.Opt(e.Nat),from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,expected_allowance:e.Opt(e.Nat),expires_at:e.Opt(P),spender:a}),ae=e.Record({to:a,fee:e.Opt(e.Nat),from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,spender:e.Opt(a)}),se=e.Record({burn:e.Opt(D),kind:e.Text,mint:e.Opt(L),approve:e.Opt(z),timestamp:P,transfer:e.Opt(ae)}),X=e.Record({transactions:e.Vec(se)}),ne=e.Func([V],[X],["query"]),ce=e.Record({first_index:$,log_length:e.Nat,transactions:e.Vec(se),archived_transactions:e.Vec(e.Record({callback:ne,start:$,length:e.Nat}))}),de=e.Record({take:e.Opt(e.Nat),prev_spender:e.Opt(a),from_account:e.Opt(a)}),we=e.Record({from_account:a,to_spender:a,allowance:e.Nat,expires_at:e.Opt(e.Nat64)}),J=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),AccessDenied:e.Record({reason:e.Text})}),re=e.Variant({Ok:e.Vec(we),Err:J}),ie=e.Variant({GenericError:e.Record({description:e.Text,error_code:e.Nat}),IndexPrincipalNotSet:e.Null}),oe=e.Variant({Ok:e.Principal,Err:ie}),te=e.Nat,Ne=e.Record({url:e.Text,name:e.Text}),A=e.Record({to:a,fee:e.Opt(te),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(s),created_at_time:e.Opt(P),amount:te}),Se=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:te}),Duplicate:e.Record({duplicate_of:p}),BadFee:e.Record({expected_fee:te}),CreatedInFuture:e.Record({ledger_time:P}),TooOld:e.Null,InsufficientFunds:e.Record({balance:te})}),Ce=e.Variant({Ok:p,Err:Se}),Fe=e.Record({utc_offset_minutes:e.Opt(e.Int16),language:e.Text}),ye=e.Record({metadata:Fe,device_spec:e.Opt(e.Variant({GenericDisplay:e.Null,LineDisplay:e.Record({characters_per_line:e.Nat16,lines_per_page:e.Nat16})}))}),ge=e.Record({arg:e.Vec(e.Nat8),method:e.Text,user_preferences:ye}),B=e.Variant({LineDisplayMessage:e.Record({pages:e.Vec(e.Record({lines:e.Vec(e.Text)}))}),GenericDisplayMessage:e.Text}),R=e.Record({metadata:Fe,consent_message:B}),U=e.Record({description:e.Text}),K=e.Variant({GenericError:e.Record({description:e.Text,error_code:e.Nat}),InsufficientPayment:U,UnsupportedCanisterCall:U,ConsentMessageUnavailable:U}),q=e.Variant({Ok:R,Err:K}),Y=e.Record({account:a,spender:a}),y=e.Record({allowance:e.Nat,expires_at:e.Opt(P)}),u=e.Record({fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:e.Nat,expected_allowance:e.Opt(e.Nat),expires_at:e.Opt(P),spender:a}),l=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,Duplicate:e.Record({duplicate_of:p}),BadFee:e.Record({expected_fee:e.Nat}),AllowanceChanged:e.Record({current_allowance:e.Nat}),CreatedInFuture:e.Record({ledger_time:P}),TooOld:e.Null,Expired:e.Record({ledger_time:P}),InsufficientFunds:e.Record({balance:e.Nat})}),_=e.Variant({Ok:p,Err:l}),N=e.Record({to:a,fee:e.Opt(te),spender_subaccount:e.Opt(s),from:a,memo:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(P),amount:te}),C=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,InsufficientAllowance:e.Record({allowance:te}),BadBurn:e.Record({min_burn_amount:te}),Duplicate:e.Record({duplicate_of:p}),BadFee:e.Record({expected_fee:te}),CreatedInFuture:e.Record({ledger_time:P}),TooOld:e.Null,InsufficientFunds:e.Record({balance:te})}),ee=e.Variant({Ok:p,Err:C}),ue=e.Record({from:e.Opt(e.Principal)}),me=e.Vec(e.Record({end:e.Nat,canister_id:e.Principal,start:e.Nat}));n.fill(e.Variant({Int:e.Int,Map:e.Vec(e.Tuple(e.Text,n)),Nat:e.Nat,Blob:e.Vec(e.Nat8),Text:e.Text,Array:e.Vec(n)})),t.fill(e.Record({log_length:e.Nat,blocks:e.Vec(e.Record({id:e.Nat,block:n})),archived_blocks:e.Vec(e.Record({args:e.Vec(T),callback:e.Func([e.Vec(T)],[t],["query"])}))}));let _e=e.Record({certificate:e.Vec(e.Nat8),hash_tree:e.Vec(e.Nat8)});return e.Service({archives:e.Func([],[e.Vec(x)],["query"]),get_blocks:e.Func([T],[b],["query"]),get_data_certificate:e.Func([],[M],["query"]),get_transactions:e.Func([V],[ce],["query"]),icrc103_get_allowances:e.Func([de],[re],["query"]),icrc106_get_index_principal:e.Func([],[oe],["query"]),icrc10_supported_standards:e.Func([],[e.Vec(e.Record({url:e.Text,name:e.Text}))],["query"]),icrc1_balance_of:e.Func([a],[te],["query"]),icrc1_decimals:e.Func([],[e.Nat8],["query"]),icrc1_fee:e.Func([],[te],["query"]),icrc1_metadata:e.Func([],[e.Vec(e.Tuple(e.Text,o))],["query"]),icrc1_minting_account:e.Func([],[e.Opt(a)],["query"]),icrc1_name:e.Func([],[e.Text],["query"]),icrc1_supported_standards:e.Func([],[e.Vec(Ne)],["query"]),icrc1_symbol:e.Func([],[e.Text],["query"]),icrc1_total_supply:e.Func([],[te],["query"]),icrc1_transfer:e.Func([A],[Ce],[]),icrc21_canister_call_consent_message:e.Func([ge],[q],[]),icrc2_allowance:e.Func([Y],[y],["query"]),icrc2_approve:e.Func([u],[_],[]),icrc2_transfer_from:e.Func([N],[ee],[]),icrc3_get_archives:e.Func([ue],[me],["query"]),icrc3_get_blocks:e.Func([e.Vec(T)],[t],["query"]),icrc3_get_tip_certificate:e.Func([],[e.Opt(_e)],["query"]),icrc3_supported_block_types:e.Func([],[e.Vec(e.Record({url:e.Text,block_type:e.Text}))],["query"]),is_ledger_ready:e.Func([],[e.Bool],["query"])})},T8=({from_subaccount:e,fee:t,created_at_time:n,memo:r,...i})=>({...i,fee:Nt(t),memo:Nt(r),from_subaccount:Nt(e),created_at_time:Nt(n)}),N8=({spender_subaccount:e,fee:t,created_at_time:n,memo:r,...i})=>({...i,fee:Nt(t),memo:Nt(r),spender_subaccount:Nt(e),created_at_time:Nt(n)}),B8=({fee:e,created_at_time:t,memo:n,from_subaccount:r,expected_allowance:i,expires_at:o,...s})=>({...s,fee:Nt(e),memo:Nt(n),from_subaccount:Nt(r),created_at_time:Nt(t),expected_allowance:Nt(i),expires_at:Nt(o)}),A8=({userPreferences:{metadata:{utcOffsetMinutes:e,language:t},deriveSpec:n},...r})=>({...r,user_preferences:{metadata:{language:t,utc_offset_minutes:Nt(e)},device_spec:fw(n)?Nt():Nt("GenericDisplay"in n?{GenericDisplay:null}:{LineDisplay:{characters_per_line:n.LineDisplay.charactersPerLine,lines_per_page:n.LineDisplay.linesPerPage}})}}),Dl=class extends Error{constructor({msg:t,errorType:n}){super(t);tn(this,"errorType");this.errorType=n}},dw=class extends Error{constructor(e,t){super(),this.message=e,this.error_code=t}},Ku=class extends Error{},k8=class extends Ku{},R8=class extends Ku{},O8=class extends Ku{},I8=e=>"GenericError"in e?new dw(e.GenericError.description,e.GenericError.error_code):"InsufficientPayment"in e?new k8(e.InsufficientPayment.description):"UnsupportedCanisterCall"in e?new R8(e.UnsupportedCanisterCall.description):"ConsentMessageUnavailable"in e?new O8(e.ConsentMessageUnavailable.description):new Ku(`Unknown error type ${JSON.stringify(e)}`),F8=class extends Error{},C8=e=>"IndexPrincipalNotSet"in e?new F8("Index principal is not set for this ledger canister."):new dw(e.GenericError.description,e.GenericError.error_code),U8=class hw extends _8{constructor(){super(...arguments);tn(this,"metadata",n=>this.caller(n).icrc1_metadata());tn(this,"transactionFee",n=>this.caller(n).icrc1_fee());tn(this,"balance",n=>this.caller({certified:n.certified}).icrc1_balance_of({owner:n.owner,subaccount:Nt(n.subaccount)}));tn(this,"transfer",async n=>{let r=await this.caller({certified:!0}).icrc1_transfer(T8(n));if("Err"in r)throw new Dl({errorType:r.Err,msg:"Failed to transfer"});return r.Ok});tn(this,"totalTokensSupply",n=>this.caller(n).icrc1_total_supply());tn(this,"transferFrom",async n=>{let r=await this.caller({certified:!0}).icrc2_transfer_from(N8(n));if("Err"in r)throw new Dl({errorType:r.Err,msg:"Failed to transfer from"});return r.Ok});tn(this,"approve",async n=>{let r=await this.caller({certified:!0}).icrc2_approve(B8(n));if("Err"in r)throw new Dl({errorType:r.Err,msg:"Failed to entitle the spender to transfer the amount"});return r.Ok});tn(this,"allowance",n=>{let{certified:r,...i}=n;return this.caller({certified:r}).icrc2_allowance({...i})});tn(this,"consentMessage",async n=>{let{icrc21_canister_call_consent_message:r}=this.caller({certified:!0}),i=await r(A8(n));if("Err"in i)throw I8(i.Err);return i.Ok});tn(this,"getBlocks",n=>this.caller({certified:n.certified}).icrc3_get_blocks(n.args));tn(this,"getIndexPrincipal",async n=>{let{icrc106_get_index_principal:r}=this.caller(n),i=await r();if("Err"in i)throw C8(i.Err);return i.Ok})}static create(n){let{service:r,certifiedService:i,canisterId:o}=E8({options:n,idlFactory:S8,certifiedIdlFactory:b8});return new hw(o,r,i)}},P8=(e=>(e.SYMBOL="icrc1:symbol",e.NAME="icrc1:name",e.DECIMALS="icrc1:decimals",e.FEE="icrc1:fee",e.LOGO="icrc1:logo",e))(P8||{});async function Yl(e){return new Ri({identity:e.identity,host:e.host})}const Vt=1e3,Yn=1e3,Qa=125,Cp=4e3,Up=2e3,M8=1000000n,Pp="ombb.selection",V8=Oe.fromText("o72d6-axkp7-lv7lv-24bj5-vldpt-tqd2q-3f3n6-5wdn6-tizzq-ubugz-bae"),Zl=["https://icp-api.io","https://ic0.app","https://boundary.ic0.app"],io="ryjl3-tyaaa-aaaaa-aaaba-cai";function pw(){const e=ft.useRef(null);async function t(m,k,I,H){const Q=xe=>{const{width:ke,height:Ae}=xe,qe=xe.getContext("2d").getImageData(0,0,ke,Ae).data,at=new Uint32Array(ke*Ae);for(let Ze=0,Ht=0;Ze<qe.length;Ze+=4,Ht++)at[Ht]=-16777216|qe[Ze]<<16|qe[Ze+1]<<8|qe[Ze+2];return at},G=xe=>typeof(m==null?void 0:m[xe])=="function",Z=xe=>{const ke=[];for(let Ae=xe.y0;Ae<=xe.y1;Ae++)for(let qe=xe.x0;qe<=xe.x1;qe++)ke.push(Ae*Vt+qe);return ke};try{a.current=Date.now()+9e4}catch{}if(G("claim_region")?await m.claim_region(k):G("claim")?await m.claim(k):G("claim_pixels")&&await m.claim_pixels(Z(k)),I){const xe=Array.from(Q(I));G("paint_region")?await m.paint_region(k,xe):G("paint")?await m.paint(k,xe):G("paint_pixels")&&await m.paint_pixels(Z(k),xe)}if(H&&/^https?:\/\//.test(H)){const xe=Z(k);G("set_region_link")?await m.set_region_link(k,H):G("set_link")?await m.set_link(k,H):G("link_region")?await m.link_region(k,H):G("set_links")&&await m.set_links(xe,H)}const le=async()=>m,pe=async()=>{try{return await se(m),!0}catch{return!1}},Te=async()=>{try{const xe=Math.floor((k.x0+k.x1)/2),ke=Math.floor((k.y0+k.y1)/2);let Ae=null;if(typeof m.link_at=="function")Ae=await m.link_at({x:xe,y:ke});else if(typeof m.get_link=="function")Ae=await m.get_link({x:xe,y:ke});else return!0;return!!Ae&&(!H||Ae===H||Ae.startsWith(H))}catch{return!1}},be=Date.now(),Ie=2e4;for(;Date.now()-be<Ie;){await le();const xe=await pe(),ke=await Te();if(xe&&ke)return;await new Promise(Ae=>setTimeout(Ae,1e3))}console.warn("[commit verify] timed out; proceeding anyway")}const n=ft.useRef(null),r=ft.useRef(null),i=ft.useRef(null),o=ft.useRef(null),s=ft.useRef(null),a=ft.useRef(0),c=ft.useRef(0n),d=ft.useRef(null),v=ft.useRef(null),w=ft.useRef(!1),p=ft.useRef(null),x=ft.useRef(null),T=ft.useRef(null),F=ft.useRef(null),W=ft.useRef(null),S=ft.useRef(null),E="vc3iz-viaaa-aaaad-qhokq-cai";ft.useEffect(()=>{(async()=>{var Q;b(),de(),we();try{const{agent:G}=await V(),Z=nn.createActor(Xa,{agent:G,canisterId:E});try{await se(Z)}catch{await X(Z)}}catch(G){console.warn("Anonymous draw failed:",G)}const I=te();I&&(oe(I),A(I)),Se(),Ce(),F.current&&!F.current.__wired&&(F.current.__wired=!0,F.current.addEventListener("click",()=>{w.current||q()})),(Q=W.current)==null||Q.addEventListener("click",()=>{U(),v.current=null,ue(),ie(d.current,!1)});const H=await fs.create();await H.isAuthenticated()?await $(H):D(!1)})();const m=()=>{M()},k=async()=>{await(await fs.create()).logout(),e.current=null,n.current=null,r.current=null,o.current=null,c.current=0n,S.current&&(clearInterval(S.current),S.current=null),D(!1),L(),ae(""),U(),v.current=null,ue(),ie(d.current,!1),me("Signed out","info")};return window.addEventListener("ic:login",m),window.addEventListener("ic:signout",k),()=>{window.removeEventListener("ic:login",m),window.removeEventListener("ic:signout",k),S.current&&(clearInterval(S.current),S.current=null)}},[]),ft.useEffect(()=>{try{ce()}catch{}},[]);function b(){if(!document.getElementById("balance")){const m=document.querySelector("#walletPanel")||document.body,k=document.createElement("div");k.id="balance",k.className="muted",k.textContent="Balance:  ICP",m.insertBefore(k,m.firstChild)}if(!document.getElementById("walletAddr")){const m=document.createElement("span");m.id="walletAddr",m.textContent="",document.body.appendChild(m)}}async function M(){const m=await fs.create();await m.login({identityProvider:"https://identity.ic0.app/#authorize",onSuccess:async()=>{await $(m)}})}async function $(m){const k=m.getIdentity(),I=k.getPrincipal();r.current=I,i.current=k,D(!0,I.toText()),L(),ae("loading");const{agent:H,host:Q}=await V(k);o.current=Q,e.current=nn.createActor(Xa,{agent:H,canisterId:E}),n.current=nn.createActor(ds,{agent:H,canisterId:io}),await P(n.current,Q),await z({hardRetry:!0}),S.current&&clearInterval(S.current),S.current=window.setInterval(()=>{z({}).catch(()=>{})},15e3),ie(d.current,!!v.current),me("Signed in","success")}async function V(m,k){if(s.current&&Date.now()<a.current){const Q=s.current,G=await Yl({identity:m,host:Q});try{const Z=nn.createActor(ds,{agent:G,canisterId:io});return await l(Z.icrc1_symbol(),2500),o.current=Q,{agent:G,host:Q}}catch(Z){console.warn("[HOST sticky failed, falling back to probe]",Q,Z)}}const I=Zl.filter(Q=>Q!==k);let H=null;for(const Q of I)try{const G=await Yl({identity:m,host:Q}),Z=nn.createActor(ds,{agent:G,canisterId:io});return await l(Z.icrc1_symbol(),2500),o.current=Q,{agent:G,host:Q}}catch(G){H=G,console.warn("[HOST probe failed]",Q,G)}throw H??new Error("All boundary hosts failed")}async function P(m,k){try{if(typeof(m==null?void 0:m.icrc1_symbol)!="function"||typeof(m==null?void 0:m.icrc1_balance_of)!="function")throw new Error("Ledger IDL missing ICRC-1 methods");const[I,H]=await Promise.all([l(m.icrc1_symbol(),2500),l(m.icrc1_decimals(),2500)]);console.log("[ICRC1] host:",k,"symbol:",I,"decimals:",H)}catch(I){console.warn("Ledger check failed on host",k,I);const H=r.current?(await fs.create()).getIdentity():void 0,Q=await V(H,k);o.current=Q.host,n.current=nn.createActor(ds,{agent:Q.agent,canisterId:io}),e.current=nn.createActor(Xa,{agent:Q.agent,canisterId:"vc3iz-viaaa-aaaad-qhokq-cai"});const[G,Z]=await Promise.all([l(n.current.icrc1_symbol(),2500),l(n.current.icrc1_decimals(),2500)]);console.log("[ICRC1:retied] host:",Q.host,"symbol:",G,"decimals:",Z)}}function D(m,k){const I=document.getElementById("btn-login"),H=document.getElementById("who");!I||!H||(m?(I.classList.add("signed-in"),I.textContent=" Signed in",H.textContent=k||H.textContent||""):(I.classList.remove("signed-in"),I.textContent="Sign in",H.textContent="Not signed in"))}function L(){var I;const m=((I=r.current)==null?void 0:I.toText())??"",k=document.getElementById("walletAddr");k&&(k.textContent=m)}async function z(m={}){const k=r.current;if(!k)return;const I=async()=>{await P(n.current,o.current||"(unknown)");try{const H=await l(n.current.icrc1_balance_of({account:{owner:k,subaccount:[]}}),3e3);c.current=H,ae((Number(H)/1e8).toFixed(4)),console.log(`[BALANCE] host=${o.current} principal=${k.toText()} e8s=${H.toString()}`)}catch(H){try{const Q=await Yl({identity:i.current,host:o.current||Zl[0]}),{balance:G}=U8.create({agent:Q,canisterId:Oe.fromText(io)}),Z=await G({owner:k,certified:!0});c.current=Z??0n,ae((Number(Z??0n)/1e8).toFixed(4)),console.log(`[BALANCE:fallback] host=${o.current} principal=${k.toText()} e8s=${(Z??0n).toString()}`)}catch(Q){throw console.warn("[BALANCE] both primary and fallback failed",H,Q),Q}}};try{if(ae("loading"),!m.hardRetry)await I();else try{await I()}catch(H){console.warn("[BALANCE] current host failed:",o.current,H);let Q=H;const G=(await fs.create()).getIdentity(),Z=new Set(o.current?[o.current]:[]);for(const le of Zl)if(!Z.has(le))try{const{agent:pe}=await V(G,o.current||void 0);o.current=le,n.current=nn.createActor(ds,{agent:pe,canisterId:io}),await P(n.current,le);const Te=await l(n.current.icrc1_balance_of({account:{owner:k,subaccount:[]}}),3e3);c.current=Te,ae((Number(Te)/1e8).toFixed(4)),console.log(`[BALANCE:retied] host=${le} principal=${k.toText()} e8s=${Te.toString()}`),Q=null;break}catch(pe){console.warn("[BALANCE] retry host failed:",le,pe),Q=pe,Z.add(le)}if(Q)throw Q}}catch(H){console.error("[BALANCE] refresh failed:",H),ae(""),me(`Balance refresh failed: ${String((H==null?void 0:H.message)||H)}`,"error")}ie(d.current,!!v.current)}function ae(m){const k=document.getElementById("balance");if(k){if(m===null){k.textContent="Balance:  ICP";return}if(m==="loading"){k.textContent="Balance: loading";return}k.textContent=`Balance: ${m} ICP`}}async function se(m){const k=await m.get_canvas_chunk(0,0,Vt,Yn),{ctx:I}=de(),H=I.createImageData(Vt,Yn);let Q=0;for(let G=0;G<Vt*Yn;G++){const Z=G*4,le=k[Q++]>>>0;H.data[Z+0]=le>>>24&255,H.data[Z+1]=le>>>16&255,H.data[Z+2]=le>>>8&255,H.data[Z+3]=le>>>0&255}I.putImageData(H,0,0)}async function X(m){const{ctx:k}=de(),I=[];for(let Z=0;Z<Yn;Z+=Qa)for(let le=0;le<Vt;le+=Qa)I.push({x:le,y:Z,w:Math.min(Qa,Vt-le),h:Math.min(Qa,Yn-Z)});let H=0;const Q=16,G=async()=>{for(;H<I.length;){const Z=I[H++],le=await m.get_canvas_chunk(Z.x,Z.y,Z.w,Z.h),pe=k.createImageData(Z.w,Z.h);let Te=0;for(let be=0;be<Z.h;be++)for(let Ie=0;Ie<Z.w;Ie++){const xe=(be*Z.w+Ie)*4,ke=le[Te++]>>>0;pe.data[xe+0]=ke>>>24&255,pe.data[xe+1]=ke>>>16&255,pe.data[xe+2]=ke>>>8&255,pe.data[xe+3]=ke>>>0&255}k.putImageData(pe,Z.x,Z.y)}};await Promise.all(Array.from({length:Q},()=>G()))}async function ne(m,k,I){var Q;const H=I*Vt+k;try{if(typeof(m==null?void 0:m.get_link_at)=="function"){const G=await m.get_link_at(k,I),Z=Array.isArray(G)?G[0]:G==null?void 0:G[0];return typeof Z=="string"?Z:null}if(typeof(m==null?void 0:m.get_link)=="function"){const G=await m.get_link(H),Z=Array.isArray(G)?G[0]:G==null?void 0:G[0];return typeof Z=="string"?Z:null}if(typeof(m==null?void 0:m.get_pixel)=="function"){const G=await m.get_pixel(H),Z=(Q=G==null?void 0:G.link)==null?void 0:Q[0];return typeof Z=="string"?Z:null}}catch(G){console.warn("fetchLinkAt failed",G)}return null}function ce(){const{base:m}=de();m._ombbClickWired||(m._ombbClickWired=!0,m.addEventListener("click",async k=>{if(d.current||v.current)return;let I=e.current;if(!I)try{const{agent:Te}=await V();I=nn.createActor(Xa,{agent:Te,canisterId:E})}catch{return}const H=m.getBoundingClientRect(),Q=m.width/H.width,G=m.height/H.height,Z=Math.floor((k.clientX-H.left)*Q),le=Math.floor((k.clientY-H.top)*G);if(Z<0||le<0||Z>=Vt||le>=Yn)return;const pe=await ne(I,Z,le);pe&&window.open(pe,"_blank","noopener")}))}function de(){const m=document.getElementById("root");if(!document.getElementById("canvas-base")){m.style.position="relative";const Q=document.createElement("canvas");Q.id="canvas-base",Q.width=Vt,Q.height=Yn,Q.style.border="1px solid #25344c",Q.style.display="block",Q.style.cursor="crosshair",Q.style.borderRadius="12px",Q.style.background="#ffffff",Q.style.position="relative",Q.style.zIndex="0",m.appendChild(Q);const G=document.createElement("canvas");G.id="canvas-marquee",G.width=Vt,G.height=Yn,G.style.position="absolute",G.style.inset="0",G.style.pointerEvents="none",G.style.zIndex="1",m.appendChild(G);const Z=document.createElement("canvas");Z.id="canvas-preview",Z.width=Vt,Z.height=Yn,Z.style.position="absolute",Z.style.inset="0",Z.style.pointerEvents="none",Z.style.zIndex="2",m.appendChild(Z)}const k=document.getElementById("canvas-base"),I=document.getElementById("canvas-marquee"),H=document.getElementById("canvas-preview");return{base:k,ctx:k.getContext("2d"),marquee:I,mctx:I.getContext("2d"),preview:H,pctx:H.getContext("2d")}}function we(){var G,Z;const m=document.getElementById("previewBar"),k=document.getElementById("previewMeta"),I=document.getElementById("btn-apply-pay"),H=document.getElementById("btn-preview-cancel");p.current=m,x.current=k,F.current=I,W.current=H;let Q=document.getElementById("linkInput");!Q&&m&&(Q=document.createElement("input"),Q.type="url",Q.id="linkInput",Q.placeholder="https://your-link (required)",Q.required=!0,Q.autocomplete="url",Q.style.marginLeft="10px",Q.style.marginRight="10px",Q.style.minWidth="240px",Q.style.maxWidth="46vw",Q.style.padding="8px 10px",Q.style.border="1px solid #233046",Q.style.borderRadius="10px",Q.style.background="#0e1420",Q.style.color="#e6e9ef",I&&I.parentElement===m?m.insertBefore(Q,I):m.appendChild(Q)),T.current=Q,(G=T.current)==null||G.addEventListener("input",()=>{ie(d.current,!!v.current)}),(Z=document.getElementById("balance"))==null||Z.addEventListener("click",()=>z({hardRetry:!0}))}function J(){var m;(m=p.current)==null||m.classList.add("show")}function re(){var m;(m=p.current)==null||m.classList.remove("show")}function ie(m,k){var Ie;if(!m){re();return}J();const I=(m.x1-m.x0+1)*(m.y1-m.y0+1),H=f(m),Q=c.current>=H,G=Math.max(0,Number(H-c.current)/1e8),Z=`${k?"Preview":"Selected"} ${I} px  Est. ${h(H)} ICP`,le=Q?"":`  Need ${G.toFixed(4)} ICP`;x.current&&(x.current.textContent=`${Z}${le}`);const pe=(((Ie=T.current)==null?void 0:Ie.value)||"").trim(),Te=O(pe);F.current&&(F.current.disabled=!Te,F.current.title=Te?"":"Enter a valid link (http/https)");const be=document.getElementById("affordMsg");be&&(be.style.display=Q?"none":"inline")}function oe(m){d.current=m;try{sessionStorage.setItem(Pp,JSON.stringify(m))}catch{}ie(m,!!v.current)}function te(){try{const m=sessionStorage.getItem(Pp);if(!m)return null;const k=JSON.parse(m);if(Number.isFinite(k.x0)&&Number.isFinite(k.y0)&&Number.isFinite(k.x1)&&Number.isFinite(k.y1))return Be(k)}catch{}return null}function Ne(){const m=document.getElementById("canvas-base");if(!m)return;const k=m.style.borderColor;m.style.borderColor="#ff6b6b",m.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{m.style.borderColor=k||"#25344c"},650)}function A(m){const{marquee:k,mctx:I}=de();k.width=k.width,I.setLineDash([6,4]),I.strokeStyle="#00b3ff",I.lineWidth=1,I.strokeRect(m.x0+.5,m.y0+.5,m.x1-m.x0+1,m.y1-m.y0+1),I.fillStyle="rgba(0,179,255,0.15)",I.fillRect(m.x0,m.y0,m.x1-m.x0+1,m.y1-m.y0+1);const H=m.x1-m.x0+1,Q=m.y1-m.y0+1,G=`${H}${Q} (${H*Q})`;I.font="12px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace";const Z=4,le=I.measureText(G).width,pe=Math.min(m.x0+6,Vt-le-Z*2-4),Te=Math.max(m.y0-8,12);I.fillStyle="rgba(0,0,0,0.6)",I.fillRect(pe-Z,Te-12,le+Z*2,16),I.fillStyle="#e6e9ef",I.fillText(G,pe,Te);const be=document.getElementById("selectedCount");be&&(be.textContent=G)}function Se(){const{base:m}=de();let k=!1,I=0,H=0;const Q=pe=>{var qe,at;const Te=m.getBoundingClientRect(),be=((qe=pe.touches)==null?void 0:qe[0])||((at=pe.changedTouches)==null?void 0:at[0]),Ie=be?be.clientX:pe.clientX,xe=be?be.clientY:pe.clientY,ke=_e(Math.floor(Ie-Te.left),0,Vt-1),Ae=_e(Math.floor(xe-Te.top),0,Yn-1);return{x:ke,y:Ae}},G=pe=>{pe.preventDefault();const{x:Te,y:be}=Q(pe);I=Te,H=be,k=!0,oe({x0:I,y0:H,x1:I,y1:H}),A(d.current)},Z=pe=>{if(!k)return;const{x:Te,y:be}=Q(pe),Ie=Be({x0:I,y0:H,x1:Te,y1:be});oe(Ie),A(Ie)},le=pe=>{if(!k)return;k=!1;const{x:Te,y:be}=Q(pe),Ie=Be({x0:I,y0:H,x1:Te,y1:be});oe(Ie),A(Ie),U(),v.current=null,ue(),ie(Ie,!1)};m.addEventListener("mousedown",G),m.addEventListener("mousemove",Z),window.addEventListener("mouseup",le),m.addEventListener("touchstart",G,{passive:!1}),m.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",le)}function Ce(){var k,I,H;const m=document.getElementById("btn-login");m==null||m.addEventListener("click",Q=>{!!r.current||(Q.preventDefault(),M())}),(k=document.getElementById("btn-claim-link"))==null||k.addEventListener("click",()=>{var G;if(!(d.current||te())){Ne();return}(G=T.current)==null||G.focus(),ge()}),(I=document.getElementById("btn-upload-trigger"))==null||I.addEventListener("click",()=>{if(!(d.current||te())){Ne();return}ye()}),(H=document.getElementById("btn-paint"))==null||H.addEventListener("click",()=>{if(!(d.current||te())){Ne();return}B()})}function Fe(m){const k=document.getElementById(m);k&&k.remove()}function ye(m){const k=d.current||te();if(!k){Ne();return}const I=k.x1-k.x0+1,H=k.y1-k.y0+1;Fe("uploadModal");const Q=document.createElement("div");Q.id="uploadModal",Object.assign(Q.style,{position:"fixed",inset:"0",background:"rgba(0,0,0,.6)",display:"grid",placeItems:"center",zIndex:"9999"});const G=document.createElement("div");Object.assign(G.style,{background:"#121826",padding:"16px",borderRadius:"12px",border:"1px solid #1f2a3b",color:"#e6e9ef",width:"min(92vw, 900px)"});const Z=document.createElement("div");Z.textContent=`Upload Image  fits ${I}${H}px`,Object.assign(Z.style,{fontWeight:"600",marginBottom:"10px"});const le=document.createElement("div");Object.assign(le.style,{border:"1px dashed #2b3b56",background:"#0e1420",color:"#b9c2d0",borderRadius:"12px",padding:"18px",textAlign:"center",cursor:"pointer"}),le.innerHTML=`<div style="font-weight:600;margin-bottom:6px;">Drop image here or click to choose</div>
      <div style="font-size:12px;opacity:.8">PNG, JPG, GIF. It will stretch to fill ${I}${H} pixels.</div>`;const pe=document.createElement("input");pe.type="file",pe.accept="image/*",pe.style.display="none";const Te=document.createElement("div");Object.assign(Te.style,{marginTop:"12px",display:"grid",placeItems:"center"});const be=document.createElement("canvas"),Ie=Math.min(800,Math.max(300,Math.max(I,H)*20)),xe=Math.max(1,Math.floor(Ie/Math.max(I,H)));be.width=I*xe,be.height=H*xe,Object.assign(be.style,{imageRendering:"pixelated",border:"1px solid #25344c",background:"#ffffff",maxWidth:"100%",maxHeight:"60vh"});let ke=document.createElement("canvas");ke.width=I,ke.height=H;const Ae=document.createElement("div");Object.assign(Ae.style,{marginTop:"12px",display:"flex",gap:"8px",justifyContent:"flex-end",flexWrap:"wrap"});const qe=document.createElement("button");qe.textContent="Use this image",qe.className="pill",qe.disabled=!0;const at=document.createElement("button");at.textContent="Cancel",at.className="pill ghost",Te.appendChild(be),G.appendChild(Z),G.appendChild(le),G.appendChild(pe),G.appendChild(Te),Ae.appendChild(qe),Ae.appendChild(at),G.appendChild(Ae),Q.appendChild(G),document.body.appendChild(Q);const Ze=be.getContext("2d"),Ht=Le=>{const Xe=ke.getContext("2d");Xe.imageSmoothingEnabled=!0,Xe.clearRect(0,0,I,H),Xe.drawImage(Le,0,0,I,H),Ze.imageSmoothingEnabled=!1,Ze.clearRect(0,0,be.width,be.height),Ze.drawImage(ke,0,0,be.width,be.height),qe.disabled=!1},Re=async Le=>{if(!Le)return;let Xe="";try{Xe=URL.createObjectURL(Le);const mt=new Image;await new Promise((Qe,Kt)=>{mt.onload=()=>Qe(),mt.onerror=()=>Kt(new Error("image load failed")),mt.src=Xe}),Ht(mt)}catch{alert("Failed to load image.")}finally{Xe&&URL.revokeObjectURL(Xe)}};le.addEventListener("click",()=>pe.click()),pe.addEventListener("change",Le=>{var mt;const Xe=(mt=Le.target.files)==null?void 0:mt[0];Xe&&Re(Xe),pe.value=""}),le.addEventListener("dragover",Le=>{Le.preventDefault(),le.style.borderColor="#3ea8ff"}),le.addEventListener("dragleave",()=>{le.style.borderColor="#2b3b56"}),le.addEventListener("drop",Le=>{var mt,Qe;Le.preventDefault(),le.style.borderColor="#2b3b56";const Xe=(Qe=(mt=Le.dataTransfer)==null?void 0:mt.files)==null?void 0:Qe[0];Xe&&Re(Xe)}),qe.onclick=()=>{if(!ke){alert("No image loaded yet.");return}const Le=document.createElement("canvas");Le.width=ke.width,Le.height=ke.height,Le.getContext("2d").drawImage(ke,0,0),R(k,Le),Q.remove(),K()},at.onclick=()=>Q.remove()}function ge(){const m=d.current||te();if(!m){Ne();return}const k=(m.x1-m.x0+1)*(m.y1-m.y0+1),I=f(m),H=c.current>=I,Q=Math.max(0,Number(I-c.current)/1e8);Fe("chooserModal");const G=document.createElement("div");G.id="chooserModal",Object.assign(G.style,{position:"fixed",inset:"0",background:"rgba(0,0,0,.6)",display:"grid",placeItems:"center",zIndex:"9999"});const Z=document.createElement("div");Object.assign(Z.style,{background:"#121826",padding:"12px",border:"1px solid #1f2a3b",borderRadius:"10px",color:"#e6e9ef",minWidth:"min(92vw, 460px)"});const le=document.createElement("div");le.style.margin="2px 0 10px 0",le.innerHTML=`Selection: <strong>${k}</strong> px  Estimated cost <strong>${h(I)} ICP</strong>`+(H?"":`  <span style="color:#ff6b6b">Need ${Q.toFixed(4)} ICP</span>`);const pe=document.createElement("div");Object.assign(pe.style,{display:"flex",gap:"8px",flexWrap:"wrap"});const Te=document.createElement("button");Te.className="pill",Te.textContent="Upload Image";const be=document.createElement("button");be.className="pill",be.textContent="Freeform Paint";const Ie=document.createElement("button");Ie.className="pill",Ie.textContent="Close",pe.appendChild(Te),pe.appendChild(be),pe.appendChild(Ie),Z.appendChild(le),Z.appendChild(pe),G.appendChild(Z),document.body.appendChild(G),Te.onclick=()=>{G.remove(),ye()},be.onclick=()=>{G.remove(),B()},Ie.onclick=()=>G.remove()}function B(){const m=d.current||te();if(!m){Ne();return}const k=m.x1-m.x0+1,I=m.y1-m.y0+1;Fe("paintModal");const H=document.createElement("div");H.id="paintModal",Object.assign(H.style,{position:"fixed",inset:"0",background:"rgba(0,0,0,.6)",display:"grid",placeItems:"center",zIndex:"9999"});const Q=document.createElement("div");Object.assign(Q.style,{background:"#121826",padding:"12px",borderRadius:"10px",border:"1px solid #1f2a3b",color:"#e6e9ef",minWidth:"min(92vw, 900px)"});const G=document.createElement("canvas");G.width=k,G.height=I;const Z=G.getContext("2d"),le=document.createElement("canvas"),pe=Math.min(800,Math.max(300,Math.max(k,I)*20)),Te=Math.max(1,Math.floor(pe/Math.max(k,I)));le.width=k*Te,le.height=I*Te,Object.assign(le.style,{imageRendering:"pixelated",border:"1px solid #25344c",background:"#ffffff",maxWidth:"92vw",maxHeight:"70vh"});const be=document.createElement("div");be.style.marginTop="8px";const Ie=document.createElement("input");Ie.type="color",Ie.value="#ff0000",Ie.style.marginRight="8px";const xe=document.createElement("input");xe.type="range",xe.min="1",xe.max=String(Math.max(10,Math.floor(Math.max(k,I)/20))),xe.value="1";const ke=document.createElement("button");ke.textContent="Preview on billboard",ke.className="pill",ke.style.margin="0 8px";const Ae=document.createElement("button");Ae.textContent="Cancel",Ae.className="pill",Q.appendChild(le),be.appendChild(Ie),be.appendChild(xe),be.appendChild(ke),be.appendChild(Ae),Q.appendChild(be),H.appendChild(Q),document.body.appendChild(H);const qe=le.getContext("2d"),at=()=>{qe.imageSmoothingEnabled=!1,qe.clearRect(0,0,le.width,le.height),qe.drawImage(G,0,0,le.width,le.height)};at();let Ze=!1;const Ht=Qe=>{Ze=!0,mt(Qe)},Re=Qe=>{Ze&&mt(Qe)},Le=()=>{Ze=!1},Xe=()=>{Ze=!1};le.addEventListener("mousedown",Ht),le.addEventListener("mousemove",Re),window.addEventListener("mouseup",Le),le.addEventListener("mouseleave",Xe);function mt(Qe){const Kt=le.getBoundingClientRect(),yi=Math.floor((Qe.clientX-Kt.left)/Te),es=Math.floor((Qe.clientY-Kt.top)/Te);Z.fillStyle=Ie.value;const Je=parseInt(xe.value,10);Z.fillRect(yi,es,Je,Je),at()}ke.onclick=()=>{const Qe=document.createElement("canvas");Qe.width=G.width,Qe.height=G.height,Qe.getContext("2d").drawImage(G,0,0),R(m,Qe),H.remove(),K()},Ae.onclick=()=>H.remove()}function R(m,k){const{pctx:I,preview:H}=de();H.width=H.width,I.imageSmoothingEnabled=!1,I.globalCompositeOperation="source-over",I.drawImage(k,m.x0,m.y0),v.current={rect:m,work:k},ie(m,!0)}function U(){const{preview:m}=de();m.width=m.width}function K(){var m,k;J(),(m=p.current)==null||m.scrollIntoView({behavior:"smooth",block:"nearest"}),(k=T.current)==null||k.focus(),me("Preview applied. Add your link, then Pay & Apply.","info")}async function q(){var be,Ie,xe,ke,Ae,qe;if(w.current)return;const m=e.current,k=n.current,I=r.current;if(!m||!k||!I){alert("Please sign in first.");return}const H=(((be=T.current)==null?void 0:be.value)||"").trim();if(!O(H)){alert("Please enter a valid link (http/https)."),(Ie=T.current)==null||Ie.focus();return}const Q=((xe=v.current)==null?void 0:xe.rect)||d.current||te(),G=((ke=v.current)==null?void 0:ke.work)||null;if(!Q){Ne();return}const Z=f(Q),le=await u(k),pe=Z+le;if(c.current<pe){const at=(Number(pe-c.current)/1e8).toFixed(4);alert(`You need ${at} ICP (incl. fee) to purchase this area.`),ie(Q,!!v.current);return}w.current=!0;const Te=c.current;c.current=Te-pe,ae((Number(c.current)/1e8).toFixed(4));try{F.current&&(F.current.disabled=!0);const at=Re=>{c.current=Te,ae((Number(Te)/1e8).toFixed(4)),F.current&&(F.current.disabled=!1),w.current=!1,Re&&alert(Re)};me("Sending payment","info");const Ze=await y(k,Z,le);if(Ze===null)return at("Payment failed  please try again.");console.log("[PAY OK] block_index =",((Ae=Ze==null?void 0:Ze.toString)==null?void 0:Ae.call(Ze))??Ze),me("Payment confirmed. Claiming","success"),setTimeout(()=>z({hardRetry:!0}),1200);const Ht=g(Q);for(let Re=0;Re<Ht.length;Re+=Cp)await m.claim_pixels(Ht.slice(Re,Re+Cp),[H]);if(G){me("Applying your design","info");const Re=G.width,Le=G.height,Xe=G.getContext("2d").getImageData(0,0,Re,Le).data,mt=[];let Qe=0;for(let Kt=Q.y0;Kt<=Q.y1;Kt++)for(let yi=Q.x0;yi<=Q.x1;yi++){const es=Xe[Qe++],Je=Xe[Qe++],Wu=Xe[Qe++],Du=Xe[Qe++],Yu=(es<<24|Je<<16|Wu<<8|Du)>>>0;mt.push({index:Kt*Vt+yi,color:Yu})}for(let Kt=0;Kt<mt.length;Kt+=Up)await m.paint(mt.slice(Kt,Kt+Up))}try{await se(e.current??m)}catch{}s.current=o.current,a.current=Date.now()+6e4;try{await Y(m,Q,G,H,15e3)||console.warn("Visibility check timed out; drawing anyway.")}catch(Re){console.warn("Visibility check error",Re);try{await se(m)}catch{}}U(),v.current=null,ue(),ie(d.current,!1),s.current=o.current,a.current=Date.now()+6e4,me("Purchase complete! Your changes are live.","success");try{const Re=e.current,Le=d.current||(typeof te=="function"?te():null),Xe=Le?{x0:Math.min(Le.x0,Le.x1),y0:Math.min(Le.y0,Le.y1),x1:Math.max(Le.x0,Le.x1),y1:Math.max(Le.y0,Le.y1)}:null,mt=document.getElementById("canvas-preview"),Qe=(((qe=document.getElementById("link-input"))==null?void 0:qe.value)||"").trim();Re&&Xe&&await t(Re,Xe,mt,Qe)}catch(Re){console.warn("[commit after pay] failed",Re)}}catch(at){console.error("applyPay fatal",at),revert("Something went wrong during payment.");return}finally{F.current&&(F.current.disabled=!1),w.current=!1}}async function Y(m,k,I,H,Q=15e3){const G=Date.now(),Z=[],le=Math.floor((k.x0+k.x1)/2),pe=Math.floor((k.y0+k.y1)/2),Te=[{x:k.x0,y:k.y0},{x:k.x1,y:k.y0},{x:k.x0,y:k.y1},{x:k.x1,y:k.y1},{x:le,y:pe}];if(I){const xe=I.width,ke=I.height,Ae=I.getContext("2d");for(const qe of Te){const at=Math.min(xe-1,Math.max(0,qe.x-k.x0)),Ze=Math.min(ke-1,Math.max(0,qe.y-k.y0)),Ht=Ae.getImageData(at,Ze,1,1).data,Re=((Ht[0]&255)<<24|(Ht[1]&255)<<16|(Ht[2]&255)<<8|Ht[3]&255)>>>0;Z.push({x:qe.x,y:qe.y,rgba:Re})}}else Z.push(...Te);async function be(){try{const xe=await ne(m,le,pe);if(H&&xe!==H)return!1}catch{}if(Z.length&&typeof(m==null?void 0:m.get_pixel)=="function")for(const xe of Z){if(xe.rgba===void 0)continue;const ke=xe.y*Vt+xe.x,Ae=await m.get_pixel(ke);if(((Ae==null?void 0:Ae.color)??Ae)>>>0!==xe.rgba)return!1}return!0}let Ie=250;for(;Date.now()-G<Q;){try{if(await be())return!0}catch{}await new Promise(xe=>setTimeout(xe,Ie)),Ie=Math.min(1200,Math.round(Ie*1.3))}return!1}async function y(m,k,I){if(typeof(m==null?void 0:m.icrc1_transfer)!="function")return alert("Ledger interface is outdated. Please rebuild with ICRC-1 ledger.idl.ts and hard refresh."),null;const H=async G=>await m.icrc1_transfer({from_subaccount:[],to:{owner:V8,subaccount:[]},amount:k,fee:[G.fee],memo:[],created_at_time:G.withTime?[_()]:[]});let Q=I;try{let G=await H({fee:Q,withTime:!0});if(G&&"Ok"in G)return G.Ok;if(G&&"Err"in G){const Z=G.Err;return console.warn("icrc1_transfer Err (withTime=true):",Z),C(Z,"BadFee")&&(Q=await u(m,!0),G=await H({fee:Q,withTime:!0}),"Ok"in G)||(C(Z,"CreatedInFuture")||C(Z,"TooOld"))&&(G=await H({fee:Q,withTime:!1}),"Ok"in G)||C(Z,"TemporarilyUnavailable")&&(await N(400),G=await H({fee:Q,withTime:!1}),"Ok"in G)?G.Ok:C(Z,"InsufficientFunds")?(alert("Ledger says: Insufficient funds (amount + fee)."),null):C(Z,"Duplicate")?(me("Payment already submitted (duplicate). Check your wallet history.","info"),null):(alert("Ledger rejected transfer: "+ee(Z)),null)}}catch(G){console.error("icrc1_transfer threw:",G);try{const Z=await H({fee:Q,withTime:!1});if(Z&&"Ok"in Z)return Z.Ok;if(Z&&"Err"in Z)return alert("Ledger rejected transfer: "+ee(Z.Err)),null}catch(Z){return console.error("icrc1_transfer fallback threw:",Z),alert("Transfer failed (network/decoding): "+String((Z==null?void 0:Z.message)||Z)),null}}return alert("Transfer failed for an unknown reason. Check console for details."),null}async function u(m,k=!1){try{if(!k&&u._cache)return u._cache;if(typeof m.icrc1_fee=="function"){const H=await m.icrc1_fee();return u._cache=H,H}if(typeof m.icrc1_metadata=="function"){const Q=(await m.icrc1_metadata()).find(([G])=>G.toLowerCase()==="icrc1:fee");if(Q&&Array.isArray(Q[1])&&"Nat"in Q[1]){const G=BigInt(Q[1].Nat);return u._cache=G,G}}}catch{}const I=10000n;return u._cache=I,I}function l(m,k){const I=new AbortController,H=setTimeout(()=>I.abort(),k);return Promise.race([m.finally(()=>clearTimeout(H)),new Promise((Q,G)=>setTimeout(()=>G(new Error("timeout")),k))])}function _(){return BigInt(Date.now())*1000000n}function N(m){return new Promise(k=>setTimeout(k,m))}function C(m,k){return m&&typeof m=="object"&&k in m}function ee(m){try{return JSON.stringify(m)}catch{return String(m)}}function ue(){window.dispatchEvent(new CustomEvent("ic:preview:off"))}function me(m,k="info"){const I=document.getElementById("toastHost")||(()=>{const Z=document.createElement("div");return Z.id="toastHost",Object.assign(Z.style,{position:"fixed",top:"16px",left:"50%",transform:"translateX(-50%)",zIndex:"10000",display:"grid",gap:"8px"}),document.body.appendChild(Z),Z})(),H=document.createElement("div"),Q=k==="success"?"#183a24":k==="error"?"#3a1818":"#182033",G=k==="success"?"#1f6b36":k==="error"?"#7a2c2c":"#2a3a5c";H.textContent=m,Object.assign(H.style,{background:Q,color:"#e6e9ef",border:`1px solid ${G}`,padding:"8px 12px",borderRadius:"10px",fontSize:"14px",boxShadow:"0 6px 20px rgba(0,0,0,.35)"}),I.appendChild(H),setTimeout(()=>{H.style.opacity="0",H.style.transition="opacity .2s",setTimeout(()=>{H.remove()},220)},2200)}function _e(m,k,I){return Math.max(k,Math.min(I,m))}function Be(m){const k=Math.min(m.x0,m.x1),I=Math.max(m.x0,m.x1),H=Math.min(m.y0,m.y1),Q=Math.max(m.y0,m.y1);return{x0:k,y0:H,x1:I,y1:Q}}function g(m){const k=[];for(let I=m.y0;I<=m.y1;I++)for(let H=m.x0;H<=m.x1;H++)k.push(I*Vt+H);return k}function f(m){const k=(m.x1-m.x0+1)*(m.y1-m.y0+1);return BigInt(k)*M8}function h(m){return(Number(m)/1e8).toFixed(4)}function O(m){try{const k=new URL(m);return k.protocol==="http:"||k.protocol==="https:"}catch{return!1}}return null}const $8=rh(document.getElementById("root"));$8.render(Dp.jsx(pw,{}));const z8=rh(document.getElementById("root"));z8.render(Dp.jsx(pw,{}));
